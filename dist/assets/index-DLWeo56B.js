(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vd={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function C1(){if(E0)return he;E0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function D(w,q,Q){this.props=w,this.context=q,this.refs=N,this.updater=Q||b}D.prototype.isReactComponent={},D.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function x(){}x.prototype=D.prototype;function H(w,q,Q){this.props=w,this.context=q,this.refs=N,this.updater=Q||b}var L=H.prototype=new x;L.constructor=H,S(L,D.prototype),L.isPureReactComponent=!0;var W=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(w,q,Q,z,ne,Te){return Q=Te.ref,{$$typeof:t,type:w,key:q,ref:Q!==void 0?Q:null,props:Te}}function $(w,q){return Z(w.type,q,void 0,void 0,void 0,w.props)}function re(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Se(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return q[Q]})}var Ge=/\/+/g;function He(w,q){return typeof w=="object"&&w!==null&&w.key!=null?Se(""+w.key):q.toString(36)}function _n(){}function Gt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(_n,_n):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function tt(w,q,Q,z,ne){var Te=typeof w;(Te==="undefined"||Te==="boolean")&&(w=null);var ce=!1;if(w===null)ce=!0;else switch(Te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(w.$$typeof){case t:case e:ce=!0;break;case g:return ce=w._init,tt(ce(w._payload),q,Q,z,ne)}}if(ce)return ne=ne(w),ce=z===""?"."+He(w,0):z,W(ne)?(Q="",ce!=null&&(Q=ce.replace(Ge,"$&/")+"/"),tt(ne,q,Q,"",function(On){return On})):ne!=null&&(re(ne)&&(ne=$(ne,Q+(ne.key==null||w&&w.key===ne.key?"":(""+ne.key).replace(Ge,"$&/")+"/")+ce)),q.push(ne)),1;ce=0;var Dt=z===""?".":z+":";if(W(w))for(var Ue=0;Ue<w.length;Ue++)z=w[Ue],Te=Dt+He(z,Ue),ce+=tt(z,q,Q,Te,ne);else if(Ue=_(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!(z=w.next()).done;)z=z.value,Te=Dt+He(z,Ue++),ce+=tt(z,q,Q,Te,ne);else if(Te==="object"){if(typeof w.then=="function")return tt(Gt(w),q,Q,z,ne);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function U(w,q,Q){if(w==null)return w;var z=[],ne=0;return tt(w,z,"","",function(Te){return q.call(Q,Te,ne++)}),z}function Y(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function we(){}return he.Children={map:U,forEach:function(w,q,Q){U(w,function(){q.apply(this,arguments)},Q)},count:function(w){var q=0;return U(w,function(){q++}),q},toArray:function(w){return U(w,function(q){return q})||[]},only:function(w){if(!re(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},he.Component=D,he.Fragment=n,he.Profiler=o,he.PureComponent=H,he.StrictMode=r,he.Suspense=d,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return P.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cloneElement=function(w,q,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var z=S({},w.props),ne=w.key,Te=void 0;if(q!=null)for(ce in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(ne=""+q.key),q)!X.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(z[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)z.children=Q;else if(1<ce){for(var Dt=Array(ce),Ue=0;Ue<ce;Ue++)Dt[Ue]=arguments[Ue+2];z.children=Dt}return Z(w.type,ne,void 0,void 0,Te,z)},he.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},he.createElement=function(w,q,Q){var z,ne={},Te=null;if(q!=null)for(z in q.key!==void 0&&(Te=""+q.key),q)X.call(q,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(ne[z]=q[z]);var ce=arguments.length-2;if(ce===1)ne.children=Q;else if(1<ce){for(var Dt=Array(ce),Ue=0;Ue<ce;Ue++)Dt[Ue]=arguments[Ue+2];ne.children=Dt}if(w&&w.defaultProps)for(z in ce=w.defaultProps,ce)ne[z]===void 0&&(ne[z]=ce[z]);return Z(w,Te,void 0,void 0,null,ne)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:h,render:w}},he.isValidElement=re,he.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:Y}},he.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},he.startTransition=function(w){var q=P.T,Q={};P.T=Q;try{var z=w(),ne=P.S;ne!==null&&ne(Q,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(we,ee)}catch(Te){ee(Te)}finally{P.T=q}},he.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},he.use=function(w){return P.H.use(w)},he.useActionState=function(w,q,Q){return P.H.useActionState(w,q,Q)},he.useCallback=function(w,q){return P.H.useCallback(w,q)},he.useContext=function(w){return P.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,q){return P.H.useDeferredValue(w,q)},he.useEffect=function(w,q,Q){var z=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(w,q)},he.useId=function(){return P.H.useId()},he.useImperativeHandle=function(w,q,Q){return P.H.useImperativeHandle(w,q,Q)},he.useInsertionEffect=function(w,q){return P.H.useInsertionEffect(w,q)},he.useLayoutEffect=function(w,q){return P.H.useLayoutEffect(w,q)},he.useMemo=function(w,q){return P.H.useMemo(w,q)},he.useOptimistic=function(w,q){return P.H.useOptimistic(w,q)},he.useReducer=function(w,q,Q){return P.H.useReducer(w,q,Q)},he.useRef=function(w){return P.H.useRef(w)},he.useState=function(w){return P.H.useState(w)},he.useSyncExternalStore=function(w,q,Q){return P.H.useSyncExternalStore(w,q,Q)},he.useTransition=function(){return P.H.useTransition()},he.version="19.1.0",he}var b0;function Ym(){return b0||(b0=1,vd.exports=C1()),vd.exports}var C=Ym();const B=uS(C);var _d={exports:{}},Eo={},Ed={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function w1(){return S0||(S0=1,function(t){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var we=ee-1>>>1,w=U[we];if(0<o(w,Y))U[we]=Y,U[ee]=w,ee=we;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var we=0,w=U.length,q=w>>>1;we<q;){var Q=2*(we+1)-1,z=U[Q],ne=Q+1,Te=U[ne];if(0>o(z,ee))ne<w&&0>o(Te,z)?(U[we]=Te,U[ne]=ee,we=ne):(U[we]=z,U[Q]=ee,we=Q);else if(ne<w&&0>o(Te,ee))U[we]=Te,U[ne]=ee,we=ne;else break e}}return Y}function o(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,y=null,_=3,b=!1,S=!1,N=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(U){for(var Y=n(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=U)r(p),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(p)}}function P(U){if(N=!1,W(U),!S)if(n(d)!==null)S=!0,X||(X=!0,He());else{var Y=n(p);Y!==null&&tt(P,Y.startTime-U)}}var X=!1,Z=-1,$=5,re=-1;function Se(){return D?!0:!(t.unstable_now()-re<$)}function Ge(){if(D=!1,X){var U=t.unstable_now();re=U;var Y=!0;try{e:{S=!1,N&&(N=!1,H(Z),Z=-1),b=!0;var ee=_;try{t:{for(W(U),y=n(d);y!==null&&!(y.expirationTime>U&&Se());){var we=y.callback;if(typeof we=="function"){y.callback=null,_=y.priorityLevel;var w=we(y.expirationTime<=U);if(U=t.unstable_now(),typeof w=="function"){y.callback=w,W(U),Y=!0;break t}y===n(d)&&r(d),W(U)}else r(d);y=n(d)}if(y!==null)Y=!0;else{var q=n(p);q!==null&&tt(P,q.startTime-U),Y=!1}}break e}finally{y=null,_=ee,b=!1}Y=void 0}}finally{Y?He():X=!1}}}var He;if(typeof L=="function")He=function(){L(Ge)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,Gt=_n.port2;_n.port1.onmessage=Ge,He=function(){Gt.postMessage(null)}}else He=function(){x(Ge,0)};function tt(U,Y){Z=x(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ee=_;_=Y;try{return U()}finally{_=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=_;_=U;try{return Y()}finally{_=ee}},t.unstable_scheduleCallback=function(U,Y,ee){var we=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,U={id:g++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:w,sortIndex:-1},ee>we?(U.sortIndex=ee,e(p,U),n(d)===null&&U===n(p)&&(N?(H(Z),Z=-1):N=!0,tt(P,ee-we))):(U.sortIndex=w,e(d,U),S||b||(S=!0,X||(X=!0,He()))),U},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(U){var Y=_;return function(){var ee=_;_=Y;try{return U.apply(this,arguments)}finally{_=ee}}}}(bd)),bd}var T0;function A1(){return T0||(T0=1,Ed.exports=w1()),Ed.exports}var Sd={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function R1(){if(C0)return Rt;C0=1;var t=Ym();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(d,p,null,g)},Rt.flushSync=function(d){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=g,r.d.f()}},Rt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Rt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Rt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Rt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Rt.requestFormReset=function(d){r.d.r(d)},Rt.unstable_batchedUpdates=function(d,p){return d(p)},Rt.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},Rt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rt.version="19.1.0",Rt}var w0;function x1(){if(w0)return Sd.exports;w0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sd.exports=R1(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function N1(){if(A0)return Eo;A0=1;var t=A1(),e=Ym(),n=x1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(u(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return h(f),i;if(m===l)return h(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,l=m;break}if(E===l){v=!0,l=f,a=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===a){v=!0,a=m,l=f;break}if(E===l){v=!0,l=m,a=f;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function He(i){return i===null||typeof i!="object"?null:(i=Ge&&i[Ge]||i["@@iterator"],typeof i=="function"?i:null)}var _n=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===_n?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case X:return"SuspenseList";case re:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case L:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case W:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return s=i.displayName||null,s!==null?s:Gt(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return Gt(i(s))}catch{}}return null}var tt=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},we=[],w=-1;function q(i){return{current:i}}function Q(i){0>w||(i.current=we[w],we[w]=null,w--)}function z(i,s){w++,we[w]=i.current,i.current=s}var ne=q(null),Te=q(null),ce=q(null),Dt=q(null);function Ue(i,s){switch(z(ce,s),z(Te,i),z(ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?W_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=W_(s),i=X_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ne),z(ne,i)}function On(){Q(ne),Q(Te),Q(ce)}function _a(i){i.memoizedState!==null&&z(Dt,i);var s=ne.current,a=X_(s,i.type);s!==a&&(z(Te,i),z(ne,a))}function Qs(i){Te.current===i&&(Q(ne),Q(Te)),Dt.current===i&&(Q(Dt),po._currentValue=ee)}var Ea=Object.prototype.hasOwnProperty,ba=t.unstable_scheduleCallback,Sa=t.unstable_cancelCallback,rf=t.unstable_shouldYield,af=t.unstable_requestPaint,sn=t.unstable_now,G=t.unstable_getCurrentPriorityLevel,fe=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,nt=t.unstable_IdlePriority,Yt=t.log,Gn=t.unstable_setDisableYieldValue,Kt=null,ct=null;function In(i){if(typeof Yt=="function"&&Gn(i),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Kt,i)}catch{}}var Mt=Math.clz32?Math.clz32:cA,lA=Math.log,uA=Math.LN2;function cA(i){return i>>>=0,i===0?32:31-(lA(i)/uA|0)|0}var xl=256,Nl=4194304;function hs(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Dl(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=hs(l):(v&=E,v!==0?f=hs(v):a||(a=E&~i,a!==0&&(f=hs(a))))):(E=l&~m,E!==0?f=hs(E):v!==0?f=hs(v):a||(a=l&~i,a!==0&&(f=hs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ta(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function fA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mg(){var i=xl;return xl<<=1,(xl&4194048)===0&&(xl=256),i}function Og(){var i=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),i}function of(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ca(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hA(i,s,a,l,f,m){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,T=i.expirationTimes,O=i.hiddenUpdates;for(a=v&~a;0<a;){var V=31-Mt(a),F=1<<V;E[V]=0,T[V]=-1;var I=O[V];if(I!==null)for(O[V]=null,V=0;V<I.length;V++){var k=I[V];k!==null&&(k.lane&=-536870913)}a&=~F}l!==0&&Ig(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~s))}function Ig(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Mt(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function kg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Mt(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function lf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lg(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:m0(i.type))}function dA(i,s){var a=Y.p;try{return Y.p=i,s()}finally{Y.p=a}}var bi=Math.random().toString(36).slice(2),wt="__reactFiber$"+bi,Pt="__reactProps$"+bi,Zs="__reactContainer$"+bi,cf="__reactEvents$"+bi,mA="__reactListeners$"+bi,pA="__reactHandles$"+bi,Pg="__reactResources$"+bi,wa="__reactMarker$"+bi;function ff(i){delete i[wt],delete i[Pt],delete i[cf],delete i[mA],delete i[pA]}function Js(i){var s=i[wt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Zs]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=J_(i);i!==null;){if(a=i[wt])return a;i=J_(i)}return s}i=a,a=i.parentNode}return null}function er(i){if(i=i[wt]||i[Zs]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Aa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function tr(i){var s=i[Pg];return s||(s=i[Pg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(i){i[wa]=!0}var Ug=new Set,Vg={};function ds(i,s){nr(i,s),nr(i+"Capture",s)}function nr(i,s){for(Vg[i]=s,i=0;i<s.length;i++)Ug.add(s[i])}var gA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bg={},zg={};function yA(i){return Ea.call(zg,i)?!0:Ea.call(Bg,i)?!1:gA.test(i)?zg[i]=!0:(Bg[i]=!0,!1)}function Ml(i,s,a){if(yA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Ol(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Yn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var hf,Hg;function ir(i){if(hf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);hf=s&&s[1]||"",Hg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hf+i+Hg}var df=!1;function mf(i,s){if(!i||df)return"";df=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var I=k}Reflect.construct(i,[],F)}else{try{F.call()}catch(k){I=k}i.call(F.prototype)}}else{try{throw Error()}catch(k){I=k}(F=i())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&I&&typeof k.stack=="string")return[k.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var T=v.split(`
`),O=E.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===O.length)for(l=T.length-1,f=O.length-1;1<=l&&0<=f&&T[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==O[f]){var V=`
`+T[l].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=l&&0<=f);break}}}finally{df=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?ir(a):""}function vA(i){switch(i.tag){case 26:case 27:case 5:return ir(i.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 15:return mf(i.type,!1);case 11:return mf(i.type.render,!1);case 1:return mf(i.type,!0);case 31:return ir("Activity");default:return""}}function jg(i){try{var s="";do s+=vA(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _A(i){var s=Fg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Il(i){i._valueTracker||(i._valueTracker=_A(i))}function qg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Fg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var EA=/[\n"\\]/g;function an(i){return i.replace(EA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function pf(i,s,a,l,f,m,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+rn(s)):i.value!==""+rn(s)&&(i.value=""+rn(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?gf(i,v,rn(s)):a!=null?gf(i,v,rn(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+rn(E):i.removeAttribute("name")}function Gg(i,s,a,l,f,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function gf(i,s,a){s==="number"&&kl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function sr(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Yg(i,s,a){if(s!=null&&(s=""+rn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+rn(a):""}function Kg(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(tt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function rr(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var bA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wg(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||bA.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Xg(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Wg(i,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Wg(i,m,s[m])}function yf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(i){return TA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vf=null;function _f(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ar=null,or=null;function $g(i){var s=er(i);if(s&&(i=s.stateNode)){var a=i[Pt]||null;e:switch(i=s.stateNode,s.type){case"input":if(pf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Pt]||null;if(!f)throw Error(r(90));pf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&qg(l)}break e;case"textarea":Yg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&sr(i,!!a.multiple,s,!1)}}}var Ef=!1;function Qg(i,s,a){if(Ef)return i(s,a);Ef=!0;try{var l=i(s);return l}finally{if(Ef=!1,(ar!==null||or!==null)&&(Eu(),ar&&(s=ar,i=or,or=ar=null,$g(s),i)))for(s=0;s<i.length;s++)$g(i[s])}}function Ra(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(Kn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){bf=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{bf=!1}var Si=null,Sf=null,Pl=null;function Zg(){if(Pl)return Pl;var i,s=Sf,a=s.length,l,f="value"in Si?Si.value:Si.textContent,m=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Pl=f.slice(i,1<l?1-l:void 0)}function Ul(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Vl(){return!0}function Jg(){return!1}function Ut(i){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vl:Jg,this.isPropagationStopped=Jg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),s}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Ut(ms),Na=g({},ms,{view:0,detail:0}),CA=Ut(Na),Tf,Cf,Da,zl=g({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Da&&(Da&&i.type==="mousemove"?(Tf=i.screenX-Da.screenX,Cf=i.screenY-Da.screenY):Cf=Tf=0,Da=i),Tf)},movementY:function(i){return"movementY"in i?i.movementY:Cf}}),ey=Ut(zl),wA=g({},zl,{dataTransfer:0}),AA=Ut(wA),RA=g({},Na,{relatedTarget:0}),wf=Ut(RA),xA=g({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=Ut(xA),DA=g({},ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MA=Ut(DA),OA=g({},ms,{data:0}),ty=Ut(OA),IA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=LA[i])?!!s[i]:!1}function Af(){return PA}var UA=g({},Na,{key:function(i){if(i.key){var s=IA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ul(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(i){return i.type==="keypress"?Ul(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ul(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),VA=Ut(UA),BA=g({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=Ut(BA),zA=g({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),HA=Ut(zA),jA=g({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=Ut(jA),qA=g({},zl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=Ut(qA),YA=g({},ms,{newState:0,oldState:0}),KA=Ut(YA),WA=[9,13,27,32],Rf=Kn&&"CompositionEvent"in window,Ma=null;Kn&&"documentMode"in document&&(Ma=document.documentMode);var XA=Kn&&"TextEvent"in window&&!Ma,iy=Kn&&(!Rf||Ma&&8<Ma&&11>=Ma),sy=" ",ry=!1;function ay(i,s){switch(i){case"keyup":return WA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lr=!1;function $A(i,s){switch(i){case"compositionend":return oy(s);case"keypress":return s.which!==32?null:(ry=!0,sy);case"textInput":return i=s.data,i===sy&&ry?null:i;default:return null}}function QA(i,s){if(lr)return i==="compositionend"||!Rf&&ay(i,s)?(i=Zg(),Pl=Sf=Si=null,lr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return iy&&s.locale!=="ko"?null:s.data;default:return null}}var ZA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ZA[i.type]:s==="textarea"}function uy(i,s,a,l){ar?or?or.push(l):or=[l]:ar=l,s=Au(s,"onChange"),0<s.length&&(a=new Bl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Oa=null,Ia=null;function JA(i){F_(i,0)}function Hl(i){var s=Aa(i);if(qg(s))return i}function cy(i,s){if(i==="change")return s}var fy=!1;if(Kn){var xf;if(Kn){var Nf="oninput"in document;if(!Nf){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Nf=typeof hy.oninput=="function"}xf=Nf}else xf=!1;fy=xf&&(!document.documentMode||9<document.documentMode)}function dy(){Oa&&(Oa.detachEvent("onpropertychange",my),Ia=Oa=null)}function my(i){if(i.propertyName==="value"&&Hl(Ia)){var s=[];uy(s,Ia,i,_f(i)),Qg(JA,s)}}function eR(i,s,a){i==="focusin"?(dy(),Oa=s,Ia=a,Oa.attachEvent("onpropertychange",my)):i==="focusout"&&dy()}function tR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hl(Ia)}function nR(i,s){if(i==="click")return Hl(s)}function iR(i,s){if(i==="input"||i==="change")return Hl(s)}function sR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wt=typeof Object.is=="function"?Object.is:sR;function ka(i,s){if(Wt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ea.call(s,f)||!Wt(i[f],s[f]))return!1}return!0}function py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gy(i,s){var a=py(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=py(a)}}function yy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?yy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=kl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=kl(i.document)}return s}function Df(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var rR=Kn&&"documentMode"in document&&11>=document.documentMode,ur=null,Mf=null,La=null,Of=!1;function _y(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||ur==null||ur!==kl(l)||(l=ur,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),La&&ka(La,l)||(La=l,l=Au(Mf,"onSelect"),0<l.length&&(s=new Bl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ur)))}function ps(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var cr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},If={},Ey={};Kn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function gs(i){if(If[i])return If[i];if(!cr[i])return i;var s=cr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ey)return If[i]=s[a];return i}var by=gs("animationend"),Sy=gs("animationiteration"),Ty=gs("animationstart"),aR=gs("transitionrun"),oR=gs("transitionstart"),lR=gs("transitioncancel"),Cy=gs("transitionend"),wy=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function En(i,s){wy.set(i,s),ds(s,[i])}var Ay=new WeakMap;function on(i,s){if(typeof i=="object"&&i!==null){var a=Ay.get(i);return a!==void 0?a:(s={value:i,source:s,stack:jg(s)},Ay.set(i,s),s)}return{value:i,source:s,stack:jg(s)}}var ln=[],fr=0,Lf=0;function jl(){for(var i=fr,s=Lf=fr=0;s<i;){var a=ln[s];ln[s++]=null;var l=ln[s];ln[s++]=null;var f=ln[s];ln[s++]=null;var m=ln[s];if(ln[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&Ry(a,f,m)}}function Fl(i,s,a,l){ln[fr++]=i,ln[fr++]=s,ln[fr++]=a,ln[fr++]=l,Lf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Pf(i,s,a,l){return Fl(i,s,a,l),ql(i)}function hr(i,s){return Fl(i,null,null,s),ql(i)}function Ry(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&s!==null&&(f=31-Mt(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function ql(i){if(50<ao)throw ao=0,jh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var dr={};function uR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(i,s,a,l){return new uR(i,s,a,l)}function Uf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wn(i,s){var a=i.alternate;return a===null?(a=Xt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function xy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gl(i,s,a,l,f,m){var v=0;if(l=i,typeof i=="function")Uf(i)&&(v=1);else if(typeof i=="string")v=f1(i,a,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case re:return i=Xt(31,a,s,f),i.elementType=re,i.lanes=m,i;case S:return ys(a.children,f,m,s);case N:v=8,f|=24;break;case D:return i=Xt(12,a,s,f|2),i.elementType=D,i.lanes=m,i;case P:return i=Xt(13,a,s,f),i.elementType=P,i.lanes=m,i;case X:return i=Xt(19,a,s,f),i.elementType=X,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:case L:v=10;break e;case H:v=9;break e;case W:v=11;break e;case Z:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Xt(v,a,s,f),s.elementType=i,s.type=l,s.lanes=m,s}function ys(i,s,a,l){return i=Xt(7,i,l,s),i.lanes=a,i}function Vf(i,s,a){return i=Xt(6,i,null,s),i.lanes=a,i}function Bf(i,s,a){return s=Xt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mr=[],pr=0,Yl=null,Kl=0,un=[],cn=0,vs=null,Xn=1,$n="";function _s(i,s){mr[pr++]=Kl,mr[pr++]=Yl,Yl=i,Kl=s}function Ny(i,s,a){un[cn++]=Xn,un[cn++]=$n,un[cn++]=vs,vs=i;var l=Xn;i=$n;var f=32-Mt(l)-1;l&=~(1<<f),a+=1;var m=32-Mt(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Xn=1<<32-Mt(s)+f|a<<f|l,$n=m+i}else Xn=1<<m|a<<f|l,$n=i}function zf(i){i.return!==null&&(_s(i,1),Ny(i,1,0))}function Hf(i){for(;i===Yl;)Yl=mr[--pr],mr[pr]=null,Kl=mr[--pr],mr[pr]=null;for(;i===vs;)vs=un[--cn],un[cn]=null,$n=un[--cn],un[cn]=null,Xn=un[--cn],un[cn]=null}var Ot=null,$e=null,Re=!1,Es=null,kn=!1,jf=Error(r(519));function bs(i){var s=Error(r(418,""));throw Va(on(s,i)),jf}function Dy(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[wt]=i,s[Pt]=l,a){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<lo.length;a++)_e(lo[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),Gg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Il(s);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),Kg(s,l.value,l.defaultValue,l.children),Il(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||K_(s.textContent,a)?(l.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),l.onScroll!=null&&_e("scroll",s),l.onScrollEnd!=null&&_e("scrollend",s),l.onClick!=null&&(s.onclick=Ru),s=!0):s=!1,s||bs(i)}function My(i){for(Ot=i.return;Ot;)switch(Ot.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ot=Ot.return}}function Pa(i){if(i!==Ot)return!1;if(!Re)return My(i),Re=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||sd(i.type,i.memoizedProps)),a=!a),a&&$e&&bs(i),My(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){$e=Sn(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}$e=null}}else s===27?(s=$e,Vi(i.type)?(i=ld,ld=null,$e=i):$e=s):$e=Ot?Sn(i.stateNode.nextSibling):null;return!0}function Ua(){$e=Ot=null,Re=!1}function Oy(){var i=Es;return i!==null&&(zt===null?zt=i:zt.push.apply(zt,i),Es=null),i}function Va(i){Es===null?Es=[i]:Es.push(i)}var Ff=q(null),Ss=null,Qn=null;function Ti(i,s,a){z(Ff,s._currentValue),s._currentValue=a}function Zn(i){i._currentValue=Ff.current,Q(Ff)}function qf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Gf(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var T=0;T<s.length;T++)if(E.context===s[T]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),qf(m.return,a,i),l||(v=null);break e}m=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),qf(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ba(i,s,a,l){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=f.type;Wt(f.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(f===Dt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(po):i=[po])}f=f.return}i!==null&&Gf(s,i,a,l),s.flags|=262144}function Wl(i){for(i=i.firstContext;i!==null;){if(!Wt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ts(i){Ss=i,Qn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function At(i){return Iy(Ss,i)}function Xl(i,s){return Ss===null&&Ts(i),Iy(i,s)}function Iy(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Qn===null){if(i===null)throw Error(r(308));Qn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Qn=Qn.next=s;return a}var cR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},fR=t.unstable_scheduleCallback,hR=t.unstable_NormalPriority,lt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new cR,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&fR(hR,function(){i.controller.abort()})}var Ha=null,Kf=0,gr=0,yr=null;function dR(i,s){if(Ha===null){var a=Ha=[];Kf=0,gr=Xh(),yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kf++,s.then(ky,ky),s}function ky(){if(--Kf===0&&Ha!==null){yr!==null&&(yr.status="fulfilled");var i=Ha;Ha=null,gr=0,yr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ly=U.S;U.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&dR(i,s),Ly!==null&&Ly(i,s)};var Cs=q(null);function Wf(){var i=Cs.current;return i!==null?i:Ve.pooledCache}function $l(i,s){s===null?z(Cs,Cs.current):z(Cs,s.pool)}function Py(){var i=Wf();return i===null?null:{parent:lt._currentValue,pool:i}}var ja=Error(r(460)),Uy=Error(r(474)),Ql=Error(r(542)),Xf={then:function(){}};function Vy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zl(){}function By(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Zl,Zl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Hy(i),i;default:if(typeof s.status=="string")s.then(Zl,Zl);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Hy(i),i}throw Fa=s,ja}}var Fa=null;function zy(){if(Fa===null)throw Error(r(459));var i=Fa;return Fa=null,i}function Hy(i){if(i===ja||i===Ql)throw Error(r(483))}var Ci=!1;function $f(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ai(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=ql(i),Ry(i,null,a),s}return Fl(i,l,s,a),ql(i)}function qa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,kg(i,a)}}function Zf(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Jf=!1;function Ga(){if(Jf){var i=yr;if(i!==null)throw i}}function Ya(i,s,a,l){Jf=!1;var f=i.updateQueue;Ci=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var T=E,O=T.next;T.next=null,v===null?m=O:v.next=O,v=T;var V=i.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==v&&(E===null?V.firstBaseUpdate=O:E.next=O,V.lastBaseUpdate=T))}if(m!==null){var F=f.baseState;v=0,V=O=T=null,E=m;do{var I=E.lane&-536870913,k=I!==E.lane;if(k?(Ce&I)===I:(l&I)===I){I!==0&&I===gr&&(Jf=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=i,ie=E;I=s;var Ie=a;switch(ie.tag){case 1:if(oe=ie.payload,typeof oe=="function"){F=oe.call(Ie,F,I);break e}F=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ie.payload,I=typeof oe=="function"?oe.call(Ie,F,I):oe,I==null)break e;F=g({},F,I);break e;case 2:Ci=!0}}I=E.callback,I!==null&&(i.flags|=64,k&&(i.flags|=8192),k=f.callbacks,k===null?f.callbacks=[I]:k.push(I))}else k={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(O=V=k,T=F):V=V.next=k,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);V===null&&(T=F),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),ki|=v,i.lanes=v,i.memoizedState=F}}function jy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Fy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)jy(a[i],s)}var vr=q(null),Jl=q(0);function qy(i,s){i=ri,z(Jl,i),z(vr,s),ri=i|s.baseLanes}function eh(){z(Jl,ri),z(vr,vr.current)}function th(){ri=Jl.current,Q(vr),Q(Jl)}var Ri=0,me=null,Me=null,at=null,eu=!1,_r=!1,ws=!1,tu=0,Ka=0,Er=null,pR=0;function it(){throw Error(r(321))}function nh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Wt(i[a],s[a]))return!1;return!0}function ih(i,s,a,l,f,m){return Ri=m,me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=i===null||i.memoizedState===null?Rv:xv,ws=!1,m=a(l,f),ws=!1,_r&&(m=Yy(s,a,l,f)),Gy(i),m}function Gy(i){U.H=ou;var s=Me!==null&&Me.next!==null;if(Ri=0,at=Me=me=null,eu=!1,Ka=0,Er=null,s)throw Error(r(300));i===null||ht||(i=i.dependencies,i!==null&&Wl(i)&&(ht=!0))}function Yy(i,s,a,l){me=i;var f=0;do{if(_r&&(Er=null),Ka=0,_r=!1,25<=f)throw Error(r(301));if(f+=1,at=Me=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=SR,m=s(a,l)}while(_r);return m}function gR(){var i=U.H,s=i.useState()[0];return s=typeof s.then=="function"?Wa(s):s,i=i.useState()[0],(Me!==null?Me.memoizedState:null)!==i&&(me.flags|=1024),s}function sh(){var i=tu!==0;return tu=0,i}function rh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function ah(i){if(eu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}eu=!1}Ri=0,at=Me=me=null,_r=!1,Ka=tu=0,Er=null}function Vt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?me.memoizedState=at=i:at=at.next=i,at}function ot(){if(Me===null){var i=me.alternate;i=i!==null?i.memoizedState:null}else i=Me.next;var s=at===null?me.memoizedState:at.next;if(s!==null)at=s,Me=i;else{if(i===null)throw me.alternate===null?Error(r(467)):Error(r(310));Me=i,i={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},at===null?me.memoizedState=at=i:at=at.next=i}return at}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(i){var s=Ka;return Ka+=1,Er===null&&(Er=[]),i=By(Er,i,s),s=me,(at===null?s.memoizedState:at.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Rv:xv),i}function nu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wa(i);if(i.$$typeof===L)return At(i)}throw Error(r(438,String(i)))}function lh(i){var s=null,a=me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=oh(),me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=Se;return s.index++,a}function Jn(i,s){return typeof s=="function"?s(i):s}function iu(i){var s=ot();return uh(s,Me,i)}function uh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var E=v=null,T=null,O=s,V=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Ce&F)===F:(Ri&F)===F){var I=O.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===gr&&(V=!0);else if((Ri&I)===I){O=O.next,I===gr&&(V=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=F,v=m):T=T.next=F,me.lanes|=I,ki|=I;F=O.action,ws&&a(m,F),m=O.hasEagerState?O.eagerState:a(m,F)}else I={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=I,v=m):T=T.next=I,me.lanes|=F,ki|=F;O=O.next}while(O!==null&&O!==s);if(T===null?v=m:T.next=E,!Wt(m,i.memoizedState)&&(ht=!0,V&&(a=yr,a!==null)))throw a;i.memoizedState=m,i.baseState=v,i.baseQueue=T,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function ch(i){var s=ot(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Wt(m,s.memoizedState)||(ht=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ky(i,s,a){var l=me,f=ot(),m=Re;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Wt((Me||f).memoizedState,a);v&&(f.memoizedState=a,ht=!0),f=f.queue;var E=$y.bind(null,l,f,i);if(Xa(2048,8,E,[i]),f.getSnapshot!==s||v||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,br(9,su(),Xy.bind(null,l,f,a,s),null),Ve===null)throw Error(r(349));m||(Ri&124)!==0||Wy(l,s,a)}return a}function Wy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=me.updateQueue,s===null?(s=oh(),me.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Xy(i,s,a,l){s.value=a,s.getSnapshot=l,Qy(s)&&Zy(i)}function $y(i,s,a){return a(function(){Qy(s)&&Zy(i)})}function Qy(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Wt(i,a)}catch{return!0}}function Zy(i){var s=hr(i,2);s!==null&&en(s,i,2)}function fh(i){var s=Vt();if(typeof i=="function"){var a=i;if(i=a(),ws){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:i},s}function Jy(i,s,a,l){return i.baseState=a,uh(i,Me,typeof l=="function"?l:Jn)}function yR(i,s,a,l,f){if(au(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};U.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,ev(s,m)):(m.next=a.next,s.pending=a.next=m)}}function ev(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var m=U.T,v={};U.T=v;try{var E=a(f,l),T=U.S;T!==null&&T(v,E),tv(i,s,E)}catch(O){hh(i,s,O)}finally{U.T=m}}else try{m=a(f,l),tv(i,s,m)}catch(O){hh(i,s,O)}}function tv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){nv(i,s,l)},function(l){return hh(i,s,l)}):nv(i,s,a)}function nv(i,s,a){s.status="fulfilled",s.value=a,iv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,ev(i,a)))}function hh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,iv(s),s=s.next;while(s!==l)}i.action=null}function iv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function sv(i,s){return s}function rv(i,s){if(Re){var a=Ve.formState;if(a!==null){e:{var l=me;if(Re){if($e){t:{for(var f=$e,m=kn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Sn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){$e=Sn(f.nextSibling),l=f.data==="F!";break e}}bs(l)}l=!1}l&&(s=a[0])}}return a=Vt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:s},a.queue=l,a=Cv.bind(null,me,l),l.dispatch=a,l=fh(!1),m=yh.bind(null,me,!1,l.queue),l=Vt(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=yR.bind(null,me,f,m,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function av(i){var s=ot();return ov(s,Me,i)}function ov(i,s,a){if(s=uh(i,s,sv)[0],i=iu(Jn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wa(s)}catch(v){throw v===ja?Ql:v}else l=s;s=ot();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(me.flags|=2048,br(9,su(),vR.bind(null,f,a),null)),[l,m,i]}function vR(i,s){i.action=s}function lv(i){var s=ot(),a=Me;if(a!==null)return ov(s,a,i);ot(),s=s.memoizedState,a=ot();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function br(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=me.updateQueue,s===null&&(s=oh(),me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function su(){return{destroy:void 0,resource:void 0}}function uv(){return ot().memoizedState}function ru(i,s,a,l){var f=Vt();l=l===void 0?null:l,me.flags|=i,f.memoizedState=br(1|s,su(),a,l)}function Xa(i,s,a,l){var f=ot();l=l===void 0?null:l;var m=f.memoizedState.inst;Me!==null&&l!==null&&nh(l,Me.memoizedState.deps)?f.memoizedState=br(s,m,a,l):(me.flags|=i,f.memoizedState=br(1|s,m,a,l))}function cv(i,s){ru(8390656,8,i,s)}function fv(i,s){Xa(2048,8,i,s)}function hv(i,s){return Xa(4,2,i,s)}function dv(i,s){return Xa(4,4,i,s)}function mv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function pv(i,s,a){a=a!=null?a.concat([i]):null,Xa(4,4,mv.bind(null,s,i),a)}function dh(){}function gv(i,s){var a=ot();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&nh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function yv(i,s){var a=ot();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&nh(s,l[1]))return l[0];if(l=i(),ws){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[l,s],l}function mh(i,s,a){return a===void 0||(Ri&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=E_(),me.lanes|=i,ki|=i,a)}function vv(i,s,a,l){return Wt(a,s)?a:vr.current!==null?(i=mh(i,a,l),Wt(i,s)||(ht=!0),i):(Ri&42)===0?(ht=!0,i.memoizedState=a):(i=E_(),me.lanes|=i,ki|=i,s)}function _v(i,s,a,l,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var v=U.T,E={};U.T=E,yh(i,!1,s,a);try{var T=f(),O=U.S;if(O!==null&&O(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=mR(T,l);$a(i,s,V,Jt(i))}else $a(i,s,l,Jt(i))}catch(F){$a(i,s,{then:function(){},status:"rejected",reason:F},Jt())}finally{Y.p=m,U.T=v}}function _R(){}function ph(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Ev(i).queue;_v(i,f,s,ee,a===null?_R:function(){return bv(i),a(l)})}function Ev(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function bv(i){var s=Ev(i).next.queue;$a(i,s,{},Jt())}function gh(){return At(po)}function Sv(){return ot().memoizedState}function Tv(){return ot().memoizedState}function ER(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jt();i=wi(a);var l=Ai(s,i,a);l!==null&&(en(l,s,a),qa(l,s,a)),s={cache:Yf()},i.payload=s;return}s=s.return}}function bR(i,s,a){var l=Jt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},au(i)?wv(s,a):(a=Pf(i,s,a,l),a!==null&&(en(a,i,l),Av(a,s,l)))}function Cv(i,s,a){var l=Jt();$a(i,s,a,l)}function $a(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(i))wv(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,a);if(f.hasEagerState=!0,f.eagerState=E,Wt(E,v))return Fl(i,s,f,0),Ve===null&&jl(),!1}catch{}finally{}if(a=Pf(i,s,f,l),a!==null)return en(a,i,l),Av(a,s,l),!0}return!1}function yh(i,s,a,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},au(i)){if(s)throw Error(r(479))}else s=Pf(i,a,l,2),s!==null&&en(s,i,2)}function au(i){var s=i.alternate;return i===me||s!==null&&s===me}function wv(i,s){_r=eu=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Av(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,kg(i,a)}}var ou={readContext:At,use:nu,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},Rv={readContext:At,use:nu,useCallback:function(i,s){return Vt().memoizedState=[i,s===void 0?null:s],i},useContext:At,useEffect:cv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,ru(4194308,4,mv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ru(4194308,4,i,s)},useInsertionEffect:function(i,s){ru(4,2,i,s)},useMemo:function(i,s){var a=Vt();s=s===void 0?null:s;var l=i();if(ws){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Vt();if(a!==void 0){var f=a(s);if(ws){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=bR.bind(null,me,i),[l.memoizedState,i]},useRef:function(i){var s=Vt();return i={current:i},s.memoizedState=i},useState:function(i){i=fh(i);var s=i.queue,a=Cv.bind(null,me,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:dh,useDeferredValue:function(i,s){var a=Vt();return mh(a,i,s)},useTransition:function(){var i=fh(!1);return i=_v.bind(null,me,i.queue,!0,!1),Vt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=me,f=Vt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ve===null)throw Error(r(349));(Ce&124)!==0||Wy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,cv($y.bind(null,l,m,i),[i]),l.flags|=2048,br(9,su(),Xy.bind(null,l,m,a,s),null),a},useId:function(){var i=Vt(),s=Ve.identifierPrefix;if(Re){var a=$n,l=Xn;a=(l&~(1<<32-Mt(l)-1)).toString(32)+a,s=""+s+"R"+a,a=tu++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=pR++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:gh,useFormState:rv,useActionState:rv,useOptimistic:function(i){var s=Vt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=yh.bind(null,me,!0,a),a.dispatch=s,[i,s]},useMemoCache:lh,useCacheRefresh:function(){return Vt().memoizedState=ER.bind(null,me)}},xv={readContext:At,use:nu,useCallback:gv,useContext:At,useEffect:fv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:yv,useReducer:iu,useRef:uv,useState:function(){return iu(Jn)},useDebugValue:dh,useDeferredValue:function(i,s){var a=ot();return vv(a,Me.memoizedState,i,s)},useTransition:function(){var i=iu(Jn)[0],s=ot().memoizedState;return[typeof i=="boolean"?i:Wa(i),s]},useSyncExternalStore:Ky,useId:Sv,useHostTransitionStatus:gh,useFormState:av,useActionState:av,useOptimistic:function(i,s){var a=ot();return Jy(a,Me,i,s)},useMemoCache:lh,useCacheRefresh:Tv},SR={readContext:At,use:nu,useCallback:gv,useContext:At,useEffect:fv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:yv,useReducer:ch,useRef:uv,useState:function(){return ch(Jn)},useDebugValue:dh,useDeferredValue:function(i,s){var a=ot();return Me===null?mh(a,i,s):vv(a,Me.memoizedState,i,s)},useTransition:function(){var i=ch(Jn)[0],s=ot().memoizedState;return[typeof i=="boolean"?i:Wa(i),s]},useSyncExternalStore:Ky,useId:Sv,useHostTransitionStatus:gh,useFormState:lv,useActionState:lv,useOptimistic:function(i,s){var a=ot();return Me!==null?Jy(a,Me,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:lh,useCacheRefresh:Tv},Sr=null,Qa=0;function lu(i){var s=Qa;return Qa+=1,Sr===null&&(Sr=[]),By(Sr,i,s)}function Za(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function uu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Nv(i){var s=i._init;return s(i._payload)}function Dv(i){function s(R,A){if(i){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function a(R,A){if(!i)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Wn(R,A),R.index=0,R.sibling=null,R}function m(R,A,M){return R.index=M,i?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=67108866,A):M):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function v(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function E(R,A,M,j){return A===null||A.tag!==6?(A=Vf(M,R.mode,j),A.return=R,A):(A=f(A,M),A.return=R,A)}function T(R,A,M,j){var J=M.type;return J===S?V(R,A,M.props.children,j,M.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Nv(J)===A.type)?(A=f(A,M.props),Za(A,M),A.return=R,A):(A=Gl(M.type,M.key,M.props,null,R.mode,j),Za(A,M),A.return=R,A)}function O(R,A,M,j){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Bf(M,R.mode,j),A.return=R,A):(A=f(A,M.children||[]),A.return=R,A)}function V(R,A,M,j,J){return A===null||A.tag!==7?(A=ys(M,R.mode,j,J),A.return=R,A):(A=f(A,M),A.return=R,A)}function F(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Vf(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=Gl(A.type,A.key,A.props,null,R.mode,M),Za(M,A),M.return=R,M;case b:return A=Bf(A,R.mode,M),A.return=R,A;case $:var j=A._init;return A=j(A._payload),F(R,A,M)}if(tt(A)||He(A))return A=ys(A,R.mode,M,null),A.return=R,A;if(typeof A.then=="function")return F(R,lu(A),M);if(A.$$typeof===L)return F(R,Xl(R,A),M);uu(R,A)}return null}function I(R,A,M,j){var J=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:E(R,A,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===J?T(R,A,M,j):null;case b:return M.key===J?O(R,A,M,j):null;case $:return J=M._init,M=J(M._payload),I(R,A,M,j)}if(tt(M)||He(M))return J!==null?null:V(R,A,M,j,null);if(typeof M.then=="function")return I(R,A,lu(M),j);if(M.$$typeof===L)return I(R,A,Xl(R,M),j);uu(R,M)}return null}function k(R,A,M,j,J){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return R=R.get(M)||null,E(A,R,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return R=R.get(j.key===null?M:j.key)||null,T(A,R,j,J);case b:return R=R.get(j.key===null?M:j.key)||null,O(A,R,j,J);case $:var pe=j._init;return j=pe(j._payload),k(R,A,M,j,J)}if(tt(j)||He(j))return R=R.get(M)||null,V(A,R,j,J,null);if(typeof j.then=="function")return k(R,A,M,lu(j),J);if(j.$$typeof===L)return k(R,A,M,Xl(A,j),J);uu(A,j)}return null}function oe(R,A,M,j){for(var J=null,pe=null,te=A,se=A=0,mt=null;te!==null&&se<M.length;se++){te.index>se?(mt=te,te=null):mt=te.sibling;var Ae=I(R,te,M[se],j);if(Ae===null){te===null&&(te=mt);break}i&&te&&Ae.alternate===null&&s(R,te),A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae,te=mt}if(se===M.length)return a(R,te),Re&&_s(R,se),J;if(te===null){for(;se<M.length;se++)te=F(R,M[se],j),te!==null&&(A=m(te,A,se),pe===null?J=te:pe.sibling=te,pe=te);return Re&&_s(R,se),J}for(te=l(te);se<M.length;se++)mt=k(te,R,se,M[se],j),mt!==null&&(i&&mt.alternate!==null&&te.delete(mt.key===null?se:mt.key),A=m(mt,A,se),pe===null?J=mt:pe.sibling=mt,pe=mt);return i&&te.forEach(function(Fi){return s(R,Fi)}),Re&&_s(R,se),J}function ie(R,A,M,j){if(M==null)throw Error(r(151));for(var J=null,pe=null,te=A,se=A=0,mt=null,Ae=M.next();te!==null&&!Ae.done;se++,Ae=M.next()){te.index>se?(mt=te,te=null):mt=te.sibling;var Fi=I(R,te,Ae.value,j);if(Fi===null){te===null&&(te=mt);break}i&&te&&Fi.alternate===null&&s(R,te),A=m(Fi,A,se),pe===null?J=Fi:pe.sibling=Fi,pe=Fi,te=mt}if(Ae.done)return a(R,te),Re&&_s(R,se),J;if(te===null){for(;!Ae.done;se++,Ae=M.next())Ae=F(R,Ae.value,j),Ae!==null&&(A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae);return Re&&_s(R,se),J}for(te=l(te);!Ae.done;se++,Ae=M.next())Ae=k(te,R,se,Ae.value,j),Ae!==null&&(i&&Ae.alternate!==null&&te.delete(Ae.key===null?se:Ae.key),A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae);return i&&te.forEach(function(T1){return s(R,T1)}),Re&&_s(R,se),J}function Ie(R,A,M,j){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var J=M.key;A!==null;){if(A.key===J){if(J=M.type,J===S){if(A.tag===7){a(R,A.sibling),j=f(A,M.props.children),j.return=R,R=j;break e}}else if(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Nv(J)===A.type){a(R,A.sibling),j=f(A,M.props),Za(j,M),j.return=R,R=j;break e}a(R,A);break}else s(R,A);A=A.sibling}M.type===S?(j=ys(M.props.children,R.mode,j,M.key),j.return=R,R=j):(j=Gl(M.type,M.key,M.props,null,R.mode,j),Za(j,M),j.return=R,R=j)}return v(R);case b:e:{for(J=M.key;A!==null;){if(A.key===J)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(R,A.sibling),j=f(A,M.children||[]),j.return=R,R=j;break e}else{a(R,A);break}else s(R,A);A=A.sibling}j=Bf(M,R.mode,j),j.return=R,R=j}return v(R);case $:return J=M._init,M=J(M._payload),Ie(R,A,M,j)}if(tt(M))return oe(R,A,M,j);if(He(M)){if(J=He(M),typeof J!="function")throw Error(r(150));return M=J.call(M),ie(R,A,M,j)}if(typeof M.then=="function")return Ie(R,A,lu(M),j);if(M.$$typeof===L)return Ie(R,A,Xl(R,M),j);uu(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(R,A.sibling),j=f(A,M),j.return=R,R=j):(a(R,A),j=Vf(M,R.mode,j),j.return=R,R=j),v(R)):a(R,A)}return function(R,A,M,j){try{Qa=0;var J=Ie(R,A,M,j);return Sr=null,J}catch(te){if(te===ja||te===Ql)throw te;var pe=Xt(29,te,null,R.mode);return pe.lanes=j,pe.return=R,pe}finally{}}}var Tr=Dv(!0),Mv=Dv(!1),fn=q(null),Ln=null;function xi(i){var s=i.alternate;z(ut,ut.current&1),z(fn,i),Ln===null&&(s===null||vr.current!==null||s.memoizedState!==null)&&(Ln=i)}function Ov(i){if(i.tag===22){if(z(ut,ut.current),z(fn,i),Ln===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ln=i)}}else Ni()}function Ni(){z(ut,ut.current),z(fn,fn.current)}function ei(i){Q(fn),Ln===i&&(Ln=null),Q(ut)}var ut=q(0);function cu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||od(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var _h={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Jt(),f=wi(l);f.payload=s,a!=null&&(f.callback=a),s=Ai(i,f,l),s!==null&&(en(s,i,l),qa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Jt(),f=wi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ai(i,f,l),s!==null&&(en(s,i,l),qa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Jt(),l=wi(a);l.tag=2,s!=null&&(l.callback=s),s=Ai(i,l,a),s!==null&&(en(s,i,a),qa(s,i,a))}};function Iv(i,s,a,l,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!ka(a,l)||!ka(f,m):!0}function kv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&_h.enqueueReplaceState(s,s.state,null)}function As(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Lv(i){fu(i)}function Pv(i){console.error(i)}function Uv(i){fu(i)}function hu(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Vv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eh(i,s,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(i,s)},a}function Bv(i){return i=wi(i),i.tag=3,i}function zv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){Vv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Vv(s,a,l),typeof f!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function TR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ba(s,a,f,!0),a=fn.current,a!==null){switch(a.tag){case 13:return Ln===null?qh():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Xf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Yh(i,l,f)),!1;case 22:return a.flags|=65536,l===Xf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Yh(i,l,f)),!1}throw Error(r(435,a.tag))}return Yh(i,l,f),qh(),!1}if(Re)return s=fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==jf&&(i=Error(r(422),{cause:l}),Va(on(i,a)))):(l!==jf&&(s=Error(r(423),{cause:l}),Va(on(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=on(l,a),f=Eh(i.stateNode,l,f),Zf(i,f),Qe!==4&&(Qe=2)),!1;var m=Error(r(520),{cause:l});if(m=on(m,a),ro===null?ro=[m]:ro.push(m),Qe!==4&&(Qe=2),s===null)return!0;l=on(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Eh(a.stateNode,l,i),Zf(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Li===null||!Li.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Bv(f),zv(f,i,a,l),Zf(a,f),!1}a=a.return}while(a!==null);return!1}var Hv=Error(r(461)),ht=!1;function _t(i,s,a,l){s.child=i===null?Mv(s,null,a,l):Tr(s,i.child,a,l)}function jv(i,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ts(s),l=ih(i,s,a,v,m,f),E=sh(),i!==null&&!ht?(rh(i,s,f),ti(i,s,f)):(Re&&E&&zf(s),s.flags|=1,_t(i,s,l,f),s.child)}function Fv(i,s,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Uf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,qv(i,s,m,l,f)):(i=Gl(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!xh(i,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(v,l)&&i.ref===s.ref)return ti(i,s,f)}return s.flags|=1,i=Wn(m,l),i.ref=s.ref,i.return=s,s.child=i}function qv(i,s,a,l,f){if(i!==null){var m=i.memoizedProps;if(ka(m,l)&&i.ref===s.ref)if(ht=!1,s.pendingProps=l=m,xh(i,f))(i.flags&131072)!==0&&(ht=!0);else return s.lanes=i.lanes,ti(i,s,f)}return bh(i,s,a,l,f)}function Gv(i,s,a){var l=s.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Yv(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$l(s,m!==null?m.cachePool:null),m!==null?qy(s,m):eh(),Ov(s);else return s.lanes=s.childLanes=536870912,Yv(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?($l(s,m.cachePool),qy(s,m),Ni(),s.memoizedState=null):(i!==null&&$l(s,null),eh(),Ni());return _t(i,s,f,a),s.child}function Yv(i,s,a,l){var f=Wf();return f=f===null?null:{parent:lt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&$l(s,null),eh(),Ov(s),i!==null&&Ba(i,s,l,!0),null}function du(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function bh(i,s,a,l,f){return Ts(s),a=ih(i,s,a,l,void 0,f),l=sh(),i!==null&&!ht?(rh(i,s,f),ti(i,s,f)):(Re&&l&&zf(s),s.flags|=1,_t(i,s,a,f),s.child)}function Kv(i,s,a,l,f,m){return Ts(s),s.updateQueue=null,a=Yy(s,l,a,f),Gy(i),l=sh(),i!==null&&!ht?(rh(i,s,m),ti(i,s,m)):(Re&&l&&zf(s),s.flags|=1,_t(i,s,a,m),s.child)}function Wv(i,s,a,l,f){if(Ts(s),s.stateNode===null){var m=dr,v=a.contextType;typeof v=="object"&&v!==null&&(m=At(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_h,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},$f(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?At(v):dr,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vh(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&_h.enqueueReplaceState(m,m.state,null),Ya(s,l,m,f),Ga(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,T=As(a,E);m.props=T;var O=m.context,V=a.contextType;v=dr,typeof V=="object"&&V!==null&&(v=At(V));var F=a.getDerivedStateFromProps;V=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||O!==v)&&kv(s,m,l,v),Ci=!1;var I=s.memoizedState;m.state=I,Ya(s,l,m,f),Ga(),O=s.memoizedState,E||I!==O||Ci?(typeof F=="function"&&(vh(s,a,F,l),O=s.memoizedState),(T=Ci||Iv(s,a,T,l,I,O,v))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),m.props=l,m.state=O,m.context=v,l=T):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Qf(i,s),v=s.memoizedProps,V=As(a,v),m.props=V,F=s.pendingProps,I=m.context,O=a.contextType,T=dr,typeof O=="object"&&O!==null&&(T=At(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==F||I!==T)&&kv(s,m,l,T),Ci=!1,I=s.memoizedState,m.state=I,Ya(s,l,m,f),Ga();var k=s.memoizedState;v!==F||I!==k||Ci||i!==null&&i.dependencies!==null&&Wl(i.dependencies)?(typeof E=="function"&&(vh(s,a,E,l),k=s.memoizedState),(V=Ci||Iv(s,a,V,l,I,k,T)||i!==null&&i.dependencies!==null&&Wl(i.dependencies))?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,k,T),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,k,T)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),m.props=l,m.state=k,m.context=T,l=V):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,du(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=Tr(s,i.child,null,f),s.child=Tr(s,null,a,f)):_t(i,s,a,f),s.memoizedState=m.state,i=s.child):i=ti(i,s,f),i}function Xv(i,s,a,l){return Ua(),s.flags|=256,_t(i,s,a,l),s.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(i){return{baseLanes:i,cachePool:Py()}}function Ch(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=hn),i}function $v(i,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(ut.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Re){if(f?xi(s):Ni(),Re){var E=$e,T;if(T=E){e:{for(T=E,E=kn;T.nodeType!==8;){if(!E){E=null;break e}if(T=Sn(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(s.memoizedState={dehydrated:E,treeContext:vs!==null?{id:Xn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},T=Xt(18,null,null,0),T.stateNode=E,T.return=s,s.child=T,Ot=s,$e=null,T=!0):T=!1}T||bs(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return od(E)?s.lanes=32:s.lanes=536870912,null;ei(s)}return E=l.children,l=l.fallback,f?(Ni(),f=s.mode,E=mu({mode:"hidden",children:E},f),l=ys(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=Th(a),f.childLanes=Ch(i,v,a),s.memoizedState=Sh,l):(xi(s),wh(s,E))}if(T=i.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(m)s.flags&256?(xi(s),s.flags&=-257,s=Ah(i,s,a)):s.memoizedState!==null?(Ni(),s.child=i.child,s.flags|=128,s=null):(Ni(),f=l.fallback,E=s.mode,l=mu({mode:"visible",children:l.children},E),f=ys(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Tr(s,i.child,null,a),l=s.child,l.memoizedState=Th(a),l.childLanes=Ch(i,v,a),s.memoizedState=Sh,s=f);else if(xi(s),od(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,Va({value:l,source:null,stack:null}),s=Ah(i,s,a)}else if(ht||Ba(i,s,a,!1),v=(a&i.childLanes)!==0,ht||v){if(v=Ve,v!==null&&(l=a&-a,l=(l&42)!==0?1:lf(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,hr(i,l),en(v,i,l),Hv;E.data==="$?"||qh(),s=Ah(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=T.treeContext,$e=Sn(E.nextSibling),Ot=s,Re=!0,Es=null,kn=!1,i!==null&&(un[cn++]=Xn,un[cn++]=$n,un[cn++]=vs,Xn=i.id,$n=i.overflow,vs=s),s=wh(s,l.children),s.flags|=4096);return s}return f?(Ni(),f=l.fallback,E=s.mode,T=i.child,O=T.sibling,l=Wn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=Wn(O,f):(f=ys(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=i.child.memoizedState,E===null?E=Th(a):(T=E.cachePool,T!==null?(O=lt._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Py(),E={baseLanes:E.baseLanes|a,cachePool:T}),f.memoizedState=E,f.childLanes=Ch(i,v,a),s.memoizedState=Sh,l):(xi(s),a=i.child,i=a.sibling,a=Wn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function wh(i,s){return s=mu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function mu(i,s){return i=Xt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ah(i,s,a){return Tr(s,i.child,null,a),i=wh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Qv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),qf(i.return,s,a)}function Rh(i,s,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Zv(i,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(_t(i,s,l.children,a),l=ut.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qv(i,a,s);else if(i.tag===19)Qv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(z(ut,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&cu(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Rh(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&cu(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Rh(s,!0,a,null,m);break;case"together":Rh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ti(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),ki|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ba(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Wn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Wn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function xh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Wl(i)))}function CR(i,s,a){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),Ti(s,lt,i.memoizedState.cache),Ua();break;case 27:case 5:_a(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:Ti(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(xi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?$v(i,s,a):(xi(s),i=ti(i,s,a),i!==null?i.sibling:null);xi(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ba(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Zv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),z(ut,ut.current),l)break;return null;case 22:case 23:return s.lanes=0,Gv(i,s,a);case 24:Ti(s,lt,i.memoizedState.cache)}return ti(i,s,a)}function Jv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)ht=!0;else{if(!xh(i,a)&&(s.flags&128)===0)return ht=!1,CR(i,s,a);ht=(i.flags&131072)!==0}else ht=!1,Re&&(s.flags&1048576)!==0&&Ny(s,Kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Uf(l)?(i=As(l,i),s.tag=1,s=Wv(null,s,l,i,a)):(s.tag=0,s=bh(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===W){s.tag=11,s=jv(null,s,l,i,a);break e}else if(f===Z){s.tag=14,s=Fv(null,s,l,i,a);break e}}throw s=Gt(l)||l,Error(r(306,s,""))}}return s;case 0:return bh(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=As(l,s.pendingProps),Wv(i,s,l,f,a);case 3:e:{if(Ue(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Qf(i,s),Ya(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ti(s,lt,l),l!==m.cache&&Gf(s,[lt],a,!0),Ga(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Xv(i,s,l,a);break e}else if(l!==f){f=on(Error(r(424)),s),Va(f),s=Xv(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for($e=Sn(i.firstChild),Ot=s,Re=!0,Es=null,kn=!0,a=Mv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ua(),l===f){s=ti(i,s,a);break e}_t(i,s,l,a)}s=s.child}return s;case 26:return du(i,s),i===null?(a=i0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Re||(a=s.type,i=s.pendingProps,l=xu(ce.current).createElement(a),l[wt]=s,l[Pt]=i,bt(l,a,i),ft(l),s.stateNode=l):s.memoizedState=i0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return _a(s),i===null&&Re&&(l=s.stateNode=e0(s.type,s.pendingProps,ce.current),Ot=s,kn=!0,f=$e,Vi(s.type)?(ld=f,$e=Sn(l.firstChild)):$e=f),_t(i,s,s.pendingProps.children,a),du(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Re&&((f=l=$e)&&(l=ZR(l,s.type,s.pendingProps,kn),l!==null?(s.stateNode=l,Ot=s,$e=Sn(l.firstChild),kn=!1,f=!0):f=!1),f||bs(s)),_a(s),f=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,l=m.children,sd(f,m)?l=null:v!==null&&sd(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=ih(i,s,gR,null,null,a),po._currentValue=f),du(i,s),_t(i,s,l,a),s.child;case 6:return i===null&&Re&&((i=a=$e)&&(a=JR(a,s.pendingProps,kn),a!==null?(s.stateNode=a,Ot=s,$e=null,i=!0):i=!1),i||bs(s)),null;case 13:return $v(i,s,a);case 4:return Ue(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Tr(s,null,l,a):_t(i,s,l,a),s.child;case 11:return jv(i,s,s.type,s.pendingProps,a);case 7:return _t(i,s,s.pendingProps,a),s.child;case 8:return _t(i,s,s.pendingProps.children,a),s.child;case 12:return _t(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ti(s,s.type,l.value),_t(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ts(s),f=At(f),l=l(f),s.flags|=1,_t(i,s,l,a),s.child;case 14:return Fv(i,s,s.type,s.pendingProps,a);case 15:return qv(i,s,s.type,s.pendingProps,a);case 19:return Zv(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=mu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Wn(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Gv(i,s,a);case 24:return Ts(s),l=At(lt),i===null?(f=Wf(),f===null&&(f=Ve,m=Yf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},$f(s),Ti(s,lt,f)):((i.lanes&a)!==0&&(Qf(i,s),Ya(s,null,null,a),Ga()),f=i.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ti(s,lt,l)):(l=m.cache,Ti(s,lt,l),l!==f.cache&&Gf(s,[lt],a,!0))),_t(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ni(i){i.flags|=4}function e_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!l0(s)){if(s=fn.current,s!==null&&((Ce&4194048)===Ce?Ln!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||s!==Ln))throw Fa=Xf,Uy;i.flags|=8192}}function pu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Og():536870912,i.lanes|=s,Rr|=s)}function Ja(i,s){if(!Re)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Ke(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function wR(i,s,a){var l=s.pendingProps;switch(Hf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zn(lt),On(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Pa(s)?ni(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Oy())),Ke(s),null;case 26:return a=s.memoizedState,i===null?(ni(s),a!==null?(Ke(s),e_(s,a)):(Ke(s),s.flags&=-16777217)):a?a!==i.memoizedState?(ni(s),Ke(s),e_(s,a)):(Ke(s),s.flags&=-16777217):(i.memoizedProps!==l&&ni(s),Ke(s),s.flags&=-16777217),null;case 27:Qs(s),a=ce.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ni(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}i=ne.current,Pa(s)?Dy(s):(i=e0(f,l,a),s.stateNode=i,ni(s))}return Ke(s),null;case 5:if(Qs(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ni(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}if(i=ne.current,Pa(s))Dy(s);else{switch(f=xu(ce.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[wt]=s,i[Pt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;e:switch(bt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ni(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ni(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=ce.current,Pa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ot,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[wt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(i.nodeValue,a)),i||bs(s)}else i=xu(i).createTextNode(l),i[wt]=s,s.stateNode=i}return Ke(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Pa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),f=!1}else f=Oy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ei(s),s):(ei(s),null)}if(ei(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),pu(s,s.updateQueue),Ke(s),null;case 4:return On(),i===null&&Jh(s.stateNode.containerInfo),Ke(s),null;case 10:return Zn(s.type),Ke(s),null;case 19:if(Q(ut),f=s.memoizedState,f===null)return Ke(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Ja(f,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=cu(i),m!==null){for(s.flags|=128,Ja(f,!1),i=m.updateQueue,s.updateQueue=i,pu(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)xy(a,i),a=a.sibling;return z(ut,ut.current&1|2),s.child}i=i.sibling}f.tail!==null&&sn()>vu&&(s.flags|=128,l=!0,Ja(f,!1),s.lanes=4194304)}else{if(!l)if(i=cu(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,pu(s,i),Ja(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Re)return Ke(s),null}else 2*sn()-f.renderingStartTime>vu&&a!==536870912&&(s.flags|=128,l=!0,Ja(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(i=f.last,i!==null?i.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=sn(),s.sibling=null,i=ut.current,z(ut,l?i&1|2:i&1),s):(Ke(s),null);case 22:case 23:return ei(s),th(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),a=s.updateQueue,a!==null&&pu(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&Q(Cs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zn(lt),Ke(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AR(i,s){switch(Hf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Zn(lt),On(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qs(s),null;case 13:if(ei(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(ut),null;case 4:return On(),null;case 10:return Zn(s.type),null;case 22:case 23:return ei(s),th(),i!==null&&Q(Cs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Zn(lt),null;case 25:return null;default:return null}}function t_(i,s){switch(Hf(s),s.tag){case 3:Zn(lt),On();break;case 26:case 27:case 5:Qs(s);break;case 4:On();break;case 13:ei(s);break;case 19:Q(ut);break;case 10:Zn(s.type);break;case 22:case 23:ei(s),th(),i!==null&&Q(Cs);break;case 24:Zn(lt)}}function eo(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(E){Pe(s,s.return,E)}}function Di(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=s;var T=a,O=E;try{O()}catch(V){Pe(f,T,V)}}}l=l.next}while(l!==m)}}catch(V){Pe(s,s.return,V)}}function n_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Fy(s,a)}catch(l){Pe(i,i.return,l)}}}function i_(i,s,a){a.props=As(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Pe(i,s,l)}}function to(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Pe(i,s,f)}}function Pn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Pe(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Pe(i,s,f)}else a.current=null}function s_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Pe(i,i.return,f)}}function Nh(i,s,a){try{var l=i.stateNode;KR(l,i.type,a,s),l[Pt]=s}catch(f){Pe(i,i.return,f)}}function r_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vi(i.type)||i.tag===4}function Dh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ru));else if(l!==4&&(l===27&&Vi(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Mh(i,s,a),i=i.sibling;i!==null;)Mh(i,s,a),i=i.sibling}function gu(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Vi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(gu(i,s,a),i=i.sibling;i!==null;)gu(i,s,a),i=i.sibling}function a_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);bt(s,l,a),s[wt]=i,s[Pt]=a}catch(m){Pe(i,i.return,m)}}var ii=!1,st=!1,Oh=!1,o_=typeof WeakSet=="function"?WeakSet:Set,dt=null;function RR(i,s){if(i=i.containerInfo,nd=ku,i=vy(i),Df(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,E=-1,T=-1,O=0,V=0,F=i,I=null;t:for(;;){for(var k;F!==a||f!==0&&F.nodeType!==3||(E=v+f),F!==m||l!==0&&F.nodeType!==3||(T=v+l),F.nodeType===3&&(v+=F.nodeValue.length),(k=F.firstChild)!==null;)I=F,F=k;for(;;){if(F===i)break t;if(I===a&&++O===f&&(E=v),I===m&&++V===l&&(T=v),(k=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=k}a=E===-1||T===-1?null:{start:E,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(id={focusedElem:i,selectionRange:a},ku=!1,dt=s;dt!==null;)if(s=dt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,dt=i;else for(;dt!==null;){switch(s=dt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var oe=As(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(oe,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(ie){Pe(a,a.return,ie)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)ad(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ad(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,dt=i;break}dt=s.return}}function l_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(i,a),l&4&&eo(5,a);break;case 1:if(Mi(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Pe(a,a.return,v)}else{var f=As(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Pe(a,a.return,v)}}l&64&&n_(a),l&512&&to(a,a.return);break;case 3:if(Mi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Fy(i,s)}catch(v){Pe(a,a.return,v)}}break;case 27:s===null&&l&4&&a_(a);case 26:case 5:Mi(i,a),s===null&&l&4&&s_(a),l&512&&to(a,a.return);break;case 12:Mi(i,a);break;case 13:Mi(i,a),l&4&&f_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=PR.bind(null,a),e1(i,a))));break;case 22:if(l=a.memoizedState!==null||ii,!l){s=s!==null&&s.memoizedState!==null||st,f=ii;var m=st;ii=l,(st=s)&&!m?Oi(i,a,(a.subtreeFlags&8772)!==0):Mi(i,a),ii=f,st=m}break;case 30:break;default:Mi(i,a)}}function u_(i){var s=i.alternate;s!==null&&(i.alternate=null,u_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ff(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fe=null,Bt=!1;function si(i,s,a){for(a=a.child;a!==null;)c_(i,s,a),a=a.sibling}function c_(i,s,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Kt,a)}catch{}switch(a.tag){case 26:st||Pn(a,s),si(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||Pn(a,s);var l=Fe,f=Bt;Vi(a.type)&&(Fe=a.stateNode,Bt=!1),si(i,s,a),co(a.stateNode),Fe=l,Bt=f;break;case 5:st||Pn(a,s);case 6:if(l=Fe,f=Bt,Fe=null,si(i,s,a),Fe=l,Bt=f,Fe!==null)if(Bt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(m){Pe(a,s,m)}else try{Fe.removeChild(a.stateNode)}catch(m){Pe(a,s,m)}break;case 18:Fe!==null&&(Bt?(i=Fe,Z_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),_o(i)):Z_(Fe,a.stateNode));break;case 4:l=Fe,f=Bt,Fe=a.stateNode.containerInfo,Bt=!0,si(i,s,a),Fe=l,Bt=f;break;case 0:case 11:case 14:case 15:st||Di(2,a,s),st||Di(4,a,s),si(i,s,a);break;case 1:st||(Pn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,s,l)),si(i,s,a);break;case 21:si(i,s,a);break;case 22:st=(l=st)||a.memoizedState!==null,si(i,s,a),st=l;break;default:si(i,s,a)}}function f_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_o(i)}catch(a){Pe(s,s.return,a)}}function xR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new o_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new o_),s;default:throw Error(r(435,i.tag))}}function Ih(i,s){var a=xR(i);s.forEach(function(l){var f=UR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function $t(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Vi(E.type)){Fe=E.stateNode,Bt=!1;break e}break;case 5:Fe=E.stateNode,Bt=!1;break e;case 3:case 4:Fe=E.stateNode.containerInfo,Bt=!0;break e}E=E.return}if(Fe===null)throw Error(r(160));c_(m,v,f),Fe=null,Bt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h_(s,i),s=s.sibling}var bn=null;function h_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$t(s,i),Qt(i),l&4&&(Di(3,i,i.return),eo(3,i),Di(5,i,i.return));break;case 1:$t(s,i),Qt(i),l&512&&(st||a===null||Pn(a,a.return)),l&64&&ii&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=bn;if($t(s,i),Qt(i),l&512&&(st||a===null||Pn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wa]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),bt(m,l,a),m[wt]=i,ft(m),l=m;break e;case"link":var v=a0("link","href",f).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}m=f.createElement(l),bt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=a0("meta","content",f).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}m=f.createElement(l),bt(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[wt]=i,ft(m),l=m}i.stateNode=l}else o0(f,i.type,i.stateNode);else i.stateNode=r0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?o0(f,i.type,i.stateNode):r0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Nh(i,i.memoizedProps,a.memoizedProps)}break;case 27:$t(s,i),Qt(i),l&512&&(st||a===null||Pn(a,a.return)),a!==null&&l&4&&Nh(i,i.memoizedProps,a.memoizedProps);break;case 5:if($t(s,i),Qt(i),l&512&&(st||a===null||Pn(a,a.return)),i.flags&32){f=i.stateNode;try{rr(f,"")}catch(k){Pe(i,i.return,k)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Nh(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Oh=!0);break;case 6:if($t(s,i),Qt(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(k){Pe(i,i.return,k)}}break;case 3:if(Mu=null,f=bn,bn=Nu(s.containerInfo),$t(s,i),bn=f,Qt(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(s.containerInfo)}catch(k){Pe(i,i.return,k)}Oh&&(Oh=!1,d_(i));break;case 4:l=bn,bn=Nu(i.stateNode.containerInfo),$t(s,i),Qt(i),bn=l;break;case 12:$t(s,i),Qt(i);break;case 13:$t(s,i),Qt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bh=sn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ih(i,l)));break;case 22:f=i.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=ii,V=st;if(ii=O||f,st=V||T,$t(s,i),st=V,ii=O,Qt(i),l&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||ii||st||Rs(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(m=T.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=T.stateNode;var F=T.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(k){Pe(T,T.return,k)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){Pe(T,T.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ih(i,a))));break;case 19:$t(s,i),Qt(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ih(i,l)));break;case 30:break;case 21:break;default:$t(s,i),Qt(i)}}function Qt(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(r_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Dh(i);gu(i,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(rr(v,""),a.flags&=-33);var E=Dh(i);gu(i,E,v);break;case 3:case 4:var T=a.stateNode.containerInfo,O=Dh(i);Mh(i,O,T);break;default:throw Error(r(161))}}catch(V){Pe(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function d_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;d_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Mi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)l_(i,s.alternate,s),s=s.sibling}function Rs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Di(4,s,s.return),Rs(s);break;case 1:Pn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&i_(s,s.return,a),Rs(s);break;case 27:co(s.stateNode);case 26:case 5:Pn(s,s.return),Rs(s);break;case 22:s.memoizedState===null&&Rs(s);break;case 30:Rs(s);break;default:Rs(s)}i=i.sibling}}function Oi(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Oi(f,m,a),eo(4,m);break;case 1:if(Oi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Pe(l,l.return,O)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)jy(T[f],E)}catch(O){Pe(l,l.return,O)}}a&&v&64&&n_(m),to(m,m.return);break;case 27:a_(m);case 26:case 5:Oi(f,m,a),a&&l===null&&v&4&&s_(m),to(m,m.return);break;case 12:Oi(f,m,a);break;case 13:Oi(f,m,a),a&&v&4&&f_(f,m);break;case 22:m.memoizedState===null&&Oi(f,m,a),to(m,m.return);break;case 30:break;default:Oi(f,m,a)}s=s.sibling}}function kh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&za(a))}function Lh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i))}function Un(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(i,s,a,l),s=s.sibling}function m_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Un(i,s,a,l),f&2048&&eo(9,s);break;case 1:Un(i,s,a,l);break;case 3:Un(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i)));break;case 12:if(f&2048){Un(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){Pe(s,s.return,T)}}else Un(i,s,a,l);break;case 13:Un(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Un(i,s,a,l):no(i,s):m._visibility&2?Un(i,s,a,l):(m._visibility|=2,Cr(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&kh(v,s);break;case 24:Un(i,s,a,l),f&2048&&Lh(s.alternate,s);break;default:Un(i,s,a,l)}}function Cr(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,v=s,E=a,T=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(m,v,E,T,f),eo(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?Cr(m,v,E,T,f):no(m,v):(V._visibility|=2,Cr(m,v,E,T,f)),f&&O&2048&&kh(v.alternate,v);break;case 24:Cr(m,v,E,T,f),f&&O&2048&&Lh(v.alternate,v);break;default:Cr(m,v,E,T,f)}s=s.sibling}}function no(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:no(a,l),f&2048&&kh(l.alternate,l);break;case 24:no(a,l),f&2048&&Lh(l.alternate,l);break;default:no(a,l)}s=s.sibling}}var io=8192;function wr(i){if(i.subtreeFlags&io)for(i=i.child;i!==null;)p_(i),i=i.sibling}function p_(i){switch(i.tag){case 26:wr(i),i.flags&io&&i.memoizedState!==null&&d1(bn,i.memoizedState,i.memoizedProps);break;case 5:wr(i);break;case 3:case 4:var s=bn;bn=Nu(i.stateNode.containerInfo),wr(i),bn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=io,io=16777216,wr(i),io=s):wr(i));break;default:wr(i)}}function g_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function so(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dt=l,v_(l,i)}g_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(i),i=i.sibling}function y_(i){switch(i.tag){case 0:case 11:case 15:so(i),i.flags&2048&&Di(9,i,i.return);break;case 3:so(i);break;case 12:so(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yu(i)):so(i);break;default:so(i)}}function yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dt=l,v_(l,i)}g_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Di(8,s,s.return),yu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,yu(s));break;default:yu(s)}i=i.sibling}}function v_(i,s){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Di(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:za(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dt=l;else e:for(a=i;dt!==null;){l=dt;var f=l.sibling,m=l.return;if(u_(l),l===a){dt=null;break e}if(f!==null){f.return=m,dt=f;break e}dt=m}}}var NR={getCacheForType:function(i){var s=At(lt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},DR=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ve=null,ve=null,Ce=0,De=0,Zt=null,Ii=!1,Ar=!1,Ph=!1,ri=0,Qe=0,ki=0,xs=0,Uh=0,hn=0,Rr=0,ro=null,zt=null,Vh=!1,Bh=0,vu=1/0,_u=null,Li=null,Et=0,Pi=null,xr=null,Nr=0,zh=0,Hh=null,__=null,ao=0,jh=null;function Jt(){if((Ne&2)!==0&&Ce!==0)return Ce&-Ce;if(U.T!==null){var i=gr;return i!==0?i:Xh()}return Lg()}function E_(){hn===0&&(hn=(Ce&536870912)===0||Re?Mg():536870912);var i=fn.current;return i!==null&&(i.flags|=32),hn}function en(i,s,a){(i===Ve&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Dr(i,0),Ui(i,Ce,hn,!1)),Ca(i,a),((Ne&2)===0||i!==Ve)&&(i===Ve&&((Ne&2)===0&&(xs|=a),Qe===4&&Ui(i,Ce,hn,!1)),Vn(i))}function b_(i,s,a){if((Ne&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Ta(i,s),f=l?IR(i,s):Gh(i,s,!0),m=l;do{if(f===0){Ar&&!l&&Ui(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!MR(a)){f=Gh(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=i;f=ro;var T=E.current.memoizedState.isDehydrated;if(T&&(Dr(E,v).flags|=256),v=Gh(E,v,!1),v!==2){if(Ph&&!T){E.errorRecoveryDisabledLanes|=m,xs|=m,f=4;break e}m=zt,zt=f,m!==null&&(zt===null?zt=m:zt.push.apply(zt,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Dr(i,0),Ui(i,s,0,!0);break}e:{switch(l=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ui(l,s,hn,!Ii);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Bh+300-sn(),10<f)){if(Ui(l,s,hn,!Ii),Dl(l,0,!0)!==0)break e;l.timeoutHandle=$_(S_.bind(null,l,a,zt,_u,Vh,s,hn,xs,Rr,Ii,m,2,-0,0),f);break e}S_(l,a,zt,_u,Vh,s,hn,xs,Rr,Ii,m,0,-0,0)}}break}while(!0);Vn(i)}function S_(i,s,a,l,f,m,v,E,T,O,V,F,I,k){if(i.timeoutHandle=-1,F=s.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:h1},p_(s),F=m1(),F!==null)){i.cancelPendingCommit=F(N_.bind(null,i,s,m,a,l,f,v,E,T,V,1,I,k)),Ui(i,m,v,!O);return}N_(i,s,m,a,l,f,v,E,T)}function MR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Wt(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(i,s,a,l){s&=~Uh,s&=~xs,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var m=31-Mt(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Ig(i,a,s)}function Eu(){return(Ne&6)===0?(oo(0),!1):!0}function Fh(){if(ve!==null){if(De===0)var i=ve.return;else i=ve,Qn=Ss=null,ah(i),Sr=null,Qa=0,i=ve;for(;i!==null;)t_(i.alternate,i),i=i.return;ve=null}}function Dr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,XR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Fh(),Ve=i,ve=a=Wn(i.current,null),Ce=s,De=0,Zt=null,Ii=!1,Ar=Ta(i,s),Ph=!1,Rr=hn=Uh=xs=ki=Qe=0,zt=ro=null,Vh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-Mt(l),m=1<<f;s|=i[f],l&=~m}return ri=s,jl(),a}function T_(i,s){me=null,U.H=ou,s===ja||s===Ql?(s=zy(),De=3):s===Uy?(s=zy(),De=4):De=s===Hv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,ve===null&&(Qe=1,hu(i,on(s,i.current)))}function C_(){var i=U.H;return U.H=ou,i===null?ou:i}function w_(){var i=U.A;return U.A=NR,i}function qh(){Qe=4,Ii||(Ce&4194048)!==Ce&&fn.current!==null||(Ar=!0),(ki&134217727)===0&&(xs&134217727)===0||Ve===null||Ui(Ve,Ce,hn,!1)}function Gh(i,s,a){var l=Ne;Ne|=2;var f=C_(),m=w_();(Ve!==i||Ce!==s)&&(_u=null,Dr(i,s)),s=!1;var v=Qe;e:do try{if(De!==0&&ve!==null){var E=ve,T=Zt;switch(De){case 8:Fh(),v=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(s=!0);var O=De;if(De=0,Zt=null,Mr(i,E,T,O),a&&Ar){v=0;break e}break;default:O=De,De=0,Zt=null,Mr(i,E,T,O)}}OR(),v=Qe;break}catch(V){T_(i,V)}while(!0);return s&&i.shellSuspendCounter++,Qn=Ss=null,Ne=l,U.H=f,U.A=m,ve===null&&(Ve=null,Ce=0,jl()),v}function OR(){for(;ve!==null;)A_(ve)}function IR(i,s){var a=Ne;Ne|=2;var l=C_(),f=w_();Ve!==i||Ce!==s?(_u=null,vu=sn()+500,Dr(i,s)):Ar=Ta(i,s);e:do try{if(De!==0&&ve!==null){s=ve;var m=Zt;t:switch(De){case 1:De=0,Zt=null,Mr(i,s,m,1);break;case 2:case 9:if(Vy(m)){De=0,Zt=null,R_(s);break}s=function(){De!==2&&De!==9||Ve!==i||(De=7),Vn(i)},m.then(s,s);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Vy(m)?(De=0,Zt=null,R_(s)):(De=0,Zt=null,Mr(i,s,m,7));break;case 5:var v=null;switch(ve.tag){case 26:v=ve.memoizedState;case 5:case 27:var E=ve;if(!v||l0(v)){De=0,Zt=null;var T=E.sibling;if(T!==null)ve=T;else{var O=E.return;O!==null?(ve=O,bu(O)):ve=null}break t}}De=0,Zt=null,Mr(i,s,m,5);break;case 6:De=0,Zt=null,Mr(i,s,m,6);break;case 8:Fh(),Qe=6;break e;default:throw Error(r(462))}}kR();break}catch(V){T_(i,V)}while(!0);return Qn=Ss=null,U.H=l,U.A=f,Ne=a,ve!==null?0:(Ve=null,Ce=0,jl(),Qe)}function kR(){for(;ve!==null&&!rf();)A_(ve)}function A_(i){var s=Jv(i.alternate,i,ri);i.memoizedProps=i.pendingProps,s===null?bu(i):ve=s}function R_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Kv(a,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=Kv(a,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:ah(s);default:t_(a,s),s=ve=xy(s,ri),s=Jv(a,s,ri)}i.memoizedProps=i.pendingProps,s===null?bu(i):ve=s}function Mr(i,s,a,l){Qn=Ss=null,ah(s),Sr=null,Qa=0;var f=s.return;try{if(TR(i,f,s,a,Ce)){Qe=1,hu(i,on(a,i.current)),ve=null;return}}catch(m){if(f!==null)throw ve=f,m;Qe=1,hu(i,on(a,i.current)),ve=null;return}s.flags&32768?(Re||l===1?i=!0:Ar||(Ce&536870912)!==0?i=!1:(Ii=i=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),x_(s,i)):bu(s)}function bu(i){var s=i;do{if((s.flags&32768)!==0){x_(s,Ii);return}i=s.return;var a=wR(s.alternate,s,ri);if(a!==null){ve=a;return}if(s=s.sibling,s!==null){ve=s;return}ve=s=i}while(s!==null);Qe===0&&(Qe=5)}function x_(i,s){do{var a=AR(i.alternate,i);if(a!==null){a.flags&=32767,ve=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){ve=i;return}ve=i=a}while(i!==null);Qe=6,ve=null}function N_(i,s,a,l,f,m,v,E,T){i.cancelPendingCommit=null;do Su();while(Et!==0);if((Ne&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Lf,hA(i,a,m,v,E,T),i===Ve&&(ve=Ve=null,Ce=0),xr=s,Pi=i,Nr=a,zh=m,Hh=f,__=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VR(de,function(){return k_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,f=Y.p,Y.p=2,v=Ne,Ne|=4;try{RR(i,s,a)}finally{Ne=v,Y.p=f,U.T=l}}Et=1,D_(),M_(),O_()}}function D_(){if(Et===1){Et=0;var i=Pi,s=xr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{h_(s,i);var m=id,v=vy(i.containerInfo),E=m.focusedElem,T=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&yy(E.ownerDocument.documentElement,E)){if(T!==null&&Df(E)){var O=T.start,V=T.end;if(V===void 0&&(V=O),"selectionStart"in E)E.selectionStart=O,E.selectionEnd=Math.min(V,E.value.length);else{var F=E.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var k=I.getSelection(),oe=E.textContent.length,ie=Math.min(T.start,oe),Ie=T.end===void 0?ie:Math.min(T.end,oe);!k.extend&&ie>Ie&&(v=Ie,Ie=ie,ie=v);var R=gy(E,ie),A=gy(E,Ie);if(R&&A&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var M=F.createRange();M.setStart(R.node,R.offset),k.removeAllRanges(),ie>Ie?(k.addRange(M),k.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),k.addRange(M))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var j=F[E];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}ku=!!nd,id=nd=null}finally{Ne=f,Y.p=l,U.T=a}}i.current=s,Et=2}}function M_(){if(Et===2){Et=0;var i=Pi,s=xr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{l_(i,s.alternate,s)}finally{Ne=f,Y.p=l,U.T=a}}Et=3}}function O_(){if(Et===4||Et===3){Et=0,af();var i=Pi,s=xr,a=Nr,l=__;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,xr=Pi=null,I_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Li=null),uf(a),s=s.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Kt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=U.T,f=Y.p,Y.p=2,U.T=null;try{for(var m=i.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{U.T=s,Y.p=f}}(Nr&3)!==0&&Su(),Vn(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===jh?ao++:(ao=0,jh=i):ao=0,oo(0)}}function I_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,za(s)))}function Su(i){return D_(),M_(),O_(),k_()}function k_(){if(Et!==5)return!1;var i=Pi,s=zh;zh=0;var a=uf(Nr),l=U.T,f=Y.p;try{Y.p=32>a?32:a,U.T=null,a=Hh,Hh=null;var m=Pi,v=Nr;if(Et=0,xr=Pi=null,Nr=0,(Ne&6)!==0)throw Error(r(331));var E=Ne;if(Ne|=4,y_(m.current),m_(m,m.current,v,a),Ne=E,oo(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Kt,m)}catch{}return!0}finally{Y.p=f,U.T=l,I_(i,s)}}function L_(i,s,a){s=on(a,s),s=Eh(i.stateNode,s,2),i=Ai(i,s,2),i!==null&&(Ca(i,2),Vn(i))}function Pe(i,s,a){if(i.tag===3)L_(i,i,a);else for(;s!==null;){if(s.tag===3){L_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){i=on(a,i),a=Bv(2),l=Ai(s,a,2),l!==null&&(zv(a,l,s,i),Ca(l,2),Vn(l));break}}s=s.return}}function Yh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new DR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Ph=!0,f.add(a),i=LR.bind(null,i,s,a),s.then(i,i))}function LR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ve===i&&(Ce&a)===a&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>sn()-Bh?(Ne&2)===0&&Dr(i,0):Uh|=a,Rr===Ce&&(Rr=0)),Vn(i)}function P_(i,s){s===0&&(s=Og()),i=hr(i,s),i!==null&&(Ca(i,s),Vn(i))}function PR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),P_(i,a)}function UR(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),P_(i,a)}function VR(i,s){return ba(i,s)}var Tu=null,Or=null,Kh=!1,Cu=!1,Wh=!1,Ns=0;function Vn(i){i!==Or&&i.next===null&&(Or===null?Tu=Or=i:Or=Or.next=i),Cu=!0,Kh||(Kh=!0,zR())}function oo(i,s){if(!Wh&&Cu){Wh=!0;do for(var a=!1,l=Tu;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Mt(42|i)+1)-1,m&=f&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,z_(l,m))}else m=Ce,m=Dl(l,l===Ve?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ta(l,m)||(a=!0,z_(l,m));l=l.next}while(a);Wh=!1}}function BR(){U_()}function U_(){Cu=Kh=!1;var i=0;Ns!==0&&(WR()&&(i=Ns),Ns=0);for(var s=sn(),a=null,l=Tu;l!==null;){var f=l.next,m=V_(l,s);m===0?(l.next=null,a===null?Tu=f:a.next=f,f===null&&(Or=a)):(a=l,(i!==0||(m&3)!==0)&&(Cu=!0)),l=f}oo(i)}function V_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-Mt(m),E=1<<v,T=f[v];T===-1?((E&a)===0||(E&l)!==0)&&(f[v]=fA(E,s)):T<=s&&(i.expiredLanes|=E),m&=~E}if(s=Ve,a=Ce,a=Dl(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(De===2||De===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ta(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Sa(l),uf(a)){case 2:case 8:a=be;break;case 32:a=de;break;case 268435456:a=nt;break;default:a=de}return l=B_.bind(null,i),a=ba(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Sa(l),i.callbackPriority=2,i.callbackNode=null,2}function B_(i,s){if(Et!==0&&Et!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Su()&&i.callbackNode!==a)return null;var l=Ce;return l=Dl(i,i===Ve?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(b_(i,l,s),V_(i,sn()),i.callbackNode!=null&&i.callbackNode===a?B_.bind(null,i):null)}function z_(i,s){if(Su())return null;b_(i,s,!0)}function zR(){$R(function(){(Ne&6)!==0?ba(fe,BR):U_()})}function Xh(){return Ns===0&&(Ns=Mg()),Ns}function H_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ll(""+i)}function j_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function HR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=H_((f[Pt]||null).action),v=l.submitter;v&&(s=(s=v[Pt]||null)?H_(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new Bl("action","action",null,l,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var T=v?j_(f,v):new FormData(f);ph(a,{pending:!0,data:T,method:f.method,action:m},null,T)}}else typeof m=="function"&&(E.preventDefault(),T=v?j_(f,v):new FormData(f),ph(a,{pending:!0,data:T,method:f.method,action:m},m,T))},currentTarget:f}]})}}for(var $h=0;$h<kf.length;$h++){var Qh=kf[$h],jR=Qh.toLowerCase(),FR=Qh[0].toUpperCase()+Qh.slice(1);En(jR,"on"+FR)}En(by,"onAnimationEnd"),En(Sy,"onAnimationIteration"),En(Ty,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(aR,"onTransitionRun"),En(oR,"onTransitionStart"),En(lR,"onTransitionCancel"),En(Cy,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function F_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],T=E.instance,O=E.currentTarget;if(E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){fu(V)}f.currentTarget=null,m=T}else for(v=0;v<l.length;v++){if(E=l[v],T=E.instance,O=E.currentTarget,E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){fu(V)}f.currentTarget=null,m=T}}}}function _e(i,s){var a=s[cf];a===void 0&&(a=s[cf]=new Set);var l=i+"__bubble";a.has(l)||(q_(s,i,2,!1),a.add(l))}function Zh(i,s,a){var l=0;s&&(l|=4),q_(a,i,l,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Jh(i){if(!i[wu]){i[wu]=!0,Ug.forEach(function(a){a!=="selectionchange"&&(qR.has(a)||Zh(a,!1,i),Zh(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wu]||(s[wu]=!0,Zh("selectionchange",!1,s))}}function q_(i,s,a,l){switch(m0(s)){case 2:var f=y1;break;case 8:f=v1;break;default:f=dd}a=f.bind(null,s,a,i),f=void 0,!bf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function ed(i,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Js(E),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=m=v;continue e}E=E.parentNode}}l=l.return}Qg(function(){var O=m,V=_f(a),F=[];e:{var I=wy.get(i);if(I!==void 0){var k=Bl,oe=i;switch(i){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":k=VA;break;case"focusin":oe="focus",k=wf;break;case"focusout":oe="blur",k=wf;break;case"beforeblur":case"afterblur":k=wf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=AA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=HA;break;case by:case Sy:case Ty:k=NA;break;case Cy:k=FA;break;case"scroll":case"scrollend":k=CA;break;case"wheel":k=GA;break;case"copy":case"cut":case"paste":k=MA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ny;break;case"toggle":case"beforetoggle":k=KA}var ie=(s&4)!==0,Ie=!ie&&(i==="scroll"||i==="scrollend"),R=ie?I!==null?I+"Capture":null:I;ie=[];for(var A=O,M;A!==null;){var j=A;if(M=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||M===null||R===null||(j=Ra(A,R),j!=null&&ie.push(uo(A,j,M))),Ie)break;A=A.return}0<ie.length&&(I=new k(I,oe,null,a,V),F.push({event:I,listeners:ie}))}}if((s&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",k=i==="mouseout"||i==="pointerout",I&&a!==vf&&(oe=a.relatedTarget||a.fromElement)&&(Js(oe)||oe[Zs]))break e;if((k||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,k?(oe=a.relatedTarget||a.toElement,k=O,oe=oe?Js(oe):null,oe!==null&&(Ie=u(oe),ie=oe.tag,oe!==Ie||ie!==5&&ie!==27&&ie!==6)&&(oe=null)):(k=null,oe=O),k!==oe)){if(ie=ey,j="onMouseLeave",R="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(ie=ny,j="onPointerLeave",R="onPointerEnter",A="pointer"),Ie=k==null?I:Aa(k),M=oe==null?I:Aa(oe),I=new ie(j,A+"leave",k,a,V),I.target=Ie,I.relatedTarget=M,j=null,Js(V)===O&&(ie=new ie(R,A+"enter",oe,a,V),ie.target=M,ie.relatedTarget=Ie,j=ie),Ie=j,k&&oe)t:{for(ie=k,R=oe,A=0,M=ie;M;M=Ir(M))A++;for(M=0,j=R;j;j=Ir(j))M++;for(;0<A-M;)ie=Ir(ie),A--;for(;0<M-A;)R=Ir(R),M--;for(;A--;){if(ie===R||R!==null&&ie===R.alternate)break t;ie=Ir(ie),R=Ir(R)}ie=null}else ie=null;k!==null&&G_(F,I,k,ie,!1),oe!==null&&Ie!==null&&G_(F,Ie,oe,ie,!0)}}e:{if(I=O?Aa(O):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var J=cy;else if(ly(I))if(fy)J=iR;else{J=tR;var pe=eR}else k=I.nodeName,!k||k.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&yf(O.elementType)&&(J=cy):J=nR;if(J&&(J=J(i,O))){uy(F,J,a,V);break e}pe&&pe(i,I,O),i==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&gf(I,"number",I.value)}switch(pe=O?Aa(O):window,i){case"focusin":(ly(pe)||pe.contentEditable==="true")&&(ur=pe,Mf=O,La=null);break;case"focusout":La=Mf=ur=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,_y(F,a,V);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":_y(F,a,V)}var te;if(Rf)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else lr?ay(i,a)&&(se="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(iy&&a.locale!=="ko"&&(lr||se!=="onCompositionStart"?se==="onCompositionEnd"&&lr&&(te=Zg()):(Si=V,Sf="value"in Si?Si.value:Si.textContent,lr=!0)),pe=Au(O,se),0<pe.length&&(se=new ty(se,i,null,a,V),F.push({event:se,listeners:pe}),te?se.data=te:(te=oy(a),te!==null&&(se.data=te)))),(te=XA?$A(i,a):QA(i,a))&&(se=Au(O,"onBeforeInput"),0<se.length&&(pe=new ty("onBeforeInput","beforeinput",null,a,V),F.push({event:pe,listeners:se}),pe.data=te)),HR(F,i,O,a,V)}F_(F,s)})}function uo(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Au(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ra(i,a),f!=null&&l.unshift(uo(i,f,m)),f=Ra(i,s),f!=null&&l.push(uo(i,f,m))),i.tag===3)return l;i=i.return}return[]}function Ir(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function G_(i,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var E=a,T=E.alternate,O=E.stateNode;if(E=E.tag,T!==null&&T===l)break;E!==5&&E!==26&&E!==27||O===null||(T=O,f?(O=Ra(a,m),O!=null&&v.unshift(uo(a,O,T))):f||(O=Ra(a,m),O!=null&&v.push(uo(a,O,T)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var GR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function Y_(i){return(typeof i=="string"?i:""+i).replace(GR,`
`).replace(YR,"")}function K_(i,s){return s=Y_(s),Y_(i)===s}function Ru(){}function Oe(i,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||rr(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&rr(i,""+l);break;case"className":Ol(i,"class",l);break;case"tabIndex":Ol(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(i,a,l);break;case"style":Xg(i,l,m);break;case"data":if(s!=="object"){Ol(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ll(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Oe(i,s,"name",f.name,f,null),Oe(i,s,"formEncType",f.formEncType,f,null),Oe(i,s,"formMethod",f.formMethod,f,null),Oe(i,s,"formTarget",f.formTarget,f,null)):(Oe(i,s,"encType",f.encType,f,null),Oe(i,s,"method",f.method,f,null),Oe(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ll(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Ru);break;case"onScroll":l!=null&&_e("scroll",i);break;case"onScrollEnd":l!=null&&_e("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ll(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":_e("beforetoggle",i),_e("toggle",i),Ml(i,"popover",l);break;case"xlinkActuate":Yn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ml(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=SA.get(a)||a,Ml(i,a,l))}}function td(i,s,a,l,f,m){switch(a){case"style":Xg(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?rr(i,l):(typeof l=="number"||typeof l=="bigint")&&rr(i,""+l);break;case"onScroll":l!=null&&_e("scroll",i);break;case"onScrollEnd":l!=null&&_e("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=i[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ml(i,a,l)}}}function bt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",i),_e("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(i,s,m,v,a,null)}}f&&Oe(i,s,"srcSet",a.srcSet,a,null),l&&Oe(i,s,"src",a.src,a,null);return;case"input":_e("invalid",i);var E=m=v=f=null,T=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var V=a[l];if(V!=null)switch(l){case"name":f=V;break;case"type":v=V;break;case"checked":T=V;break;case"defaultChecked":O=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Oe(i,s,l,V,a,null)}}Gg(i,m,E,T,O,v,f,!1),Il(i);return;case"select":_e("invalid",i),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Oe(i,s,f,E,a,null)}s=m,a=v,i.multiple=!!l,s!=null?sr(i,!!l,s,!1):a!=null&&sr(i,!!l,a,!0);return;case"textarea":_e("invalid",i),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Oe(i,s,v,E,a,null)}Kg(i,l,f,m),Il(i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(i,s,T,l,a,null)}return;case"dialog":_e("beforetoggle",i),_e("toggle",i),_e("cancel",i),_e("close",i);break;case"iframe":case"object":_e("load",i);break;case"video":case"audio":for(l=0;l<lo.length;l++)_e(lo[l],i);break;case"image":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"embed":case"source":case"link":_e("error",i),_e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(i,s,O,l,a,null)}return;default:if(yf(s)){for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!==void 0&&td(i,s,V,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Oe(i,s,E,l,a,null))}function KR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,E=null,T=null,O=null,V=null;for(k in a){var F=a[k];if(a.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=F;default:l.hasOwnProperty(k)||Oe(i,s,k,null,l,F)}}for(var I in l){var k=l[I];if(F=a[I],l.hasOwnProperty(I)&&(k!=null||F!=null))switch(I){case"type":m=k;break;case"name":f=k;break;case"checked":O=k;break;case"defaultChecked":V=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==F&&Oe(i,s,I,k,l,F)}}pf(i,v,E,T,O,V,m,f);return;case"select":k=v=E=I=null;for(m in a)if(T=a[m],a.hasOwnProperty(m)&&T!=null)switch(m){case"value":break;case"multiple":k=T;default:l.hasOwnProperty(m)||Oe(i,s,m,null,l,T)}for(f in l)if(m=l[f],T=a[f],l.hasOwnProperty(f)&&(m!=null||T!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==T&&Oe(i,s,f,m,l,T)}s=E,a=v,l=k,I!=null?sr(i,!!a,I,!1):!!l!=!!a&&(s!=null?sr(i,!!a,s,!0):sr(i,!!a,a?[]:"",!1));return;case"textarea":k=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Oe(i,s,E,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":I=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Oe(i,s,v,f,l,m)}Yg(i,I,k);return;case"option":for(var oe in a)if(I=a[oe],a.hasOwnProperty(oe)&&I!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":i.selected=!1;break;default:Oe(i,s,oe,null,l,I)}for(T in l)if(I=l[T],k=a[T],l.hasOwnProperty(T)&&I!==k&&(I!=null||k!=null))switch(T){case"selected":i.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Oe(i,s,T,I,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)I=a[ie],a.hasOwnProperty(ie)&&I!=null&&!l.hasOwnProperty(ie)&&Oe(i,s,ie,null,l,I);for(O in l)if(I=l[O],k=a[O],l.hasOwnProperty(O)&&I!==k&&(I!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:Oe(i,s,O,I,l,k)}return;default:if(yf(s)){for(var Ie in a)I=a[Ie],a.hasOwnProperty(Ie)&&I!==void 0&&!l.hasOwnProperty(Ie)&&td(i,s,Ie,void 0,l,I);for(V in l)I=l[V],k=a[V],!l.hasOwnProperty(V)||I===k||I===void 0&&k===void 0||td(i,s,V,I,l,k);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&Oe(i,s,R,null,l,I);for(F in l)I=l[F],k=a[F],!l.hasOwnProperty(F)||I===k||I==null&&k==null||Oe(i,s,F,I,l,k)}var nd=null,id=null;function xu(i){return i.nodeType===9?i:i.ownerDocument}function W_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rd=null;function WR(){var i=window.event;return i&&i.type==="popstate"?i===rd?!1:(rd=i,!0):(rd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(i){return Q_.resolve(null).then(i).catch(QR)}:$_;function QR(i){setTimeout(function(){throw i})}function Vi(i){return i==="head"}function Z_(i,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var v=i.ownerDocument;if(a&1&&co(v.documentElement),a&2&&co(v.body),a&4)for(a=v.head,co(a),v=a.firstChild;v;){var E=v.nextSibling,T=v.nodeName;v[wa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){i.removeChild(m),_o(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);_o(s)}function ad(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ad(a),ff(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function ZR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[wa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Sn(i.nextSibling),i===null)break}return null}function JR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Sn(i.nextSibling),i===null))return null;return i}function od(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function e1(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Sn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ld=null;function J_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function e0(i,s,a){switch(s=xu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function co(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ff(i)}var dn=new Map,t0=new Set;function Nu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ai=Y.d;Y.d={f:t1,r:n1,D:i1,C:s1,L:r1,m:a1,X:l1,S:o1,M:u1};function t1(){var i=ai.f(),s=Eu();return i||s}function n1(i){var s=er(i);s!==null&&s.tag===5&&s.type==="form"?bv(s):ai.r(i)}var kr=typeof document>"u"?null:document;function n0(i,s,a){var l=kr;if(l&&typeof s=="string"&&s){var f=an(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),t0.has(f)||(t0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),bt(s,"link",i),ft(s),l.head.appendChild(s)))}}function i1(i){ai.D(i),n0("dns-prefetch",i,null)}function s1(i,s){ai.C(i,s),n0("preconnect",i,s)}function r1(i,s,a){ai.L(i,s,a);var l=kr;if(l&&i&&s){var f='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(i)+'"]';var m=f;switch(s){case"style":m=Lr(i);break;case"script":m=Pr(i)}dn.has(m)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),dn.set(m,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(fo(m))||s==="script"&&l.querySelector(ho(m))||(s=l.createElement("link"),bt(s,"link",i),ft(s),l.head.appendChild(s)))}}function a1(i,s){ai.m(i,s);var a=kr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Pr(i)}if(!dn.has(m)&&(i=g({rel:"modulepreload",href:i},s),dn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ho(m)))return}l=a.createElement("link"),bt(l,"link",i),ft(l),a.head.appendChild(l)}}}function o1(i,s,a){ai.S(i,s,a);var l=kr;if(l&&i){var f=tr(l).hoistableStyles,m=Lr(i);s=s||"default";var v=f.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(fo(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=dn.get(m))&&ud(i,a);var T=v=l.createElement("link");ft(T),bt(T,"link",i),T._p=new Promise(function(O,V){T.onload=O,T.onerror=V}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Du(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(m,v)}}}function l1(i,s){ai.X(i,s);var a=kr;if(a&&i){var l=tr(a).hoistableScripts,f=Pr(i),m=l.get(f);m||(m=a.querySelector(ho(f)),m||(i=g({src:i,async:!0},s),(s=dn.get(f))&&cd(i,s),m=a.createElement("script"),ft(m),bt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function u1(i,s){ai.M(i,s);var a=kr;if(a&&i){var l=tr(a).hoistableScripts,f=Pr(i),m=l.get(f);m||(m=a.querySelector(ho(f)),m||(i=g({src:i,async:!0,type:"module"},s),(s=dn.get(f))&&cd(i,s),m=a.createElement("script"),ft(m),bt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function i0(i,s,a,l){var f=(f=ce.current)?Nu(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Lr(a.href),a=tr(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Lr(a.href);var m=tr(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(fo(i)))&&!m._p&&(v.instance=m,v.state.loading=5),dn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(i,a),m||c1(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pr(a),a=tr(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lr(i){return'href="'+an(i)+'"'}function fo(i){return'link[rel="stylesheet"]['+i+"]"}function s0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function c1(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),bt(s,"link",a),ft(s),i.head.appendChild(s))}function Pr(i){return'[src="'+an(i)+'"]'}function ho(i){return"script[async]"+i}function r0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return s.instance=l,ft(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ft(l),bt(l,"style",f),Du(l,a.precedence,i),s.instance=l;case"stylesheet":f=Lr(a.href);var m=i.querySelector(fo(f));if(m)return s.state.loading|=4,s.instance=m,ft(m),m;l=s0(a),(f=dn.get(f))&&ud(l,f),m=(i.ownerDocument||i).createElement("link"),ft(m);var v=m;return v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),bt(m,"link",l),s.state.loading|=4,Du(m,a.precedence,i),s.instance=m;case"script":return m=Pr(a.src),(f=i.querySelector(ho(m)))?(s.instance=f,ft(f),f):(l=a,(f=dn.get(m))&&(l=g({},a),cd(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),ft(f),bt(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Du(l,a.precedence,i));return s.instance}function Du(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function ud(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function cd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mu=null;function a0(i,s,a){if(Mu===null){var l=new Map,f=Mu=new Map;f.set(a,l)}else f=Mu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[wa]||m[wt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=i+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function o0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function f1(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mo=null;function h1(){}function d1(i,s,a){if(mo===null)throw Error(r(475));var l=mo;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Lr(a.href),m=i.querySelector(fo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Ou.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,ft(m);return}m=i.ownerDocument||i,a=s0(a),(f=dn.get(f))&&ud(a,f),m=m.createElement("link"),ft(m);var v=m;v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),bt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Ou.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function m1(){if(mo===null)throw Error(r(475));var i=mo;return i.stylesheets&&i.count===0&&fd(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&fd(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Iu=null;function fd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Iu=new Map,s.forEach(p1,i),Iu=null,Ou.call(i))}function p1(i,s){if(!(s.state.loading&4)){var a=Iu.get(i);if(a)var l=a.get(null);else{a=new Map,Iu.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Ou.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var po={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function g1(i,s,a,l,f,m,v,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=of(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.hiddenUpdates=of(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function u0(i,s,a,l,f,m,v,E,T,O,V,F){return i=new g1(i,s,a,v,E,T,O,F),s=1,m===!0&&(s|=24),m=Xt(3,null,null,s),i.current=m,m.stateNode=i,s=Yf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},$f(m),i}function c0(i){return i?(i=dr,i):dr}function f0(i,s,a,l,f,m){f=c0(f),l.context===null?l.context=f:l.pendingContext=f,l=wi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ai(i,l,s),a!==null&&(en(a,i,s),qa(a,i,s))}function h0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function hd(i,s){h0(i,s),(i=i.alternate)&&h0(i,s)}function d0(i){if(i.tag===13){var s=hr(i,67108864);s!==null&&en(s,i,67108864),hd(i,67108864)}}var ku=!0;function y1(i,s,a,l){var f=U.T;U.T=null;var m=Y.p;try{Y.p=2,dd(i,s,a,l)}finally{Y.p=m,U.T=f}}function v1(i,s,a,l){var f=U.T;U.T=null;var m=Y.p;try{Y.p=8,dd(i,s,a,l)}finally{Y.p=m,U.T=f}}function dd(i,s,a,l){if(ku){var f=md(l);if(f===null)ed(i,s,l,Lu,a),p0(i,l);else if(E1(f,i,s,a,l))l.stopPropagation();else if(p0(i,l),s&4&&-1<_1.indexOf(i)){for(;f!==null;){var m=er(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=hs(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var T=1<<31-Mt(v);E.entanglements[1]|=T,v&=~T}Vn(m),(Ne&6)===0&&(vu=sn()+500,oo(0))}}break;case 13:E=hr(m,2),E!==null&&en(E,m,2),Eu(),hd(m,2)}if(m=md(l),m===null&&ed(i,s,l,Lu,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else ed(i,s,l,null,a)}}function md(i){return i=_f(i),pd(i)}var Lu=null;function pd(i){if(Lu=null,i=Js(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Lu=i,null}function m0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case fe:return 2;case be:return 8;case de:case Ye:return 32;case nt:return 268435456;default:return 32}default:return 32}}var gd=!1,Bi=null,zi=null,Hi=null,go=new Map,yo=new Map,ji=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(i,s){switch(i){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":go.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(s.pointerId)}}function vo(i,s,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=er(s),s!==null&&d0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function E1(i,s,a,l,f){switch(s){case"focusin":return Bi=vo(Bi,i,s,a,l,f),!0;case"dragenter":return zi=vo(zi,i,s,a,l,f),!0;case"mouseover":return Hi=vo(Hi,i,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return go.set(m,vo(go.get(m)||null,i,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,yo.set(m,vo(yo.get(m)||null,i,s,a,l,f)),!0}return!1}function g0(i){var s=Js(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,dA(i.priority,function(){if(a.tag===13){var l=Jt();l=lf(l);var f=hr(a,l);f!==null&&en(f,a,l),hd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=md(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);vf=l,a.target.dispatchEvent(l),vf=null}else return s=er(a),s!==null&&d0(s),i.blockedOn=a,!1;s.shift()}return!0}function y0(i,s,a){Pu(i)&&a.delete(s)}function b1(){gd=!1,Bi!==null&&Pu(Bi)&&(Bi=null),zi!==null&&Pu(zi)&&(zi=null),Hi!==null&&Pu(Hi)&&(Hi=null),go.forEach(y0),yo.forEach(y0)}function Uu(i,s){i.blockedOn===s&&(i.blockedOn=null,gd||(gd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,b1)))}var Vu=null;function v0(i){Vu!==i&&(Vu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vu===i&&(Vu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(pd(l||a)===null)continue;break}var m=er(a);m!==null&&(i.splice(s,3),s-=3,ph(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function _o(i){function s(T){return Uu(T,i)}Bi!==null&&Uu(Bi,i),zi!==null&&Uu(zi,i),Hi!==null&&Uu(Hi,i),go.forEach(s),yo.forEach(s);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&ji.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Pt]||null;if(typeof m=="function")v||v0(a);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Pt]||null)E=v.formAction;else if(pd(f)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),v0(a)}}}function yd(i){this._internalRoot=i}Bu.prototype.render=yd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Jt();f0(a,l,i,s,null,null)},Bu.prototype.unmount=yd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;f0(i.current,2,null,i,null,null),Eu(),s[Zs]=null}};function Bu(i){this._internalRoot=i}Bu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Lg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<ji.length&&s!==0&&s<ji[a].priority;a++);ji.splice(a,0,i),a===0&&g0(i)}};var _0=e.version;if(_0!=="19.1.0")throw Error(r(527,_0,"19.1.0"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var S1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Kt=zu.inject(S1),ct=zu}catch{}}return Eo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=Lv,m=Pv,v=Uv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=u0(i,1,!1,null,null,a,l,f,m,v,E,null),i[Zs]=s.current,Jh(i),new yd(s)},Eo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",m=Lv,v=Pv,E=Uv,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),s=u0(i,1,!0,s,a??null,l,f,m,v,E,T,O),s.context=c0(null),a=s.current,l=Jt(),l=lf(l),f=wi(l),f.callback=null,Ai(a,f,l),a=l,s.current.lanes=a,Ca(s,a),Vn(s),i[Zs]=s.current,Jh(i),new Bu(s)},Eo.version="19.1.0",Eo}var R0;function D1(){if(R0)return _d.exports;R0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_d.exports=N1(),_d.exports}var M1=D1();const O1=uS(M1);var bo={},x0;function I1(){if(x0)return bo;x0=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.parse=c,bo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,b){const S=new u,N=_.length;if(N<2)return S;const D=(b==null?void 0:b.decode)||g;let x=0;do{const H=_.indexOf("=",x);if(H===-1)break;const L=_.indexOf(";",x),W=L===-1?N:L;if(H>W){x=_.lastIndexOf(";",H-1)+1;continue}const P=h(_,x,H),X=d(_,H,P),Z=_.slice(P,X);if(S[Z]===void 0){let $=h(_,H+1,W),re=d(_,W,$);const Se=D(_.slice($,re));S[Z]=Se}x=W+1}while(x<N);return S}function h(_,b,S){do{const N=_.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<S);return S}function d(_,b,S){for(;b>S;){const N=_.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return S}function p(_,b,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=N(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let x=_+"="+D;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return bo}I1();var N0="popstate";function k1(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return em("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Yo(o)}return P1(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||r||L1()}}function Yo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function P1(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let D=g(),x=D==null?null:D-p;p=D,d&&d({action:h,location:N.location,delta:x})}function _(D,x){h="PUSH";let H=em(N.location,D,x);p=g()+1;let L=D0(H,p),W=N.createHref(H);try{c.pushState(L,"",W)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(W)}u&&d&&d({action:h,location:N.location,delta:1})}function b(D,x){h="REPLACE";let H=em(N.location,D,x);p=g();let L=D0(H,p),W=N.createHref(H);c.replaceState(L,"",W),u&&d&&d({action:h,location:N.location,delta:0})}function S(D){let x=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof D=="string"?D:Yo(D);return H=H.replace(/ $/,"%20"),qe(x,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,x)}let N={get action(){return h},get location(){return t(o,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(N0,y),d=D,()=>{o.removeEventListener(N0,y),d=null}},createHref(D){return e(o,D)},createURL:S,encodeLocation(D){let x=S(D);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:b,go(D){return c.go(D)}};return N}function cS(t,e,n="/"){return U1(t,e,n,!1)}function U1(t,e,n,r){let o=typeof e=="string"?ra(e):e,u=pi(o.pathname||"/",n);if(u==null)return null;let c=fS(t);V1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=X1(u);h=K1(c[d],p,r)}return h}function fS(t,e=[],n=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=fi([r,d.relativePath]),g=n.concat(d);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),fS(u.children,e,g,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:G1(p,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of hS(u.path))o(u,c,d)}),e}function hS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=hS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function V1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var B1=/^:[\w-]+$/,z1=3,H1=2,j1=1,F1=10,q1=-2,M0=t=>t==="*";function G1(t,e){let n=t.split("/"),r=n.length;return n.some(M0)&&(r+=q1),e&&(r+=H1),n.filter(o=>!M0(o)).reduce((o,u)=>o+(B1.test(u)?z1:u===""?j1:F1),r)}function Y1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function K1(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:fi([u,y.pathname]),pathnameBase:J1(fi([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=fi([u,y.pathnameBase]))}return c}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=h[_]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[_];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function W1(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function X1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $1(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ra(t):t;return{pathname:n?n.startsWith("/")?n:Q1(n,e):e,search:ex(r),hash:tx(o)}}function Q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Td(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Km(t){let e=Z1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Wm(t,e,n,r=!1){let o;typeof t=="string"?o=ra(t):(o={...t},qe(!o.pathname||!o.pathname.includes("?"),Td("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Td("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Td("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=$1(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var fi=t=>t.join("/").replace(/\/\/+/g,"/"),J1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ex=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var ix=["GET",...dS];new Set(ix);var aa=C.createContext(null);aa.displayName="DataRouter";var Lc=C.createContext(null);Lc.displayName="DataRouterState";var mS=C.createContext({isTransitioning:!1});mS.displayName="ViewTransition";var sx=C.createContext(new Map);sx.displayName="Fetchers";var rx=C.createContext(null);rx.displayName="Await";var Mn=C.createContext(null);Mn.displayName="Navigation";var hl=C.createContext(null);hl.displayName="Location";var Fn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Xm=C.createContext(null);Xm.displayName="RouteError";function ax(t,{relative:e}={}){qe(oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Mn),{hash:o,pathname:u,search:c}=dl(t,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:fi([n,u])),r.createHref({pathname:h,search:c,hash:o})}function oa(){return C.useContext(hl)!=null}function rs(){return qe(oa(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(hl).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gS(t){C.useContext(Mn).static||C.useLayoutEffect(t)}function la(){let{isDataRoute:t}=C.useContext(Fn);return t?_x():ox()}function ox(){qe(oa(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(aa),{basename:e,navigator:n}=C.useContext(Mn),{matches:r}=C.useContext(Fn),{pathname:o}=rs(),u=JSON.stringify(Km(r)),c=C.useRef(!1);return gS(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(Nn(c.current,pS),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Wm(d,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,u,o,t])}C.createContext(null);function dl(t,{relative:e}={}){let{matches:n}=C.useContext(Fn),{pathname:r}=rs(),o=JSON.stringify(Km(n));return C.useMemo(()=>Wm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function lx(t,e){return yS(t,e)}function yS(t,e,n,r){var H;qe(oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=C.useContext(Mn),{matches:c}=C.useContext(Fn),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let L=y&&y.path||"";vS(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=rs(),b;if(e){let L=typeof e=="string"?ra(e):e;qe(g==="/"||((H=L.pathname)==null?void 0:H.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=_;let S=b.pathname||"/",N=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=!u&&n&&n.matches&&n.matches.length>0?n.matches:cS(t,{pathname:N});Nn(y||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Nn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=dx(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:fi([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:fi([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,r);return e&&x?C.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function ux(){let t=vx(),e=nx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,c)}var cx=C.createElement(ux,null),fx=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Fn.Provider,{value:this.props.routeContext},C.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hx({routeContext:t,match:e,children:n}){let r=C.useContext(aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Fn.Provider,{value:t},n)}function dx(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let d=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let y,_=!1,b=null,S=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||cx,c&&(h<0&&g===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),D=()=>{let x;return y?x=b:_?x=S:p.route.Component?x=C.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,C.createElement(hx,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(fx,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function $m(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(t){let e=C.useContext(aa);return qe(e,$m(t)),e}function px(t){let e=C.useContext(Lc);return qe(e,$m(t)),e}function gx(t){let e=C.useContext(Fn);return qe(e,$m(t)),e}function Qm(t){let e=gx(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yx(){return Qm("useRouteId")}function vx(){var r;let t=C.useContext(Xm),e=px("useRouteError"),n=Qm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _x(){let{router:t}=mx("useNavigate"),e=Qm("useNavigate"),n=C.useRef(!1);return gS(()=>{n.current=!0}),C.useCallback(async(o,u={})=>{Nn(n.current,pS),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var O0={};function vS(t,e,n){!e&&!O0[t]&&(O0[t]=!0,Nn(!1,n))}C.memo(Ex);function Ex({routes:t,future:e,state:n}){return yS(t,void 0,n,e)}function Cd({to:t,replace:e,state:n,relative:r}){qe(oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(Mn);Nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(Fn),{pathname:c}=rs(),h=la(),d=Wm(t,Km(u),c,r==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function Do(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){qe(!oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ra(n));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:_="default"}=n,b=C.useMemo(()=>{let S=pi(d,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:_},navigationType:r}},[c,d,p,g,y,_,r]);return Nn(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(Mn.Provider,{value:h},C.createElement(hl.Provider,{children:e,value:b}))}function Sx({children:t,location:e}){return lx(tm(t),e)}function tm(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let u=[...e,o];if(r.type===C.Fragment){n.push.apply(n,tm(r.props.children,u));return}qe(r.type===Do,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=tm(r.props.children,u)),n.push(c)}),n}var $u="get",Qu="application/x-www-form-urlencoded";function Pc(t){return t!=null&&typeof t.tagName=="string"}function Tx(t){return Pc(t)&&t.tagName.toLowerCase()==="button"}function Cx(t){return Pc(t)&&t.tagName.toLowerCase()==="form"}function wx(t){return Pc(t)&&t.tagName.toLowerCase()==="input"}function Ax(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rx(t,e){return t.button===0&&(!e||e==="_self")&&!Ax(t)}var Hu=null;function xx(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(t){return t!=null&&!Nx.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):t}function Dx(t,e){let n,r,o,u,c;if(Cx(t)){let h=t.getAttribute("action");r=h?pi(h,e):null,n=t.getAttribute("method")||$u,o=wd(t.getAttribute("enctype"))||Qu,u=new FormData(t)}else if(Tx(t)||wx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?pi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||$u,o=wd(t.getAttribute("formenctype"))||wd(h.getAttribute("enctype"))||Qu,u=new FormData(h,t),!xx()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(Pc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$u,r=null,o=Qu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function Zm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Mx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ix(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await Mx(u,n);return c.links?c.links():[]}return[]}));return Ux(r.flat(1).filter(Ox).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(t,e,n,r,o,u){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):u==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function kx(t,e,{includeHydrateFallback:n}={}){return Lx(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lx(t){return[...new Set(t)]}function Px(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ux(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(Px(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var Vx=new Set([100,101,204,205]);function Bx(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&pi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _S(){let t=C.useContext(aa);return Zm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zx(){let t=C.useContext(Lc);return Zm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jm=C.createContext(void 0);Jm.displayName="FrameworkContext";function ES(){let t=C.useContext(Jm);return Zm(t,"You must render this element inside a <HydratedRouter> element"),t}function Hx(t,e){let n=C.useContext(Jm),[r,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=x=>{x.forEach(H=>{c(H.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),C.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,_,{}]:[u,_,{onFocus:So(h,b),onBlur:So(d,S),onMouseEnter:So(p,b),onMouseLeave:So(g,S),onTouchStart:So(y,b)}]:[!1,_,{}]}function So(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jx({page:t,...e}){let{router:n}=_S(),r=C.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(qx,{page:t,matches:r,...e}):null}function Fx(t){let{manifest:e,routeModules:n}=ES(),[r,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return Ix(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function qx({page:t,matches:e,...n}){let r=rs(),{manifest:o,routeModules:u}=ES(),{basename:c}=_S(),{loaderData:h,matches:d}=zx(),p=C.useMemo(()=>I0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=C.useMemo(()=>I0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,N=!1;if(e.forEach(x=>{var L;let H=o.routes[x.route.id];!H||!H.hasLoader||(!p.some(W=>W.route.id===x.route.id)&&x.route.id in h&&((L=u[x.route.id])!=null&&L.shouldRevalidate)||H.hasClientLoader?N=!0:S.add(x.route.id))}),S.size===0)return[];let D=Bx(t,c);return N&&S.size>0&&D.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[c,h,r,o,p,e,t,u]),_=C.useMemo(()=>kx(g,o),[g,o]),b=Fx(g);return C.createElement(C.Fragment,null,y.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:N})=>C.createElement("link",{key:S,...N})))}function Gx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bS&&(window.__reactRouterVersion="7.5.2")}catch{}function Yx({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=k1({window:n,v5Compat:!0}));let o=r.current,[u,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(bx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TS=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,..._},b){let{basename:S}=C.useContext(Mn),N=typeof p=="string"&&SS.test(p),D,x=!1;if(typeof p=="string"&&N&&(D=p,bS))try{let re=new URL(window.location.href),Se=p.startsWith("//")?new URL(re.protocol+p):new URL(p),Ge=pi(Se.pathname,S);Se.origin===re.origin&&Ge!=null?p=Ge+Se.search+Se.hash:x=!0}catch{Nn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ax(p,{relative:o}),[L,W,P]=Hx(r,_),X=$x(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function Z(re){e&&e(re),re.defaultPrevented||X(re)}let $=C.createElement("a",{..._,...P,href:D||H,onClick:x||u?e:Z,ref:Gx(b,W),target:d,"data-discover":!N&&n==="render"?"true":void 0});return L&&!N?C.createElement(C.Fragment,null,$,C.createElement(jx,{page:H})):$});TS.displayName="Link";var Kx=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...p},g){let y=dl(c,{relative:p.relative}),_=rs(),b=C.useContext(Lc),{navigator:S,basename:N}=C.useContext(Mn),D=b!=null&&tN(y)&&h===!0,x=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,H=_.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(H=H.toLowerCase(),L=L?L.toLowerCase():null,x=x.toLowerCase()),L&&N&&(L=pi(L,N)||L);const W=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=H===x||!o&&H.startsWith(x)&&H.charAt(W)==="/",X=L!=null&&(L===x||!o&&L.startsWith(x)&&L.charAt(x.length)==="/"),Z={isActive:P,isPending:X,isTransitioning:D},$=P?e:void 0,re;typeof r=="function"?re=r(Z):re=[r,P?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Se=typeof u=="function"?u(Z):u;return C.createElement(TS,{...p,"aria-current":$,className:re,ref:g,style:Se,to:c,viewTransition:h},typeof d=="function"?d(Z):d)});Kx.displayName="NavLink";var Wx=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=$u,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,..._},b)=>{let S=Jx(),N=eN(h,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&SS.test(h),H=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let W=L.nativeEvent.submitter,P=(W==null?void 0:W.getAttribute("formmethod"))||c;S(W||L.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:b,method:D,action:N,onSubmit:r?d:H,..._,"data-discover":!x&&t==="render"?"true":void 0})});Wx.displayName="Form";function Xx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(t){let e=C.useContext(aa);return qe(e,Xx(t)),e}function $x(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=la(),d=rs(),p=dl(t,{relative:u});return C.useCallback(g=>{if(Rx(g,e)){g.preventDefault();let y=n!==void 0?n:Yo(d)===Yo(p);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,p,n,r,e,t,o,u,c])}var Qx=0,Zx=()=>`__${String(++Qx)}__`;function Jx(){let{router:t}=CS("useSubmit"),{basename:e}=C.useContext(Mn),n=yx();return C.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:p}=Dx(r,e);if(o.navigate===!1){let g=o.fetcherKey||Zx();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function eN(t,{relative:e}={}){let{basename:n}=C.useContext(Mn),r=C.useContext(Fn);qe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...dl(t||".",{relative:e})},c=rs();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fi([n,u.pathname])),Yo(u)}function tN(t,e={}){let n=C.useContext(mS);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CS("useViewTransitionState"),o=dl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ac(o.pathname,c)!=null||ac(o.pathname,u)!=null}new TextEncoder;[...Vx];const nN=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw ua(e)},ua=function(t){return new Error("Firebase Database ("+wS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},iN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],h=t[n++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|p>>6,b=p&63;d||(b=64,c||(_=64)),r.push(n[g],n[y],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||h==null||p==null||y==null)throw new sN;const _=u<<2|h>>4;if(r.push(_),p!==64){const b=h<<4&240|p>>2;if(r.push(b),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(t){const e=AS(t);return ep.encodeByteArray(e,!0)},oc=function(t){return RS(t).replace(/\./g,"")},lc=function(t){try{return ep.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){return xS(void 0,t)}function xS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aN(n)||(t[n]=xS(t[n],e[n]));return t}function aN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>oN().__FIREBASE_DEFAULTS__,uN=()=>{if(typeof process>"u"||typeof k0>"u")return;const t=k0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lc(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return nN()||lN()||uN()||cN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NS=t=>{var e,n;return(n=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fN=t=>{const e=NS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DS=()=>{var t;return(t=tp())===null||t===void 0?void 0:t.config},MS=t=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oc(JSON.stringify(n)),oc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function np(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function dN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gN(){return wS.NODE_ADMIN===!0}function yN(){try{return typeof indexedDB=="object"}catch{return!1}}function vN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_N,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?EN(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new as(o,h,r)}}function EN(t,e){return t.replace(bN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){return JSON.parse(t)}function vt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Ko(lc(u[0])||""),n=Ko(lc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},SN=function(t){const e=IS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TN=function(t){const e=IS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(L0(u)&&L0(c)){if(!Hs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function L0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^u&(c^h),g=1518500249):(p=u^c^h,g=1859775393):y<60?(p=u&c|h&(u|c),g=2400959708):(p=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+p+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function wN(t,e){const n=new AN(t,e);return n.subscribe.bind(n)}class AN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Ad),o.error===void 0&&(o.error=Ad),o.complete===void 0&&(o.complete=Ad);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ad(){}function Uc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Vc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ml;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MN(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DN(t){return t===Ms?void 0:t}function MN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const IN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},kN=ke.INFO,LN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},PN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=LN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=PN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const UN=(t,e)=>e.some(n=>t instanceof n);let P0,U0;function VN(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BN(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kS=new WeakMap,im=new WeakMap,LS=new WeakMap,Rd=new WeakMap,sp=new WeakMap;function zN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Qi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kS.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function HN(t){if(im.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});im.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jN(t){sm=t(sm)}function FN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xd(this),e,...n);return LS.set(r,e.sort?e.sort():[e]),Qi(r)}:BN().includes(t)?function(...e){return t.apply(xd(this),e),Qi(kS.get(this))}:function(...e){return Qi(t.apply(xd(this),e))}}function qN(t){return typeof t=="function"?FN(t):(t instanceof IDBTransaction&&HN(t),UN(t,VN())?new Proxy(t,sm):t)}function Qi(t){if(t instanceof IDBRequest)return zN(t);if(Rd.has(t))return Rd.get(t);const e=qN(t);return e!==t&&(Rd.set(t,e),sp.set(e,t)),e}const xd=t=>sp.get(t);function GN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=Qi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Qi(c.result),d.oldVersion,d.newVersion,Qi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const YN=["get","getKey","getAll","getAllKeys","count"],KN=["put","add","delete","clear"],Nd=new Map;function V0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||YN.includes(n)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&d.done]))[0]};return Nd.set(e,u),u}jN(t=>({...t,get:(e,n,r)=>V0(e,n)||t.get(e,n,r),has:(e,n)=>!!V0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",B0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new ip("@firebase/app"),$N="@firebase/app-compat",QN="@firebase/analytics-compat",ZN="@firebase/analytics",JN="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",nD="@firebase/auth-compat",iD="@firebase/database",sD="@firebase/data-connect",rD="@firebase/database-compat",aD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",uD="@firebase/installations-compat",cD="@firebase/messaging",fD="@firebase/messaging-compat",hD="@firebase/performance",dD="@firebase/performance-compat",mD="@firebase/remote-config",pD="@firebase/remote-config-compat",gD="@firebase/storage",yD="@firebase/storage-compat",vD="@firebase/firestore",_D="@firebase/vertexai",ED="@firebase/firestore-compat",bD="firebase",SD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",TD={[rm]:"fire-core",[$N]:"fire-core-compat",[ZN]:"fire-analytics",[QN]:"fire-analytics-compat",[eD]:"fire-app-check",[JN]:"fire-app-check-compat",[tD]:"fire-auth",[nD]:"fire-auth-compat",[iD]:"fire-rtdb",[sD]:"fire-data-connect",[rD]:"fire-rtdb-compat",[aD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[uD]:"fire-iid-compat",[cD]:"fire-fcm",[fD]:"fire-fcm-compat",[hD]:"fire-perf",[dD]:"fire-perf-compat",[mD]:"fire-rc",[pD]:"fire-rc-compat",[gD]:"fire-gcs",[yD]:"fire-gcs-compat",[vD]:"fire-fst",[ED]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,CD=new Map,om=new Map;function z0(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(om.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of cc.values())z0(n,t);for(const n of CD.values())z0(n,t);return!0}function rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new pl("app","Firebase",wD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=SD;function PS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(n||(n=DS()),!n)throw Zi.create("no-options");const u=cc.get(o);if(u){if(Hs(n,u.options)&&Hs(r,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const c=new ON(o);for(const d of om.values())c.addComponent(d);const h=new AD(n,r,c);return cc.set(o,h),h}function US(t=am){const e=cc.get(t);if(!e&&t===am&&DS())return PS();if(!e)throw Zi.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let o=(r=TD[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(h.join(" "));return}Qr(new js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",xD=1,Wo="firebase-heartbeat-store";let Dd=null;function VS(){return Dd||(Dd=GN(RD,xD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Dd}async function ND(t){try{const n=(await VS()).transaction(Wo),r=await n.objectStore(Wo).get(BS(t));return await n.done,r}catch(e){if(e instanceof as)gi.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function H0(t,e){try{const r=(await VS()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,BS(t)),await r.done}catch(n){if(n instanceof as)gi.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function BS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1024,MD=30;class OD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=j0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>MD){const c=LD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j0(),{heartbeatsToSend:r,unsentEntries:o}=ID(this._heartbeatsCache.heartbeats),u=oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gi.warn(n),""}}}function j0(){return new Date().toISOString().substring(0,10)}function ID(t,e=DD){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),F0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),F0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yN()?vN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ND(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function F0(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}function LD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){Qr(new js("platform-logger",e=>new WN(e),"PRIVATE")),Qr(new js("heartbeat",e=>new OD(e),"PRIVATE")),Ji(rm,B0,t),Ji(rm,B0,"esm2017"),Ji("fire-js","")}PD("");function ap(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UD=zS,HS=new pl("auth","Firebase",zS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new ip("@firebase/auth");function VD(t,...e){fc.logLevel<=ke.WARN&&fc.warn(`Auth (${fa}): ${t}`,...e)}function Zu(t,...e){fc.logLevel<=ke.ERROR&&fc.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw lp(t,...e)}function Rn(t,...e){return lp(t,...e)}function op(t,e,n){const r=Object.assign(Object.assign({},UD()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return op(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vn(t,"argument-error"),op(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HS.create(t,...e)}function ae(t,e,...n){if(!t)throw lp(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function yi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zD(){return q0()==="http:"||q0()==="https:"}function q0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zD()||mN()||"connection"in navigator)?navigator.onLine:!0}function jD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=np()||OS()}get(){return HD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new gl(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ls(t,e,n,r,o={}){return FS(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=ca(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},u);return dN()||(p.referrerPolicy="no-referrer"),jS.fetch()(await qS(t,t.config.apiHost,n,h),p)})}async function FS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FD),e);try{const o=new KD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ju(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw ju(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw op(t,g,p);vn(t,g)}}catch(o){if(o instanceof as)throw o;vn(t,"network-request-failed",{message:String(o)})}}async function yl(t,e,n,r,o={}){const u=await ls(t,e,n,r,o);return"mfaPendingCredential"in u&&vn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function qS(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?up(t.config,o):`${t.config.apiScheme}://${o}`;return qD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function YD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),GD.get())})}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Rn(t,e,r);return o.customData._tokenResponse=n,o}function G0(t){return t!==void 0&&t.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XD(t,e){return ls(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function hc(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QD(t,e=!1){const n=qt(t),r=await n.getIdToken(e),o=cp(r);ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Lo(Md(o.auth_time)),issuedAtTime:Lo(Md(o.iat)),expirationTime:Lo(Md(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Md(t){return Number(t)*1e3}function cp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=lc(n);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y0(t){const e=cp(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&ZD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Xo(t,hc(n,{idToken:r}));ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?GS(u.providerUserInfo):[],h=tM(t.providerData,c),d=t.isAnonymous,p=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new um(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function eM(t){const e=qt(t);await dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tM(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function GS(t){return t.map(e=>{var{providerId:n}=e,r=ap(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){const n=await FS(t,{},async()=>{const r=ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await qS(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",jS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iM(t,e){return ls(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=Y0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await nM(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new qr;return r&&(ae(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ae(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QD(this,e)}reload(){return eM(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Xo(this,$D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,h,d,p,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,x=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:W,isAnonymous:P,providerData:X,stsTokenManager:Z}=n;ae(L&&Z,e,"internal-error");const $=qr.fromJSON(this.name,Z);ae(typeof L=="string",e,"internal-error"),qi(y,e.name),qi(_,e.name),ae(typeof W=="boolean",e,"internal-error"),ae(typeof P=="boolean",e,"internal-error"),qi(b,e.name),qi(S,e.name),qi(N,e.name),qi(D,e.name),qi(x,e.name),qi(H,e.name);const re=new wn({uid:L,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:P,photoURL:S,phoneNumber:b,tenantId:N,stsTokenManager:$,createdAt:x,lastLoginAt:H});return X&&Array.isArray(X)&&(re.providerData=X.map(Se=>Object.assign({},Se))),D&&(re._redirectEventId=D),re}static async _fromIdTokenResponse(e,n,r=!1){const o=new qr;o.updateFromServerResponse(n);const u=new wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await dc(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new qr;h.updateFromIdToken(r);const d=new wn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function ui(t){yi(t instanceof Function,"Expected a class definition");let e=K0.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YS.type="NONE";const W0=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Gr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ju(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ju("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hc(this.auth,{idToken:e}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gr(ui(W0),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ui(W0);const c=Ju(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const _=await hc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await wn._fromGetAccountInfoResponse(e,_,g)}else y=wn._fromJSON(e,g);p!==u&&(h=y),u=p;break}}catch{}const d=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new Gr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Gr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(JS(e))return"Webos";if(WS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(QS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KS(t=Lt()){return/firefox\//i.test(t)}function WS(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(t=Lt()){return/crios\//i.test(t)}function $S(t=Lt()){return/iemobile/i.test(t)}function QS(t=Lt()){return/android/i.test(t)}function ZS(t=Lt()){return/blackberry/i.test(t)}function JS(t=Lt()){return/webos/i.test(t)}function fp(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sM(t=Lt()){var e;return fp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rM(){return pN()&&document.documentMode===10}function eT(t=Lt()){return fp(t)||QS(t)||JS(t)||ZS(t)||/windows phone/i.test(t)||$S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e=[]){let n;switch(t){case"Browser":n=X0(Lt());break;case"Worker":n=`${X0(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return ls(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=6;class uM{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:lM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new aM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Gr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hc(this,{idToken:e}),r=await wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(hi(this));const n=e?qt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),n=new uM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return qt(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wN(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fM(t){Bc=t}function nT(t){return Bc.loadJS(t)}function hM(){return Bc.recaptchaEnterpriseScript}function dM(){return Bc.gapiScript}function mM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pM{constructor(){this.enterprise=new gM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yM="recaptcha-enterprise",iT="NO_RECAPTCHA";class vM{constructor(e){this.type=yM,this.auth=us(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{XD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new WD(d);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;G0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(iT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!n&&G0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hM();d.length!==0&&(d+=h),nT(d).then(()=>{o(h,u,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function Q0(t,e,n,r=!1,o=!1){const u=new vM(t);let c;if(o)c=iT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function cm(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Q0(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Q0(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){const n=rp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,e??{}))return o;vn(o,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bM(t,e,n){const r=us(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=sT(e),{host:c,port:h}=SM(e),d=h===null?"":`:${h}`,p={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Hs(p,r.config.emulator)&&Hs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,TM()}function sT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SM(t){const e=sT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Z0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:Z0(c)}}}function Z0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function CM(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return yl(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function RM(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends hp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $o(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",wM);case"emailLink":return AM(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",CM);case"emailLink":return RM(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(t,e){return yl(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class Fs extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=ap(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Fs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yr(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DM(t){const e=Mo(Oo(t)).link,n=e?Mo(Oo(e)).deep_link_id:null,r=Mo(Oo(t)).deep_link_id;return(r?Mo(Oo(r)).link:null)||r||n||e||t}class dp{constructor(e){var n,r,o,u,c,h;const d=Mo(Oo(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=NM((o=d.mode)!==null&&o!==void 0?o:null);ae(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=DM(e);try{return new dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dp.parseLink(n);return ae(r,"argument-error"),$o._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends vl{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends vl{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends vl{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return yl(t,"POST","/v1/accounts:signUp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await wn._fromIdTokenResponse(e,r,o),c=J0(r);return new qs({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=J0(r);return new qs({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function J0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends as{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new mc(e,n,r,o)}}function rT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(t,u,e,r):u})}async function OM(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){const{auth:r}=t;if(nn(r.app))return Promise.reject(hi(r));const o="reauthenticate";try{const u=await Xo(t,rT(r,o,e,t),n);ae(u.idToken,r,"internal-error");const c=cp(u.idToken);ae(c,r,"internal-error");const{sub:h}=c;return ae(t.uid===h,r,"user-mismatch"),qs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&vn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(t,e,n=!1){if(nn(t.app))return Promise.reject(hi(t));const r="signIn",o=await rT(t,r,e),u=await qs._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function kM(t,e){return aT(us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t){const e=us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(t,e,n){if(nn(t.app))return Promise.reject(hi(t));const r=us(t),c=await cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&oT(t),d}),h=await qs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function PM(t,e,n){return nn(t.app)?Promise.reject(hi(t)):kM(qt(t),ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oT(t),r})}function UM(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function VM(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function BM(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1e3,HM=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);rM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HM):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uT.type="LOCAL";const jM=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cT.type="SESSION";const fT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new zc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async p=>p(n.origin,u)),d=await FM(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const p=pp("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function GM(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function YM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WM(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",XM=1,gc="firebaseLocalStorage",mT="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function $M(){const t=indexedDB.deleteDatabase(dT);return new _l(t).toPromise()}function fm(){const t=indexedDB.open(dT,XM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gc,{keyPath:mT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gc)?e(r):(r.close(),await $M(),e(await fm()))})})}async function eE(t,e,n){const r=Hc(t,!0).put({[mT]:e,value:n});return new _l(r).toPromise()}async function QM(t,e){const n=Hc(t,!1).get(e),r=await new _l(n).toPromise();return r===void 0?null:r.value}function tE(t,e){const n=Hc(t,!0).delete(e);return new _l(n).toPromise()}const ZM=800,JM=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await eE(e,pc,"1"),await tE(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hc(o,!1).getAll();return new _l(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const eO=pT;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e){return e?ui(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tO(t){return aT(t.auth,new gp(t),t.bypassAuthState)}function nO(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),IM(n,new gp(t),t.bypassAuthState)}async function iO(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),OM(n,new gp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return iO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:vn(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new gl(2e3,1e4);async function rO(t,e,n){if(nn(t.app))return Promise.reject(Rn(t,"operation-not-supported-in-this-environment"));const r=us(t);BD(t,e,mp);const o=gT(r,n);return new Ls(r,"signInViaPopup",e,o).executeNotNull()}class Ls extends yT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",ec=new Map;class oO extends yT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const r=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(t,e){const n=fO(e),r=cO(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function uO(t,e){ec.set(t._key(),e)}function cO(t){return ui(t._redirectPersistence)}function fO(t){return Ju(aO,t.config.apiKey,t.name)}async function hO(t,e,n=!1){if(nn(t.app))return Promise.reject(hi(t));const r=us(t),o=gT(r,e),c=await new oO(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=10*60*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dO&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function _O(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gO(t);for(const n of e)try{if(EO(n))return}catch{}vn(t,"unauthorized-domain")}function EO(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!vO.test(n))return!1;if(yO.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new gl(3e4,6e4);function iE(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SO(t){return new Promise((e,n)=>{var r,o,u;function c(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(Rn(t,"network-request-failed"))},timeout:bO.get()})}if(!((o=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Bn().gapi)===null||u===void 0)&&u.load)c();else{const h=mM("iframefcb");return Bn()[h]=()=>{gapi.load?c():n(Rn(t,"network-request-failed"))},nT(`${dM()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw tc=null,e})}let tc=null;function TO(t){return tc=tc||SO(t),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new gl(5e3,15e3),wO="__/auth/iframe",AO="emulator/auth/iframe",RO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?up(e,AO):`https://${t.config.authDomain}/${wO}`,r={apiKey:e.apiKey,appName:t.name,v:fa},o=xO.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ca(r).slice(1)}`}async function DO(t){const e=await TO(t),n=Bn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:NO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Rn(t,"network-request-failed"),h=Bn().setTimeout(()=>{u(c)},CO.get());function d(){Bn().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OO=500,IO=600,kO="_blank",LO="http://localhost";class sE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(t,e,n,r=OO,o=IO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},MO),{width:r.toString(),height:o.toString(),top:u,left:c}),p=Lt().toLowerCase();n&&(h=XS(p)?kO:n),KS(p)&&(e=e||LO,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(sM(p)&&h!=="_self")return UO(e||"",h),new sE(null);const y=window.open(e||"",h,g);ae(y,t,"popup-blocked");try{y.focus()}catch{}return new sE(y)}function UO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__/auth/handler",BO="emulator/auth/handler",zO=encodeURIComponent("fac");async function rE(t,e,n,r,o,u){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:o};if(e instanceof mp){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",nm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof vl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${zO}=${encodeURIComponent(d)}`:"";return`${HO(t)}?${ca(h).slice(1)}${p}`}function HO({config:t}){return t.emulator?up(t,BO):`https://${t.authDomain}/${VO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=hO,this._overrideRedirectResult=uO}async _openPopup(e,n,r,o){var u;yi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await rE(e,n,r,lm(),o);return PO(e,c,pp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await rE(e,n,r,lm(),o);return GM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DO(e),r=new mO(e);return n.register("authEvent",o=>(ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Od];c!==void 0&&n(!!c),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_O(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||WS()||fp()}}const FO=jO;var aE="@firebase/auth",oE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YO(t){Qr(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;ae(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(t)},p=new cM(r,o,u,d);return EM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new js("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new qO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(aE,oE,GO(t)),Ji(aE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=5*60,WO=MS("authIdTokenMaxAge")||KO;let lE=null;const XO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WO)return;const o=n==null?void 0:n.token;lE!==o&&(lE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $O(t=US()){const e=rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_M(t,{popupRedirectResolver:FO,persistence:[eO,jM,fT]}),r=MS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=XO(u.toString());VM(n,c,()=>c(n.currentUser)),UM(n,h=>c(h))}}const o=NS("auth");return o&&bM(n,`http://${o}`),n}function QO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Rn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",QO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YO("Browser");var ZO="firebase",JO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(ZO,JO,"app");var uE={};const cE="@firebase/database",fE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T="";function eI(t){_T=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ko(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tI(e)}}catch{}return new nI},Ps=ET("localStorage"),iI=ET("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new ip("@firebase/database"),sI=function(){let t=1;return function(){return t++}}(),bT=function(t){const e=xN(t),n=new CN;n.update(e);const r=n.digest();return ep.encodeByteArray(r)},El=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=El.apply(null,r):typeof r=="object"?e+=vt(r):e+=r,e+=" "}return e};let Po=null,hE=!0;const rI=function(t,e){K(!0,"Can't turn on custom loggers persistently."),Kr.logLevel=ke.VERBOSE,Po=Kr.log.bind(Kr)},Tt=function(...t){if(hE===!0&&(hE=!1,Po===null&&iI.get("logging_enabled")===!0&&rI()),Po){const e=El.apply(null,t);Po(e)}},bl=function(t){return function(...e){Tt(t,...e)}},hm=function(...t){const e="FIREBASE INTERNAL ERROR: "+El(...t);Kr.error(e)},vi=function(...t){const e=`FIREBASE FATAL ERROR: ${El(...t)}`;throw Kr.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+El(...t);Kr.warn(e)},aI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zr="[MIN_NAME]",Gs="[MAX_NAME]",Xs=function(t,e){if(t===e)return 0;if(t===Zr||e===Gs)return-1;if(e===Zr||t===Gs)return 1;{const n=dE(t),r=dE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lI=function(t,e){return t===e?0:t<e?-1:1},To=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+vt(e))},vp=function(t){if(typeof t!="object"||t===null)return vt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=vt(e[r]),n+=":",n+=vp(t[e[r]]);return n+="}",n},ST=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const TT=function(t){K(!yp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(d=n;d;d-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},uI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const hI=new RegExp("^-?(0*)\\d{1,10}$"),dI=-2147483648,mI=2147483647,dE=function(t){if(hI.test(t)){const e=Number(t);if(e>=dI&&e<=mI)return e}return null},da=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},pI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class nc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="5",CT="v",wT="s",AT="r",RT="f",xT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NT="ls",DT="p",dm="ac",MT="websocket",OT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,o,u=!1,c="",h=!1,d=!1,p=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ps.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ps.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function kT(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===MT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vI(t)&&(n.ns=t.namespace);const o=[];return Ct(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.counters_={}}incrementCounter(e,n=1){qn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id={},kd={};function Ep(t){const e=t.toString();return Id[e]||(Id[e]=new _I),Id[e]}function EI(t,e){const n=t.toString();return kd[n]||(kd[n]=e()),kd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&da(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="start",SI="close",TI="pLPCommand",CI="pRTLPCB",LT="id",PT="pw",UT="ser",wI="cb",AI="seg",RI="ts",xI="d",NI="dframe",VT=1870,BT=30,DI=VT-BT,MI=25e3,OI=3e4;class Vr{constructor(e,n,r,o,u,c,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(e),this.stats_=Ep(n),this.urlFn=d=>(this.appCheckToken&&(d[dm]=this.appCheckToken),kT(n,OT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OI)),oI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bp((...u)=>{const[c,h,d,p,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===mE)this.id=h,this.password=d;else if(c===SI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[mE]="t",r[UT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CT]=_p,this.transportSessionId&&(r[wT]=this.transportSessionId),this.lastSessionId&&(r[NT]=this.lastSessionId),this.applicationId&&(r[DT]=this.applicationId),this.appCheckToken&&(r[dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&xT.test(location.hostname)&&(r[AT]=RT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return Vr.forceAllow_?!0:!Vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uI()&&!cI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RS(n),o=ST(r,DI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[NI]="t",r[LT]=e,r[PT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=vt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bp{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sI(),window[TI+this.uniqueCallbackIdentifier]=e,window[CI+this.uniqueCallbackIdentifier]=n,this.myIFrame=bp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Tt("frame writing exception"),h.stack&&Tt(h.stack),Tt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Tt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LT]=this.myID,e[PT]=this.myPW,e[UT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BT+r.length<=VT;){const c=this.pendingSegs.shift();r=r+"&"+AI+o+"="+c.seg+"&"+RI+o+"="+c.ts+"&"+xI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(MI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Tt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=16384,kI=45e3;let yc=null;typeof MozWebSocket<"u"?yc=MozWebSocket:typeof WebSocket<"u"&&(yc=WebSocket);class Cn{constructor(e,n,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=Ep(n),this.connURL=Cn.connectionURL_(n,c,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[CT]=_p,typeof location<"u"&&location.hostname&&xT.test(location.hostname)&&(c[AT]=RT),n&&(c[wT]=n),r&&(c[NT]=r),o&&(c[dm]=o),u&&(c[DT]=u),kT(e,MT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ps.set("previous_websocket_failure",!0);try{let r;gN(),this.mySock=new yc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yc!==null&&!Cn.forceDisallow_}static previouslyFailed(){return Ps.isInMemoryStorage||Ps.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ps.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ko(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ST(n,II);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cn.responsesRequiredToBeHealthy=2;Cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static get ALL_TRANSPORTS(){return[Vr,Cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Cn&&Cn.isAvailable();let r=n&&!Cn.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cn];else{const o=this.transports_=[];for(const u of Qo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=6e4,PI=5e3,UI=10*1024,VI=100*1024,Ld="t",pE="d",BI="s",gE="r",zI="e",yE="o",vE="a",_E="n",EE="p",HI="h";class jI{constructor(e,n,r,o,u,c,h,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new Qo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ld in e){const n=e[Ld];n===vE?this.upgradeIfSecondaryHealthy_():n===gE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=To("t",e),r=To("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_E,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=To("t",e),r=To("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=To(Ld,e);if(pE in e){const r=e[pE];if(n===HI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===_E){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===BI?this.onConnectionShutdown_(r):n===gE?this.onReset_(r):n===zI?hm("Server Error: "+r):n===yE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_p!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:EE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ps.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends HT{static getInstance(){return new vc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!np()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=32,SE=768;class Le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function xe(){return new Le("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ts(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Le(t.pieces_,e)}function Sp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function jT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Le(e,0)}function Je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Le)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Le(n,0)}function Ee(t){return t.pieceNum_>=t.pieces_.length}function Ht(t,e){const n=ge(t),r=ge(e);if(n===null)return e;if(n===r)return Ht(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qI(t,e){const n=Zo(t,0),r=Zo(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=Xs(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function Tp(t,e){if(ts(t)!==ts(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ts(t)>ts(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class GI{constructor(e,n){this.errorPrefix_=n,this.parts_=Zo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vc(this.parts_[r]);FT(this)}}function YI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vc(e),FT(t)}function KI(t){const e=t.parts_.pop();t.byteLength_-=Vc(e),t.parts_.length>0&&(t.byteLength_-=1)}function FT(t){if(t.byteLength_>SE)throw new Error(t.errorPrefix_+"has a key path longer than "+SE+" bytes ("+t.byteLength_+").");if(t.parts_.length>bE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bE+") or object contains a cycle "+Os(t))}function Os(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends HT{static getInstance(){return new Cp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=1e3,WI=60*5*1e3,TE=30*1e3,XI=1.3,$I=3e4,QI="server_kill",CE=3;class di extends zT{constructor(e,n,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=di.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Co,this.maxReconnectDelay_=WI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(vt(u)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new ml,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,p=h.s;di.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qn(e,"w")){const r=$r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=SN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+vt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hm("Unrecognized action received from server: "+vt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$I&&(this.reconnectDelay_=Co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+di.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},p=function(y){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Tt("getToken() completed but was canceled"):(Tt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new jI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{kt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(QI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&kt(y),d())}}}interrupt(e){Tt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nm(this.interruptReasons_)&&(this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>vp(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Le(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Tt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=CE&&(this.reconnectDelay_=TE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Tt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=CE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_T.replace(/\./g,"-")]=1,np()?e["framework.cordova"]=1:OS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vc.getInstance().currentlyOnline();return nm(this.interruptReasons_)&&e}}di.nextPersistentConnectionId_=0;di.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Zr,e),o=new ye(Zr,n);return this.compare(r,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;class qT extends jc{static get __EMPTY_NODE(){return Fu}static set __EMPTY_NODE(e){Fu=e}compare(e,n){return Xs(e.name,n.name)}isDefinedOn(e){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Gs,Fu)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,Fu)}toString(){return".key"}}const Wr=new qT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??gt.RED,this.left=o??jt.EMPTY_NODE,this.right=u??jt.EMPTY_NODE}copy(e,n,r,o,u){return new gt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gt.RED=!0;gt.BLACK=!1;class ZI{copy(e,n,r,o,u){return this}insert(e,n,r){return new gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gt.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qu(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new ZI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){return Xs(t.name,e.name)}function wp(t,e){return Xs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm;function ek(t){mm=t}const GT=function(t){return typeof t=="number"?"number:"+TT(t):"string:"+t},YT=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qn(e,".sv"),"Priority must be a string or number.")}else K(t===mm||t.isEmpty(),"priority of unexpected type.");K(t===mm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE;class pt{static set __childrenNodeConstructor(e){wE=e}static get __childrenNodeConstructor(){return wE}constructor(e,n=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ee(e)?this:ge(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||ts(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=TT(this.value_):e+=this.value_,this.lazyHash_=bT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=pt.VALUE_TYPE_ORDER.indexOf(n),u=pt.VALUE_TYPE_ORDER.indexOf(r);return K(o>=0,"Unknown leaf type: "+n),K(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KT,WT;function tk(t){KT=t}function nk(t){WT=t}class ik extends jc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?Xs(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Gs,new pt("[PRIORITY-POST]",WT))}makePost(e,n){const r=KT(e);return new ye(n,new pt("[PRIORITY-POST]",r))}toString(){return".priority"}}const et=new ik;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=Math.log(2);class rk{constructor(e){const n=u=>parseInt(Math.log(u)/sk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _c=function(t,e,n,r){t.sort(e);const o=function(d,p){const g=p-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new gt(_,y.node,gt.BLACK,null,null);{const b=parseInt(g/2,10)+d,S=o(d,b),N=o(b+1,p);return y=t[b],_=n?n(y):y,new gt(_,y.node,gt.BLACK,S,N)}},u=function(d){let p=null,g=null,y=t.length;const _=function(S,N){const D=y-S,x=y;y-=S;const H=o(D+1,x),L=t[D],W=n?n(L):L;b(new gt(W,L.node,N,null,H))},b=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<d.count;++S){const N=d.nextBitIsOne(),D=Math.pow(2,d.count-(S+1));N?_(D,gt.BLACK):(_(D,gt.BLACK),_(D,gt.RED))}return g},c=new rk(t.length),h=u(c);return new jt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const Ur={};class ci{static get Default(){return K(Ur&&et,"ChildrenNode.ts has not been loaded"),Pd=Pd||new ci({".priority":Ur},{".priority":et}),Pd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=$r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return qn(this.indexSet_,e.toString())}addIndex(e,n){K(e!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(ye.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=_c(r,e.getCompare()):h=Ur;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new ci(g,p)}addToIndexes(e,n){const r=uc(this.indexes_,(o,u)=>{const c=$r(this.indexSet_,u);if(K(c,"Missing index implementation for "+u),o===Ur)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(ye.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),_c(h,c.getCompare())}else return Ur;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new ye(e.name,h))),d.insert(e,e.node)}});return new ci(r,this.indexSet_)}removeFromIndexes(e,n){const r=uc(this.indexes_,o=>{if(o===Ur)return o;{const u=n.get(e.name);return u?o.remove(new ye(e.name,u)):o}});return new ci(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class ue{static get EMPTY_NODE(){return wo||(wo=new ue(new jt(wp),null,ci.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YT(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wo:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?wo:this.priorityNode_;return new ue(o,c,u)}}updateChild(e,n){const r=ge(e);if(r===null)return n;{K(ge(e)!==".priority"||ts(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ze(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(et,(c,h)=>{n[c]=h.val(e),r++,u&&ue.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GT(this.getPriority().val())+":"),this.forEachChild(et,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":bT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ye(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sl?-1:0}withIndex(e){if(e===Wr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(et),o=n.getIterator(et);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Wr?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ak extends ue{constructor(){super(new jt(wp),ue.EMPTY_NODE,ci.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const Sl=new ak;Object.defineProperties(ye,{MIN:{value:new ye(Zr,ue.EMPTY_NODE)},MAX:{value:new ye(Gs,Sl)}});qT.__EMPTY_NODE=ue.EMPTY_NODE;pt.__childrenNodeConstructor=ue;ek(Sl);nk(Sl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=!0;function yt(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pt(n,yt(e))}if(!(t instanceof Array)&&ok){const n=[];let r=!1;if(Ct(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=yt(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ye(c,d)))}}),n.length===0)return ue.EMPTY_NODE;const u=_c(n,JI,c=>c.name,wp);if(r){const c=_c(n,et.getCompare());return new ue(u,yt(e),new ci({".priority":c},{".priority":et}))}else return new ue(u,yt(e),ci.Default)}else{let n=ue.EMPTY_NODE;return Ct(t,(r,o)=>{if(qn(t,r)&&r.substring(0,1)!=="."){const u=yt(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(yt(e))}}tk(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends jc{constructor(e){super(),this.indexPath_=e,K(!Ee(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?Xs(e.name,n.name):u}makePost(e,n){const r=yt(e),o=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,o)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,Sl);return new ye(Gs,e)}toString(){return Zo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends jc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Xs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=yt(e);return new ye(n,r)}toString(){return".value"}}const ck=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){return{type:"value",snapshotNode:t}}function Jr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function el(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Jo(n,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Jr(n,r)):c.trackChildChange(el(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(et,(o,u)=>{n.hasChild(o)||r.trackChildChange(Jo(o,u))}),n.isLeafNode()||n.forEachChild(et,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(el(o,u,c))}else r.trackChildChange(Jr(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.indexedFilter_=new Ap(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tl.getStartPost_(e),this.endPost_=tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new ye(n,r))||(r=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ue.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ue.EMPTY_NODE);const u=this;return n.forEachChild(et,(c,h)=>{u.matches(new ye(c,h))||(o=o.updateImmediateChild(c,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new ye(n,r))||(r=ue.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ue.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ue.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const d=new ye(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,d);if(g&&!r.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(el(n,r,y)),h.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(Jo(n,y));const N=h.updateImmediateChild(n,ue.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Jr(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&c(p,d)>=0?(u!=null&&(u.trackChildChange(Jo(p.name,p.node)),u.trackChildChange(Jr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const e=new Rp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dk(t){return t.loadsAllData()?new Ap(t.getIndex()):t.hasLimit()?new hk(t):new tl(t)}function AE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===et?n="$priority":t.index_===ck?n="$value":t.index_===Wr?n="$key":(K(t.index_ instanceof lk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=vt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=vt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+vt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=vt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function RE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==et&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends zT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=bl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Ec.getListenId_(e,r),h={};this.listens_[c]=h;const d=AE(e._queryParams);this.restRequest_(u+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,r),$r(this.listens_,c)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,n){const r=Ec.getListenId_(e,n);delete this.listens_[r]}get(e){const n=AE(e._queryParams),r=e._path.toString(),o=new ml;return this.restRequest_(r+".json",n,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ca(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ko(h.responseText)}catch{kt("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&kt("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(){return{value:null,children:new Map}}function $T(t,e,n){if(Ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ge(e);t.children.has(r)||t.children.set(r,bc());const o=t.children.get(r);e=ze(e),$T(o,e,n)}}function pm(t,e,n){t.value!==null?n(e,t.value):pk(t,(r,o)=>{const u=new Le(e.toString()+"/"+r);pm(o,u,n)})}function pk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=10*1e3,yk=30*1e3,vk=5*60*1e3;class _k{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gk(e);const r=xE+(yk-xE)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ct(e,(o,u)=>{u>0&&qn(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(An||(An={}));function xp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Np(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=xp()}operationForChild(e){if(Ee(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Le(e));return new Sc(xe(),n,this.revert)}}else return K(ge(this.path)===e,"operationForChild called for unrelated child."),new Sc(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.source=e,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new nl(this.source,xe()):new nl(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(e){return Ee(this.path)?new Ys(this.source,xe(),this.snap.getImmediateChild(e)):new Ys(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(e){if(Ee(this.path)){const n=this.children.subtree(new Le(e));return n.isEmpty()?null:n.value?new Ys(this.source,xe(),n.value):new ea(this.source,xe(),n)}else return K(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ea(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bk(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(fk(c.childName,c.snapshotNode))}),Ao(t,o,"child_removed",e,r,n),Ao(t,o,"child_added",e,r,n),Ao(t,o,"child_moved",u,r,n),Ao(t,o,"child_changed",e,r,n),Ao(t,o,"value",e,r,n),o}function Ao(t,e,n,r,o,u){const c=r.filter(h=>h.type===n);c.sort((h,d)=>Tk(t,h,d)),c.forEach(h=>{const d=Sk(t,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function Sk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Tk(t,e,n){if(e.childName==null||n.childName==null)throw ua("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e){return{eventCache:t,serverCache:e}}function Vo(t,e,n,r){return Fc(new Ks(e,n,r),t.serverCache)}function QT(t,e,n,r){return Fc(t.eventCache,new Ks(e,n,r))}function gm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud;const Ck=()=>(Ud||(Ud=new jt(lI)),Ud);class Be{static fromObject(e){let n=new Be(null);return Ct(e,(r,o)=>{n=n.set(new Le(r),o)}),n}constructor(e,n=Ck()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xe(),value:this.value};if(Ee(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ze(e),n);return u!=null?{path:Je(new Le(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ee(e))return this;{const n=ge(e),r=this.children.get(n);return r!==null?r.subtree(ze(e)):new Be(null)}}set(e,n){if(Ee(e))return new Be(n,this.children);{const r=ge(e),u=(this.children.get(r)||new Be(null)).set(ze(e),n),c=this.children.insert(r,u);return new Be(this.value,c)}}remove(e){if(Ee(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const n=ge(e),r=this.children.get(n);if(r){const o=r.remove(ze(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new Be(null):new Be(this.value,u)}else return this}}get(e){if(Ee(e))return this.value;{const n=ge(e),r=this.children.get(n);return r?r.get(ze(e)):null}}setTree(e,n){if(Ee(e))return n;{const r=ge(e),u=(this.children.get(r)||new Be(null)).setTree(ze(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Be(this.value,c)}}fold(e){return this.fold_(xe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Je(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,xe(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(Ee(e))return null;{const u=ge(e),c=this.children.get(u);return c?c.findOnPath_(ze(e),Je(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xe(),n)}foreachOnPath_(e,n,r){if(Ee(e))return this;{this.value&&r(n,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(ze(e),Je(n,o),r):new Be(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(Je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.writeTree_=e}static empty(){return new xn(new Be(null))}}function Bo(t,e,n){if(Ee(e))return new xn(new Be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Ht(o,e);return u=u.updateChild(c,n),new xn(t.writeTree_.set(o,u))}else{const o=new Be(n),u=t.writeTree_.setTree(e,o);return new xn(u)}}}function ym(t,e,n){let r=t;return Ct(n,(o,u)=>{r=Bo(r,Je(e,o),u)}),r}function NE(t,e){if(Ee(e))return xn.empty();{const n=t.writeTree_.setTree(e,new Be(null));return new xn(n)}}function vm(t,e){return $s(t,e)!=null}function $s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ht(n.path,e)):null}function DE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(et,(r,o)=>{e.push(new ye(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ye(r,o.value))}),e}function es(t,e){if(Ee(e))return t;{const n=$s(t,e);return n!=null?new xn(new Be(n)):new xn(t.writeTree_.subtree(e))}}function _m(t){return t.writeTree_.isEmpty()}function ta(t,e){return ZT(xe(),t.writeTree_,e)}function ZT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(K(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=ZT(Je(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e){return nC(e,t)}function wk(t,e,n,r,o){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Bo(t.visibleWrites,e,n)),t.lastWriteId=r}function Ak(t,e,n,r){K(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ym(t.visibleWrites,e,n),t.lastWriteId=r}function Rk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function xk(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&Nk(h,r.path)?o=!1:gn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Dk(t),!0;if(r.snap)t.visibleWrites=NE(t.visibleWrites,r.path);else{const h=r.children;Ct(h,d=>{t.visibleWrites=NE(t.visibleWrites,Je(r.path,d))})}return!0}else return!1}function Nk(t,e){if(t.snap)return gn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gn(Je(t.path,n),e))return!0;return!1}function Dk(t){t.visibleWrites=JT(t.allWrites,Mk,xe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Mk(t){return t.visible}function JT(t,e,n){let r=xn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)gn(n,c)?(h=Ht(n,c),r=Bo(r,h,u.snap)):gn(c,n)&&(h=Ht(c,n),r=Bo(r,xe(),u.snap.getChild(h)));else if(u.children){if(gn(n,c))h=Ht(n,c),r=ym(r,h,u.children);else if(gn(c,n))if(h=Ht(c,n),Ee(h))r=ym(r,xe(),u.children);else{const d=$r(u.children,ge(h));if(d){const p=d.getChild(ze(h));r=Bo(r,xe(),p)}}}else throw ua("WriteRecord should have .snap or .children")}}return r}function eC(t,e,n,r,o){if(!r&&!o){const u=$s(t.visibleWrites,e);if(u!=null)return u;{const c=es(t.visibleWrites,e);if(_m(c))return n;if(n==null&&!vm(c,xe()))return null;{const h=n||ue.EMPTY_NODE;return ta(c,h)}}}else{const u=es(t.visibleWrites,e);if(!o&&_m(u))return n;if(!o&&n==null&&!vm(u,xe()))return null;{const c=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(gn(p.path,e)||gn(e,p.path))},h=JT(t.allWrites,c,e),d=n||ue.EMPTY_NODE;return ta(h,d)}}}function Ok(t,e,n){let r=ue.EMPTY_NODE;const o=$s(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(et,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=es(t.visibleWrites,e);return n.forEachChild(et,(c,h)=>{const d=ta(es(u,new Le(c)),h);r=r.updateImmediateChild(c,d)}),DE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=es(t.visibleWrites,e);return DE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Ik(t,e,n,r,o){K(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Je(e,n);if(vm(t.visibleWrites,u))return null;{const c=es(t.visibleWrites,u);return _m(c)?o.getChild(n):ta(c,o.getChild(n))}}function kk(t,e,n,r){const o=Je(e,n),u=$s(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=es(t.visibleWrites,o);return ta(c,r.getNode().getImmediateChild(n))}else return null}function Lk(t,e){return $s(t.visibleWrites,e)}function Pk(t,e,n,r,o,u,c){let h;const d=es(t.visibleWrites,e),p=$s(d,xe());if(p!=null)h=p;else if(n!=null)h=ta(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let b=_.getNext();for(;b&&g.length<o;)y(b,r)!==0&&g.push(b),b=_.getNext();return g}else return[]}function Uk(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}function Tc(t,e,n,r){return eC(t.writeTree,t.treePath,e,n,r)}function Op(t,e){return Ok(t.writeTree,t.treePath,e)}function ME(t,e,n,r){return Ik(t.writeTree,t.treePath,e,n,r)}function Cc(t,e){return Lk(t.writeTree,Je(t.treePath,e))}function Vk(t,e,n,r,o,u){return Pk(t.writeTree,t.treePath,e,n,r,o,u)}function Ip(t,e,n){return kk(t.writeTree,t.treePath,e,n)}function tC(t,e){return nC(Je(t.treePath,e),t.writeTree)}function nC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,el(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Jo(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,Jr(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,el(r,e.snapshotNode,o.oldSnap));else throw ua("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const iC=new zk;class kp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ip(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ws(this.viewCache_),u=Vk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return{filter:t}}function jk(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Fk(t,e,n,r,o){const u=new Bk;let c,h;if(n.type===An.OVERWRITE){const p=n;p.source.fromUser?c=Em(t,e,p.path,p.snap,r,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ee(p.path),c=wc(t,e,p.path,p.snap,r,o,h,u))}else if(n.type===An.MERGE){const p=n;p.source.fromUser?c=Gk(t,e,p.path,p.children,r,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=bm(t,e,p.path,p.children,r,o,h,u))}else if(n.type===An.ACK_USER_WRITE){const p=n;p.revert?c=Wk(t,e,p.path,r,o,u):c=Yk(t,e,p.path,p.affectedTree,r,o,u)}else if(n.type===An.LISTEN_COMPLETE)c=Kk(t,e,n.path,r,u);else throw ua("Unknown operation type: "+n.type);const d=u.getChanges();return qk(e,c,d),{viewCache:c,changes:d}}function qk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=gm(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(XT(gm(e)))}}function sC(t,e,n,r,o,u){const c=e.eventCache;if(Cc(r,n)!=null)return e;{let h,d;if(Ee(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ws(e),g=p instanceof ue?p:ue.EMPTY_NODE,y=Op(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=Tc(r,Ws(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ge(n);if(p===".priority"){K(ts(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=ME(r,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=ze(n);let y;if(c.isCompleteForChild(p)){d=e.serverCache.getNode();const _=ME(r,n,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(p).updateChild(g,_):y=c.getNode().getImmediateChild(p)}else y=Ip(r,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,o,u):h=c.getNode()}}return Vo(e,h,c.isFullyInitialized()||Ee(n),t.filter.filtersNodes())}}function wc(t,e,n,r,o,u,c,h){const d=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(Ee(n))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(n,r);p=g.updateFullNode(d.getNode(),b,null)}else{const b=ge(n);if(!d.isCompleteForPath(n)&&ts(n)>1)return e;const S=ze(n),D=d.getNode().getImmediateChild(b).updateChild(S,r);b===".priority"?p=g.updatePriority(d.getNode(),D):p=g.updateChild(d.getNode(),b,D,S,iC,null)}const y=QT(e,p,d.isFullyInitialized()||Ee(n),g.filtersNodes()),_=new kp(o,y,u);return sC(t,y,n,o,_,h)}function Em(t,e,n,r,o,u,c){const h=e.eventCache;let d,p;const g=new kp(o,e,u);if(Ee(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=Vo(e,p,!0,t.filter.filtersNodes());else{const y=ge(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=Vo(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=ze(n),b=h.getNode().getImmediateChild(y);let S;if(Ee(_))S=r;else{const N=g.getCompleteChild(y);N!=null?Sp(_)===".priority"&&N.getChild(jT(_)).isEmpty()?S=N:S=N.updateChild(_,r):S=ue.EMPTY_NODE}if(b.equals(S))d=e;else{const N=t.filter.updateChild(h.getNode(),y,S,_,g,c);d=Vo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function OE(t,e){return t.eventCache.isCompleteForChild(e)}function Gk(t,e,n,r,o,u,c){let h=e;return r.foreach((d,p)=>{const g=Je(n,d);OE(e,ge(g))&&(h=Em(t,h,g,p,o,u,c))}),r.foreach((d,p)=>{const g=Je(n,d);OE(e,ge(g))||(h=Em(t,h,g,p,o,u,c))}),h}function IE(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function bm(t,e,n,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;Ee(n)?p=r:p=new Be(null).setTree(n,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),S=IE(t,b,_);d=wc(t,d,new Le(y),S,o,u,c,h)}}),p.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!b){const S=e.serverCache.getNode().getImmediateChild(y),N=IE(t,S,_);d=wc(t,d,new Le(y),N,o,u,c,h)}}),d}function Yk(t,e,n,r,o,u,c){if(Cc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Ee(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return wc(t,e,n,d.getNode().getChild(n),o,u,h,c);if(Ee(n)){let p=new Be(null);return d.getNode().forEachChild(Wr,(g,y)=>{p=p.set(new Le(g),y)}),bm(t,e,n,p,o,u,h,c)}else return e}else{let p=new Be(null);return r.foreach((g,y)=>{const _=Je(n,g);d.isCompleteForPath(_)&&(p=p.set(g,d.getNode().getChild(_)))}),bm(t,e,n,p,o,u,h,c)}}function Kk(t,e,n,r,o){const u=e.serverCache,c=QT(e,u.getNode(),u.isFullyInitialized()||Ee(n),u.isFiltered());return sC(t,c,n,r,iC,o)}function Wk(t,e,n,r,o,u){let c;if(Cc(r,n)!=null)return e;{const h=new kp(r,e,o),d=e.eventCache.getNode();let p;if(Ee(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Tc(r,Ws(e));else{const y=e.serverCache.getNode();K(y instanceof ue,"serverChildren would be complete if leaf node"),g=Op(r,y)}g=g,p=t.filter.updateFullNode(d,g,u)}else{const g=ge(n);let y=Ip(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=t.filter.updateChild(d,g,y,ze(n),h,u):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,ue.EMPTY_NODE,ze(n),h,u):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Tc(r,Ws(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||Cc(r,xe())!=null,Vo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ap(r.getIndex()),u=dk(r);this.processor_=Hk(u);const c=n.serverCache,h=n.eventCache,d=o.updateFullNode(ue.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(ue.EMPTY_NODE,h.getNode(),null),g=new Ks(d,c.isFullyInitialized(),o.filtersNodes()),y=new Ks(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Fc(y,g),this.eventGenerator_=new Ek(this.query_)}get query(){return this.query_}}function $k(t){return t.viewCache_.serverCache.getNode()}function Qk(t,e){const n=Ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ee(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function kE(t){return t.eventRegistrations_.length===0}function Zk(t,e){t.eventRegistrations_.push(e)}function LE(t,e,n){const r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function PE(t,e,n,r){e.type===An.MERGE&&e.source.queryId!==null&&(K(Ws(t.viewCache_),"We should always have a full cache before handling merges"),K(gm(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Fk(t.processor_,o,e,n,r);return jk(t.processor_,u.viewCache),K(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,rC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Jk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(et,(u,c)=>{r.push(Jr(u,c))}),n.isFullyInitialized()&&r.push(XT(n.getNode())),rC(t,r,n.getNode(),e)}function rC(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return bk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac;class eL{constructor(){this.views=new Map}}function tL(t){K(!Ac,"__referenceConstructor has already been defined"),Ac=t}function nL(){return K(Ac,"Reference.ts has not been loaded"),Ac}function iL(t){return t.views.size===0}function Lp(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return K(u!=null,"SyncTree gave us an op for an invalid query."),PE(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(PE(c,e,n,r));return u}}function sL(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=Tc(n,o?r:null),d=!1;h?d=!0:r instanceof ue?(h=Op(n,r),d=!1):(h=ue.EMPTY_NODE,d=!1);const p=Fc(new Ks(h,d,!1),new Ks(r,o,!1));return new Xk(e,p)}return c}function rL(t,e,n,r,o,u){const c=sL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Zk(c,n),Jk(c,n)}function aL(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const h=ns(t);if(o==="default")for(const[d,p]of t.views.entries())c=c.concat(LE(p,n,r)),kE(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||u.push(p.query));else{const d=t.views.get(o);d&&(c=c.concat(LE(d,n,r)),kE(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!ns(t)&&u.push(new(nL())(e._repo,e._path)),{removed:u,events:c}}function aC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xr(t,e){let n=null;for(const r of t.views.values())n=n||Qk(r,e);return n}function oC(t,e){if(e._queryParams.loadsAllData())return qc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function lC(t,e){return oC(t,e)!=null}function ns(t){return qc(t)!=null}function qc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;function oL(t){K(!Rc,"__referenceConstructor has already been defined"),Rc=t}function lL(){return K(Rc,"Reference.ts has not been loaded"),Rc}let uL=1;class UE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=Uk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uC(t,e,n,r,o){return wk(t.pendingWriteTree_,e,n,r,o),o?ma(t,new Ys(xp(),e,n)):[]}function cL(t,e,n,r){Ak(t.pendingWriteTree_,e,n,r);const o=Be.fromObject(n);return ma(t,new ea(xp(),e,o))}function $i(t,e,n=!1){const r=Rk(t.pendingWriteTree_,e);if(xk(t.pendingWriteTree_,e)){let u=new Be(null);return r.snap!=null?u=u.set(xe(),!0):Ct(r.children,c=>{u=u.set(new Le(c),!0)}),ma(t,new Sc(r.path,u,n))}else return[]}function Gc(t,e,n){return ma(t,new Ys(Np(),e,n))}function fL(t,e,n){const r=Be.fromObject(n);return ma(t,new ea(Np(),e,r))}function hL(t,e){return ma(t,new nl(Np(),e))}function dL(t,e,n){const r=Up(t,n);if(r){const o=Vp(r),u=o.path,c=o.queryId,h=Ht(u,e),d=new nl(Dp(c),h);return Bp(t,u,d)}else return[]}function Sm(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||lC(c,e))){const d=aL(c,e,n,r);iL(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const p=d.removed;if(h=d.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,b)=>ns(b));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const b=gL(_);for(let S=0;S<b.length;++S){const N=b[S],D=N.query,x=hC(t,N);t.listenProvider_.startListening(zo(D),xc(t,D),x.hashFn,x.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(zo(e),null):p.forEach(_=>{const b=t.queryToTagMap.get(Yc(_));t.listenProvider_.stopListening(zo(_),b)}))}yL(t,p)}return h}function mL(t,e,n,r){const o=Up(t,r);if(o!=null){const u=Vp(o),c=u.path,h=u.queryId,d=Ht(c,e),p=new Ys(Dp(h),d,n);return Bp(t,c,p)}else return[]}function pL(t,e,n,r){const o=Up(t,r);if(o){const u=Vp(o),c=u.path,h=u.queryId,d=Ht(c,e),p=Be.fromObject(n),g=new ea(Dp(h),d,p);return Bp(t,c,g)}else return[]}function VE(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,b)=>{const S=Ht(_,o);u=u||Xr(b,S),c=c||ns(b)});let h=t.syncPointTree_.get(o);h?(c=c||ns(h),u=u||Xr(h,xe())):(h=new eL,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=ue.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,S)=>{const N=Xr(S,xe());N&&(u=u.updateImmediateChild(b,N))}));const p=lC(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Yc(e);K(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=vL();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const g=Mp(t.pendingWriteTree_,o);let y=rL(h,e,n,g,u,d);if(!p&&!c&&!r){const _=oC(h,e);y=y.concat(_L(t,e,_))}return y}function Pp(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Ht(c,e),p=Xr(h,d);if(p)return p});return eC(o,e,u,n,!0)}function ma(t,e){return cC(e,t.syncPointTree_,null,Mp(t.pendingWriteTree_,xe()))}function cC(t,e,n,r){if(Ee(t.path))return fC(t,e,n,r);{const o=e.get(xe());n==null&&o!=null&&(n=Xr(o,xe()));let u=[];const c=ge(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const p=n?n.getImmediateChild(c):null,g=tC(r,c);u=u.concat(cC(h,d,p,g))}return o&&(u=u.concat(Lp(o,t,r,n))),u}}function fC(t,e,n,r){const o=e.get(xe());n==null&&o!=null&&(n=Xr(o,xe()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,p=tC(r,c),g=t.operationForChild(c);g&&(u=u.concat(fC(g,h,d,p)))}),o&&(u=u.concat(Lp(o,t,r,n))),u}function hC(t,e){const n=e.query,r=xc(t,n);return{hashFn:()=>($k(e)||ue.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?dL(t,n._path,r):hL(t,n._path);{const u=fI(o,n);return Sm(t,n,null,u)}}}}function xc(t,e){const n=Yc(e);return t.queryToTagMap.get(n)}function Yc(t){return t._path.toString()+"$"+t._queryIdentifier}function Up(t,e){return t.tagToQueryMap.get(e)}function Vp(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Le(t.substr(0,e))}}function Bp(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const o=Mp(t.pendingWriteTree_,e);return Lp(r,n,o,null)}function gL(t){return t.fold((e,n,r)=>{if(n&&ns(n))return[qc(n)];{let o=[];return n&&(o=aC(n)),Ct(r,(u,c)=>{o=o.concat(c)}),o}})}function zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lL())(t._repo,t._path):t}function yL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Yc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function vL(){return uL++}function _L(t,e,n){const r=e._path,o=xc(t,e),u=hC(t,n),c=t.listenProvider_.startListening(zo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)K(!ns(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,y)=>{if(!Ee(p)&&g&&ns(g))return[qc(g).query];{let _=[];return g&&(_=_.concat(aC(g).map(b=>b.query))),Ct(y,(b,S)=>{_=_.concat(S)}),_}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(zo(g),xc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zp(n)}node(){return this.node_}}class Hp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new Hp(this.syncTree_,n)}node(){return Pp(this.syncTree_,this.path_)}}const EL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},BE=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SL(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},SL=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},dC=function(t,e,n,r){return jp(e,new Hp(n,t),r)},mC=function(t,e,n){return jp(t,new zp(e),n)};function jp(t,e,n){const r=t.getPriority().val(),o=BE(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,h=BE(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new pt(h,yt(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new pt(o))),c.forEachChild(et,(h,d)=>{const p=jp(d,e.getImmediateChild(h),n);p!==d&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function qp(t,e){let n=e instanceof Le?e:new Le(e),r=t,o=ge(n);for(;o!==null;){const u=$r(r.node.children,o)||{children:{},childCount:0};r=new Fp(o,r,u),n=ze(n),o=ge(n)}return r}function pa(t){return t.node.value}function pC(t,e){t.node.value=e,Tm(t)}function gC(t){return t.node.childCount>0}function TL(t){return pa(t)===void 0&&!gC(t)}function Kc(t,e){Ct(t.node.children,(n,r)=>{e(new Fp(n,t,r))})}function yC(t,e,n,r){n&&e(t),Kc(t,o=>{yC(o,e,!0)})}function CL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Tl(t){return new Le(t.parent===null?t.name:Tl(t.parent)+"/"+t.name)}function Tm(t){t.parent!==null&&wL(t.parent,t.name,t)}function wL(t,e,n){const r=TL(n),o=qn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Tm(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Tm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/[\[\].#$\/\u0000-\u001F\u007F]/,RL=/[\[\].#$\u0000-\u001F\u007F]/,Vd=10*1024*1024,Gp=function(t){return typeof t=="string"&&t.length!==0&&!AL.test(t)},vC=function(t){return typeof t=="string"&&t.length!==0&&!RL.test(t)},xL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vC(t)},NL=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yp(t)||t&&typeof t=="object"&&qn(t,".sv")},_C=function(t,e,n,r){r&&e===void 0||Wc(Uc(t,"value"),e,n)},Wc=function(t,e,n){const r=n instanceof Le?new GI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Os(r));if(typeof e=="function")throw new Error(t+"contains a function "+Os(r)+" with contents = "+e.toString());if(yp(e))throw new Error(t+"contains "+e.toString()+" "+Os(r));if(typeof e=="string"&&e.length>Vd/3&&Vc(e)>Vd)throw new Error(t+"contains a string greater than "+Vd+" utf8 bytes "+Os(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ct(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Gp(c)))throw new Error(t+" contains an invalid key ("+c+") "+Os(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YI(r,c),Wc(t,h,r),KI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Os(r)+" in addition to actual children.")}},DL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=Zo(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Gp(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(qI);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&gn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},ML=function(t,e,n,r){const o=Uc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Ct(e,(c,h)=>{const d=new Le(c);if(Wc(o,h,Je(n,d)),Sp(d)===".priority"&&!NL(h))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(d)}),DL(o,u)},EC=function(t,e,n,r){if(!vC(n))throw new Error(Uc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EC(t,e,n)},bC=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},IL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xL(n))throw new Error(Uc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!Tp(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function SC(t,e,n){Xc(t,n),TC(t,r=>Tp(r,e))}function Dn(t,e,n){Xc(t,n),TC(t,r=>gn(r,e)||gn(e,r))}function TC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(LL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Po&&Tt("event: "+n.toString()),da(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="repo_interrupt",UL=25;class VL{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bc(),this.transactionQueueTree_=new Fp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BL(t,e,n){if(t.stats_=Ep(t.repoInfo_),t.forceRestClient_||pI())t.server_=new Ec(t.repoInfo_,(r,o,u,c)=>{zE(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>HE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new di(t.repoInfo_,e,(r,o,u,c)=>{zE(t,r,o,u,c)},r=>{HE(t,r)},r=>{zL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=EI(t.repoInfo_,()=>new _k(t.stats_,t.server_)),t.infoData_=new mk,t.infoSyncTree_=new UE({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=Gc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Yp(t,"connected",!1),t.serverSyncTree_=new UE({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const p=c(h,d);Dn(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function CC(t){const n=t.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $c(t){return EL({timestamp:CC(t)})}function zE(t,e,n,r,o){t.dataUpdateCount++;const u=new Le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const d=uc(n,p=>yt(p));c=pL(t.serverSyncTree_,u,d,o)}else{const d=yt(n);c=mL(t.serverSyncTree_,u,d,o)}else if(r){const d=uc(n,p=>yt(p));c=fL(t.serverSyncTree_,u,d)}else{const d=yt(n);c=Gc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=na(t,u)),Dn(t.eventQueue_,h,c)}function HE(t,e){Yp(t,"connected",e),e===!1&&FL(t)}function zL(t,e){Ct(e,(n,r)=>{Yp(t,n,r)})}function Yp(t,e,n){const r=new Le("/.info/"+e),o=yt(n);t.infoData_.updateSnapshot(r,o);const u=Gc(t.infoSyncTree_,r,o);Dn(t.eventQueue_,r,u)}function Kp(t){return t.nextWriteId_++}function HL(t,e,n,r,o){Qc(t,"set",{path:e.toString(),value:n,priority:r});const u=$c(t),c=yt(n,r),h=Pp(t.serverSyncTree_,e),d=mC(c,h,u),p=Kp(t),g=uC(t.serverSyncTree_,e,d,p,!0);Xc(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,b)=>{const S=_==="ok";S||kt("set at "+e+" failed: "+_);const N=$i(t.serverSyncTree_,p,!S);Dn(t.eventQueue_,e,N),Cm(t,o,_,b)});const y=Xp(t,e);na(t,y),Dn(t.eventQueue_,y,[])}function jL(t,e,n,r){Qc(t,"update",{path:e.toString(),value:n});let o=!0;const u=$c(t),c={};if(Ct(n,(h,d)=>{o=!1,c[h]=dC(Je(e,h),yt(d),t.serverSyncTree_,u)}),o)Tt("update() called with empty data.  Don't do anything."),Cm(t,r,"ok",void 0);else{const h=Kp(t),d=cL(t.serverSyncTree_,e,c,h);Xc(t.eventQueue_,d),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||kt("update at "+e+" failed: "+p);const _=$i(t.serverSyncTree_,h,!y),b=_.length>0?na(t,e):e;Dn(t.eventQueue_,b,_),Cm(t,r,p,g)}),Ct(n,p=>{const g=Xp(t,Je(e,p));na(t,g)}),Dn(t.eventQueue_,e,[])}}function FL(t){Qc(t,"onDisconnectEvents");const e=$c(t),n=bc();pm(t.onDisconnect_,xe(),(o,u)=>{const c=dC(o,u,t.serverSyncTree_,e);$T(n,o,c)});let r=[];pm(n,xe(),(o,u)=>{r=r.concat(Gc(t.serverSyncTree_,o,u));const c=Xp(t,o);na(t,c)}),t.onDisconnect_=bc(),Dn(t.eventQueue_,xe(),r)}function qL(t,e,n){let r;ge(e._path)===".info"?r=VE(t.infoSyncTree_,e,n):r=VE(t.serverSyncTree_,e,n),SC(t.eventQueue_,e._path,r)}function jE(t,e,n){let r;ge(e._path)===".info"?r=Sm(t.infoSyncTree_,e,n):r=Sm(t.serverSyncTree_,e,n),SC(t.eventQueue_,e._path,r)}function GL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PL)}function Qc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Tt(n,...e)}function Cm(t,e,n,r){e&&da(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function wC(t,e,n){return Pp(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function Wp(t,e=t.transactionQueueTree_){if(e||Zc(t,e),pa(e)){const n=RC(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&YL(t,Tl(e),n)}else gC(e)&&Kc(e,n=>{Wp(t,n)})}function YL(t,e,n){const r=n.map(p=>p.currentWriteId),o=wC(t,e,r);let u=o;const c=o.hash();for(let p=0;p<n.length;p++){const g=n[p];K(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ht(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,p=>{Qc(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat($i(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Zc(t,qp(t.transactionQueueTree_,e)),Wp(t,t.transactionQueueTree_),Dn(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)da(y[_])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{kt("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}na(t,e)}},c)}function na(t,e){const n=AC(t,e),r=Tl(n),o=RC(t,n);return KL(t,o,r),r}function KL(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=Ht(n,d.path);let g=!1,y;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat($i(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=UL)g=!0,y="maxretry",o=o.concat($i(t.serverSyncTree_,d.currentWriteId,!0));else{const _=wC(t,d.path,c);d.currentInputSnapshot=_;const b=e[h].update(_.val());if(b!==void 0){Wc("transaction failed: Data returned ",b,d.path);let S=yt(b);typeof b=="object"&&b!=null&&qn(b,".priority")||(S=S.updatePriority(_.getPriority()));const D=d.currentWriteId,x=$c(t),H=mC(S,_,x);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=H,d.currentWriteId=Kp(t),c.splice(c.indexOf(D),1),o=o.concat(uC(t.serverSyncTree_,d.path,H,d.currentWriteId,d.applyLocally)),o=o.concat($i(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",o=o.concat($i(t.serverSyncTree_,d.currentWriteId,!0))}Dn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Zc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)da(r[h]);Wp(t,t.transactionQueueTree_)}function AC(t,e){let n,r=t.transactionQueueTree_;for(n=ge(e);n!==null&&pa(r)===void 0;)r=qp(r,n),e=ze(e),n=ge(e);return r}function RC(t,e){const n=[];return xC(t,e,n),n.sort((r,o)=>r.order-o.order),n}function xC(t,e,n){const r=pa(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Kc(e,o=>{xC(t,o,n)})}function Zc(t,e){const n=pa(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,pC(e,n.length>0?n:void 0)}Kc(e,r=>{Zc(t,r)})}function Xp(t,e){const n=Tl(AC(t,e)),r=qp(t.transactionQueueTree_,e);return CL(r,o=>{Bd(t,o)}),Bd(t,r),yC(r,o=>{Bd(t,o)}),n}function Bd(t,e){const n=pa(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(K(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(K(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat($i(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?pC(e,void 0):n.length=u+1,Dn(t.eventQueue_,Tl(e),o);for(let c=0;c<r.length;c++)da(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function XL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const FE=function(t,e){const n=$L(t),r=n.namespace;n.domain==="firebase.com"&&vi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Le(n.pathString)}},$L=function(t){let e="",n="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=WL(t.substring(g,y)));const _=XL(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const b=e.slice(0,p);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=qE.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=qE.charAt(e[o]);return K(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vt(this.snapshot.exportVal())}}class JL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return Ee(this._path)?null:Sp(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=RE(this._queryParams),n=vp(e);return n==="{}"?"default":n}get _queryObject(){return RE(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof $p))return!1;const n=this._repo===e._repo,r=Tp(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+FI(this._path)}}class cs extends $p{constructor(e,n){super(e,n,new Rp,!1)}get parent(){const e=jT(this._path);return e===null?null:new cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Nc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Le(e),r=il(this.ref,e);return new Nc(this._node.getChild(n),r,et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Nc(o,il(this.ref,r),et)))}hasChild(e){const n=new Le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function je(t,e){return t=qt(t),t._checkNotDeleted("ref"),e!==void 0?il(t._root,e):t._root}function il(t,e){return t=qt(t),ge(t._path)===null?OL("child","path",e):EC("child","path",e),new cs(t._repo,Je(t._path,e))}function Gu(t,e){t=qt(t),bC("push",t._path),_C("push",e,t._path,!0);const n=CC(t._repo),r=QL(n),o=il(t,r),u=il(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Gi(t,e){t=qt(t),bC("set",t._path),_C("set",e,t._path,!1);const n=new ml;return HL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tP(t,e){ML("update",e,t._path);const n=new ml;return jL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Qp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ZL("value",this,new Nc(e.snapshotNode,new cs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new JL(this,e,n):null}matches(e){return e instanceof Qp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nP(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const d=n,p=(g,y)=>{jE(t._repo,t,h),d(g,y)};p.userCallback=n.userCallback,p.context=n.context,n=p}const c=new eP(n,u||void 0),h=new Qp(c);return qL(t._repo,t,h),()=>jE(t._repo,t,h)}function ks(t,e,n,r){return nP(t,"value",e,n,r)}tL(cs);oL(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FIREBASE_DATABASE_EMULATOR_HOST",wm={};let sP=!1;function rP(t,e,n,r){t.repoInfo_=new IT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function aP(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=FE(u,o),h=c.repoInfo,d;typeof process<"u"&&uE&&(d=uE[iP]),d?(u=`http://${d}?ns=${h.namespace}`,c=FE(u,o),h=c.repoInfo):c.repoInfo.secure;const p=new yI(t.name,t.options,e);IL("Invalid Firebase Database URL",c),Ee(c.path)||vi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=lP(h,t,p,new gI(t,n));return new uP(g,t)}function oP(t,e){const n=wm[e];(!n||n[t.key]!==t)&&vi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GL(t),delete n[t.key]}function lP(t,e,n,r){let o=wm[e.name];o||(o={},wm[e.name]=o);let u=o[t.toURLString()];return u&&vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new VL(t,sP,n,r),o[t.toURLString()]=u,u}class uP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&vi("Cannot call "+e+" on a deleted database.")}}function tn(t=US(),e){const n=rp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=fN("database");r&&cP(n,...r)}return n}function cP(t,e,n,r={}){t=qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Hs(r,u.repoInfo_.emulatorOptions))return;vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new nc(nc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:hN(r.mockUserToken,t.app.options.projectId);c=new nc(h)}rP(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){eI(fa),Qr(new js("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return aP(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),Ji(cE,fE,t),Ji(cE,fE,"esm2017")}di.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};di.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fP();var hP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const NC=PS(hP),Bs=$O(NC);tn(NC);var zd={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function dP(){if(GE)return Ro;GE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Ro.Fragment=e,Ro.jsx=n,Ro.jsxs=n,Ro}var YE;function mP(){return YE||(YE=1,zd.exports=dP()),zd.exports}var mi=mP();const Zp=C.createContext({});function Jp(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const eg=typeof window<"u",DC=eg?C.useLayoutEffect:C.useEffect,Jc=C.createContext(null),tg=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class pP extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gP({children:t,isPresent:e,anchorX:n}){const r=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(tg);return C.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),mi.jsx(pP,{isPresent:e,childRef:o,sizeRef:u,children:C.cloneElement(t,{ref:o})})}const yP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=Jp(vP),p=C.useId();let g=!0,y=C.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:o,onExitComplete:_=>{d.set(_,!0);for(const b of d.values())if(!b)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return u&&g&&(y={...y}),C.useMemo(()=>{d.forEach((_,b)=>d.set(b,!1))},[n]),C.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=mi.jsx(gP,{isPresent:n,anchorX:h,children:t})),mi.jsx(Jc.Provider,{value:y,children:t})};function vP(){return new Map}function MC(t=!0){const e=C.useContext(Jc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=C.useId();C.useEffect(()=>{if(t)return o(u)},[t]);const c=C.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const Yu=t=>t.key||"";function KE(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const _P=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,p]=MC(c),g=C.useMemo(()=>KE(t),[t]),y=c&&!d?[]:g.map(Yu),_=C.useRef(!0),b=C.useRef(g),S=Jp(()=>new Map),[N,D]=C.useState(g),[x,H]=C.useState(g);DC(()=>{_.current=!1,b.current=g;for(let P=0;P<x.length;P++){const X=Yu(x[P]);y.includes(X)?S.delete(X):S.get(X)!==!0&&S.set(X,!1)}},[x,y.length,y.join("-")]);const L=[];if(g!==N){let P=[...g];for(let X=0;X<x.length;X++){const Z=x[X],$=Yu(Z);y.includes($)||(P.splice(X,0,Z),L.push(Z))}return u==="wait"&&L.length&&(P=L),H(KE(P)),D(g),null}const{forceRender:W}=C.useContext(Zp);return mi.jsx(mi.Fragment,{children:x.map(P=>{const X=Yu(P),Z=c&&!d?!1:g===x||y.includes(X),$=()=>{if(S.has(X))S.set(X,!0);else return;let re=!0;S.forEach(Se=>{Se||(re=!1)}),re&&(W==null||W(),H(b.current),c&&(p==null||p()),r&&r())};return mi.jsx(yP,{isPresent:Z,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:Z?void 0:$,anchorX:h,children:P},X)})})};function ng(t,e){t.indexOf(e)===-1&&t.push(e)}function ig(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _i=(t,e,n)=>n>e?e:n<t?t:n;let sg=()=>{};const Ei={},OC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),IC=t=>/^0[^.\s]+$/u.test(t);function rg(t){let e;return()=>(e===void 0&&(e=t()),e)}const yn=t=>t,EP=(t,e)=>n=>e(t(n)),Cl=(...t)=>t.reduce(EP),sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ag{constructor(){this.subscriptions=[]}add(e){return ng(this.subscriptions,e),()=>ig(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=t=>t*1e3,Hn=t=>t/1e3;function kC(t,e){return e?t*(1e3/e):0}const LC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bP=1e-7,SP=12;function TP(t,e,n,r,o){let u,c,h=0;do c=e+(n-e)/2,u=LC(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>bP&&++h<SP);return c}function wl(t,e,n,r){if(t===e&&n===r)return yn;const o=u=>TP(u,0,1,t,n);return u=>u===0||u===1?u:LC(o(u),e,r)}const PC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UC=t=>e=>1-t(1-e),VC=wl(.33,1.53,.69,.99),og=UC(VC),BC=PC(og),zC=t=>(t*=2)<1?.5*og(t):.5*(2-Math.pow(2,-10*(t-1))),lg=t=>1-Math.sin(Math.acos(t)),HC=UC(lg),jC=PC(lg),CP=wl(.42,0,1,1),wP=wl(0,0,.58,1),FC=wl(.42,0,.58,1),AP=t=>Array.isArray(t)&&typeof t[0]!="number",qC=t=>Array.isArray(t)&&typeof t[0]=="number",RP={linear:yn,easeIn:CP,easeInOut:FC,easeOut:wP,circIn:lg,circInOut:jC,circOut:HC,backIn:og,backInOut:BC,backOut:VC,anticipate:zC},xP=t=>typeof t=="string",WE=t=>{if(qC(t)){sg(t.length===4);const[e,n,r,o]=t;return wl(e,n,r,o)}else if(xP(t))return RP[t];return t},Ku=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],XE={value:null};function NP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,b=!1)=>{const N=b&&o?n:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),e&&XE.value&&XE.value.frameloop[e].push(d),d=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const DP=40;function GC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Ku.reduce((L,W)=>(L[W]=NP(u,e?W:void 0),L),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:b,postRender:S}=c,N=()=>{const L=Ei.useManualTiming?o.timestamp:performance.now();n=!1,Ei.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,DP),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),b.process(o),S.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(N))},D=()=>{n=!0,r=!0,o.isProcessing||t(N)};return{schedule:Ku.reduce((L,W)=>{const P=c[W];return L[W]=(X,Z=!1,$=!1)=>(n||D(),P.schedule(X,Z,$)),L},{}),cancel:L=>{for(let W=0;W<Ku.length;W++)c[Ku[W]].cancel(L)},state:o,steps:c}}const{schedule:Xe,cancel:is,state:St,steps:Hd}=GC(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0);let ic;function MP(){ic=void 0}const Ft={now:()=>(ic===void 0&&Ft.set(St.isProcessing||Ei.useManualTiming?St.timestamp:performance.now()),ic),set:t=>{ic=t,queueMicrotask(MP)}},YC=t=>e=>typeof e=="string"&&e.startsWith(t),ug=YC("--"),OP=YC("var(--"),cg=t=>OP(t)?IP.test(t.split("/*")[0].trim()):!1,IP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...ga,transform:t=>_i(0,1,t)},Wu={...ga,default:1},Ho=t=>Math.round(t*1e5)/1e5,fg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kP(t){return t==null}const LP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hg=(t,e)=>n=>!!(typeof n=="string"&&LP.test(n)&&n.startsWith(t)||e&&!kP(n)&&Object.prototype.hasOwnProperty.call(n,e)),KC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(fg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},PP=t=>_i(0,255,t),jd={...ga,transform:t=>Math.round(PP(t))},Us={test:hg("rgb","red"),parse:KC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jd.transform(t)+", "+jd.transform(e)+", "+jd.transform(n)+", "+Ho(rl.transform(r))+")"};function UP(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Am={test:hg("#"),parse:UP,transform:Us.transform},Al=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yi=Al("deg"),jn=Al("%"),le=Al("px"),VP=Al("vh"),BP=Al("vw"),$E={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},Br={test:hg("hsl","hue"),parse:KC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(Ho(e))+", "+jn.transform(Ho(n))+", "+Ho(rl.transform(r))+")"},xt={test:t=>Us.test(t)||Am.test(t)||Br.test(t),parse:t=>Us.test(t)?Us.parse(t):Br.test(t)?Br.parse(t):Am.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Us.transform(t):Br.transform(t)},zP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fg))==null?void 0:e.length)||0)+(((n=t.match(zP))==null?void 0:n.length)||0)>0}const WC="number",XC="color",jP="var",FP="var(",QE="${}",qP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function al(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(qP,d=>(xt.test(d)?(r.color.push(u),o.push(XC),n.push(xt.parse(d))):d.startsWith(FP)?(r.var.push(u),o.push(jP),n.push(d)):(r.number.push(u),o.push(WC),n.push(parseFloat(d))),++u,QE)).split(QE);return{values:n,split:h,indexes:r,types:o}}function $C(t){return al(t).values}function QC(t){const{split:e,types:n}=al(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=n[c];h===WC?u+=Ho(o[c]):h===XC?u+=xt.transform(o[c]):u+=o[c]}return u}}const GP=t=>typeof t=="number"?0:t;function YP(t){const e=$C(t);return QC(t)(e.map(GP))}const ss={test:HP,parse:$C,createTransformer:QC,getAnimatableNone:YP};function Fd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=Fd(d,h,t+1/3),u=Fd(d,h,t),c=Fd(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Dc(t,e){return n=>n>0?e:t}const We=(t,e,n)=>t+(e-t)*n,qd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},WP=[Am,Us,Br],XP=t=>WP.find(e=>e.test(t));function ZE(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===Br&&(n=KP(n)),n}const JE=(t,e)=>{const n=ZE(t),r=ZE(e);if(!n||!r)return Dc(t,e);const o={...n};return u=>(o.red=qd(n.red,r.red,u),o.green=qd(n.green,r.green,u),o.blue=qd(n.blue,r.blue,u),o.alpha=We(n.alpha,r.alpha,u),Us.transform(o))},Rm=new Set(["none","hidden"]);function $P(t,e){return Rm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QP(t,e){return n=>We(t,e,n)}function dg(t){return typeof t=="number"?QP:typeof t=="string"?cg(t)?Dc:xt.test(t)?JE:e2:Array.isArray(t)?ZC:typeof t=="object"?xt.test(t)?JE:ZP:Dc}function ZC(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>dg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function ZP(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=dg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function JP(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;n[o]=h,r[u]++}return n}const e2=(t,e)=>{const n=ss.createTransformer(e),r=al(t),o=al(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Rm.has(t)&&!o.values.length||Rm.has(e)&&!r.values.length?$P(t,e):Cl(ZC(JP(r,o),o.values),n):Dc(t,e)};function JC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):dg(t)(t,e)}const t2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>is(e),now:()=>St.isProcessing?St.timestamp:Ft.now()}},ew=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Mc=2e4;function mg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mc;)e+=n,r=t.next(e);return e>=Mc?1/0:e}function n2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(mg(r),Mc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Hn(o)}}const i2=5;function tw(t,e,n){const r=Math.max(e-i2,0);return kC(n-t(r),e-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eb=.001;function s2({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let o,u,c=1-e;c=_i(Ze.minDamping,Ze.maxDamping,c),t=_i(Ze.minDuration,Ze.maxDuration,Hn(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-n,b=xm(p,c),S=Math.exp(-y);return eb-_/b*S},u=p=>{const y=p*c*t,_=y*n+n,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-y),N=xm(Math.pow(p,2),c);return(-o(p)+eb>0?-1:1)*((_-b)*S)/N}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-.001+g*y},u=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const h=5/t,d=a2(o,u,h);if(t=zn(t),isNaN(d))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const r2=12;function a2(t,e,n){let r=n;for(let o=1;o<r2;o++)r=r-t(r)/e(r);return r}function xm(t,e){return t*Math.sqrt(1-e*e)}const o2=["duration","bounce"],l2=["stiffness","damping","mass"];function tb(t,e){return e.some(n=>t[n]!==void 0)}function u2(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!tb(t,l2)&&tb(t,o2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:u}}else{const n=s2(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function Oc(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:b}=u2({...n,velocity:-Hn(n.velocity||0)}),S=_||0,N=p/(2*Math.sqrt(d*g)),D=c-u,x=Hn(Math.sqrt(d/g)),H=Math.abs(D)<5;r||(r=H?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=H?Ze.restDelta.granular:Ze.restDelta.default);let L;if(N<1){const P=xm(x,N);L=X=>{const Z=Math.exp(-N*x*X);return c-Z*((S+N*x*D)/P*Math.sin(P*X)+D*Math.cos(P*X))}}else if(N===1)L=P=>c-Math.exp(-x*P)*(D+(S+x*D)*P);else{const P=x*Math.sqrt(N*N-1);L=X=>{const Z=Math.exp(-N*x*X),$=Math.min(P*X,300);return c-Z*((S+N*x*D)*Math.sinh($)+P*D*Math.cosh($))/P}}const W={calculatedDuration:b&&y||null,next:P=>{const X=L(P);if(b)h.done=P>=y;else{let Z=P===0?S:0;N<1&&(Z=P===0?zn(S):tw(L,P,X));const $=Math.abs(Z)<=r,re=Math.abs(c-X)<=o;h.done=$&&re}return h.value=h.done?c:X,h},toString:()=>{const P=Math.min(mg(W),Mc),X=ew(Z=>W.next(P*Z).value,P,30);return P+"ms "+X},toTransition:()=>{}};return W}Oc.applyToOptions=t=>{const e=n2(t,100,Oc);return t.ease=e.ease,t.duration=zn(e.duration),t.type="keyframes",t};function Nm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},b=$=>h!==void 0&&$<h||d!==void 0&&$>d,S=$=>h===void 0?d:d===void 0||Math.abs(h-$)<Math.abs(d-$)?h:d;let N=n*e;const D=y+N,x=c===void 0?D:c(D);x!==D&&(N=x-y);const H=$=>-N*Math.exp(-$/r),L=$=>x+H($),W=$=>{const re=H($),Se=L($);_.done=Math.abs(re)<=p,_.value=_.done?x:Se};let P,X;const Z=$=>{b(_.value)&&(P=$,X=Oc({keyframes:[_.value,S(_.value)],velocity:tw(L,$,_.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:$=>{let re=!1;return!X&&P===void 0&&(re=!0,W($),Z($)),P!==void 0&&$>=P?X.next($-P):(!re&&W($),_)}}}function c2(t,e,n){const r=[],o=n||Ei.mix||JC,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||yn:e;h=Cl(d,h)}r.push(h)}return r}function f2(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(sg(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=c2(e,r,o),d=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=sl(t[y],t[y+1],g);return h[y](_)};return n?g=>p(_i(t[0],t[u-1],g)):p}function h2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=sl(0,e,r);t.push(We(n,1,o))}}function d2(t){const e=[0];return h2(e,t.length-1),e}function m2(t,e){return t.map(n=>n*e)}function p2(t,e){return t.map(()=>e||FC).splice(0,t.length-1)}function jo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=AP(r)?r.map(WE):WE(r),u={done:!1,value:e[0]},c=m2(n&&n.length===e.length?n:d2(e),t),h=f2(c,e,{ease:Array.isArray(o)?o:p2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const g2=t=>t!==null;function pg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(g2),h=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const y2={decay:Nm,inertia:Nm,tween:jo,keyframes:jo,spring:Oc};function nw(t){typeof t.type=="string"&&(t.type=y2[t.type])}class gg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v2=t=>t/100;class iw extends gg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nw(e);const{type:n=jo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=n||jo;d!==jo&&typeof h[0]!="number"&&(this.mixKeyframes=Cl(v2,JC(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=mg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:b,type:S,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?x<0:x>o;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,W=r;if(y){const $=Math.min(this.currentTime,o)/h;let re=Math.floor($),Se=$%1;!Se&&$>=1&&(Se=1),Se===1&&re--,re=Math.min(re,y+1),!!(re%2)&&(_==="reverse"?(Se=1-Se,b&&(Se-=b/h)):_==="mirror"&&(W=c)),L=_i(0,1,Se)*h}const P=H?{done:!1,value:g[0]}:W.next(L);u&&(P.value=u(P.value));let{done:X}=P;!H&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&S!==Nm&&(P.value=pg(g,this.options,D,this.speed)),N&&N(P.value),Z&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Hn(this.calculatedDuration)}get time(){return Hn(this.currentTime)}set time(e){e=zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=t2,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function _2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vs=t=>t*180/Math.PI,Dm=t=>{const e=Vs(Math.atan2(t[1],t[0]));return Mm(e)},E2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Dm,rotateZ:Dm,skewX:t=>Vs(Math.atan(t[1])),skewY:t=>Vs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mm=t=>(t=t%360,t<0&&(t+=360),t),nb=Dm,ib=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ib,scaleY:sb,scale:t=>(ib(t)+sb(t))/2,rotateX:t=>Mm(Vs(Math.atan2(t[6],t[5]))),rotateY:t=>Mm(Vs(Math.atan2(-t[2],t[0]))),rotateZ:nb,rotate:nb,skewX:t=>Vs(Math.atan(t[4])),skewY:t=>Vs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rb(t){return t.includes("scale")?1:0}function Om(t,e){if(!t||t==="none")return rb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=b2,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=E2,o=h}if(!o)return rb(e);const u=r[e],c=o[1].split(",").map(T2);return typeof u=="function"?u(c):c[u]}const S2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Om(n,e)};function T2(t){return parseFloat(t.trim())}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],va=new Set(ya),ab=t=>t===ga||t===le,C2=new Set(["x","y","z"]),w2=ya.filter(t=>!C2.has(t));function A2(t){const e=[];return w2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Om(e,"x"),y:(t,{transform:e})=>Om(e,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const zs=new Set;let Im=!1,km=!1,Lm=!1;function sw(){if(km){const t=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=A2(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}km=!1,Im=!1,zs.forEach(t=>t.complete(Lm)),zs.clear()}function rw(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(km=!0)})}function R2(){Lm=!0,rw(),sw(),Lm=!1}class yg{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zs.add(this),Im||(Im=!0,Xe.read(rw),Xe.resolveKeyframes(sw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}_2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x2=t=>t.startsWith("--");function N2(t,e,n){x2(e)?t.style.setProperty(e,n):t.style[e]=n}const D2=rg(()=>window.ScrollTimeline!==void 0),M2={};function O2(t,e){const n=rg(t);return()=>M2[e]??n()}const aw=O2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Io=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function ow(t,e){if(t)return typeof t=="function"?aw()?ew(t,e):"ease-out":qC(t)?Io(t):Array.isArray(t)?t.map(n=>ow(n,e)||ob.easeOut):ob[t]}function I2(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const y=ow(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function lw(t){return typeof t=="function"&&"applyToOptions"in t}function k2({type:t,...e}){return lw(t)&&aw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L2 extends gg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,sg(typeof e.type!="string");const p=k2(e);this.animation=I2(n,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=pg(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):N2(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Hn(Number(e))}get time(){return Hn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D2()?(this.animation.timeline=e,yn):n(this)}}const uw={anticipate:zC,backInOut:BC,circInOut:jC};function P2(t){return t in uw}function U2(t){typeof t.ease=="string"&&P2(t.ease)&&(t.ease=uw[t.ease])}const lb=10;class V2 extends L2{constructor(e){U2(e),nw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new iw({...c,autoplay:!1}),d=zn(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-lb).value,h.sample(d).value,lb),h.stop()}}const ub=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ss.test(t)||t==="0")&&!t.startsWith("url("));function B2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z2(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=ub(o,e),h=ub(u,e);return!c||!h?!1:B2(t)||(n==="spring"||lw(n))&&r}const H2=new Set(["opacity","clipPath","filter","transform"]),j2=rg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F2(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return j2()&&n&&H2.has(n)&&(n!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const q2=40;class G2 extends gg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:g,...y}){var S;super(),this.stop=()=>{var N,D;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ft.now();const _={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:p,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||yg;this.keyframeResolver=new b(h,(N,D,x)=>this.onKeyframesResolved(N,D,_,!x),d,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Ft.now(),z2(e,u,c,h)||((Ei.instantAnimations||!d)&&(g==null||g(pg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>q2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!p&&F2(_)?new V2({..._,element:_.motionValue.owner.current}):new iw(_);b.finished.then(()=>this.notifyFinished()).catch(yn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||R2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Y2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K2(t){const e=Y2.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function cw(t,e,n=1){const[r,o]=K2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return OC(c)?parseFloat(c):c}return cg(o)?cw(o,e,n+1):o}function vg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const fw=new Set(["width","height","top","left","right","bottom",...ya]),W2={test:t=>t==="auto",parse:t=>t},hw=t=>e=>e.test(t),dw=[ga,le,jn,Yi,BP,VP,W2],cb=t=>dw.find(hw(t));function X2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IC(t):!0}const $2=new Set(["brightness","contrast","saturate","opacity"]);function Q2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fg)||[];if(!r)return t;const o=n.replace(r,"");let u=$2.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const Z2=/\b([a-z-]*)\(.*?\)/gu,Pm={...ss,getAnimatableNone:t=>{const e=t.match(Z2);return e?e.map(Q2).join(" "):t}},fb={...ga,transform:Math.round},J2={rotate:Yi,rotateX:Yi,rotateY:Yi,rotateZ:Yi,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:Yi,skewX:Yi,skewY:Yi,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:rl,originX:$E,originY:$E,originZ:le},_g={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...J2,zIndex:fb,fillOpacity:rl,strokeOpacity:rl,numOctaves:fb},eU={..._g,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Pm,WebkitFilter:Pm},mw=t=>eU[t];function pw(t,e){let n=mw(t);return n!==Pm&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tU=new Set(["auto","none","0"]);function nU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!tU.has(u)&&al(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=pw(n,o)}class iU extends yg{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),cg(p))){const g=cw(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!fw.has(r)||e.length!==2)return;const[o,u]=e,c=cb(o),h=cb(u);if(c!==h)if(ab(c)&&ab(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||X2(e[o]))&&r.push(o);r.length&&nU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function sU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:Eg}=GC(queueMicrotask,!1),Tn={x:!1,y:!1};function gw(){return Tn.x||Tn.y}function rU(t){return t==="x"||t==="y"?Tn[t]?null:(Tn[t]=!0,()=>{Tn[t]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}function yw(t,e){const n=sU(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function hb(t){return!(t.pointerType==="touch"||gw())}function aU(t,e,n={}){const[r,o,u]=yw(t,n),c=h=>{if(!hb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=y=>{hb(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const vw=(t,e)=>e?t===e?!0:vw(t,e.parentElement):!1,bg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lU(t){return oU.has(t.tagName)||t.tabIndex!==-1}const ko=new WeakSet;function db(t){return e=>{e.key==="Enter"&&t(e)}}function Gd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=db(()=>{if(ko.has(n))return;Gd(n,"down");const o=db(()=>{Gd(n,"up")}),u=()=>Gd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mb(t){return bg(t)&&!gw()}function cU(t,e,n={}){const[r,o,u]=yw(t,n),c=h=>{const d=h.currentTarget;if(!mb(h)||ko.has(d))return;ko.add(d);const p=e(d,h),g=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!mb(b)||!ko.has(d))&&(ko.delete(d),typeof p=="function"&&p(b,{success:S}))},y=b=>{g(b,d===window||d===document||n.useGlobalTarget||vw(d,b.target))},_=b=>{g(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",p=>uU(p,o)),!lU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const pb=30,fU=t=>!isNaN(parseFloat(t));class hU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Ft.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ag);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pb);return kC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new hU(t,e)}const dU=[...dw,xt,ss],mU=t=>dU.find(hw(t)),_w=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ew=C.createContext({strict:!1}),gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const t in gb)sa[t]={isEnabled:e=>gb[t].some(n=>!!e[n])};function pU(t){for(const e in t)sa[e]={...sa[e],...t[e]}}const gU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gU.has(t)}let bw=t=>!Ic(t);function yU(t){t&&(bw=e=>e.startsWith("on")?!Ic(e):t(e))}try{yU(require("@emotion/is-prop-valid").default)}catch{}function vU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(bw(o)||n===!0&&Ic(o)||!e&&!Ic(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function _U(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const ef=C.createContext({});function tf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ll(t){return typeof t=="string"||Array.isArray(t)}const Sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tg=["initial",...Sg];function nf(t){return tf(t.animate)||Tg.some(e=>ll(t[e]))}function Sw(t){return!!(nf(t)||t.variants)}function EU(t,e){if(nf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ll(n)?n:void 0,animate:ll(r)?r:void 0}}return t.inherit!==!1?e:{}}function bU(t){const{initial:e,animate:n}=EU(t,C.useContext(ef));return C.useMemo(()=>({initial:e,animate:n}),[yb(e),yb(n)])}function yb(t){return Array.isArray(t)?t.join(" "):t}const SU=Symbol.for("motionComponentSymbol");function zr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TU(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zr(n)&&(n.current=r))},[e])}const Cg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CU="framerAppearId",Tw="data-"+Cg(CU),Cw=C.createContext({});function wU(t,e,n,r,o){var N,D;const{visualElement:u}=C.useContext(ef),c=C.useContext(Ew),h=C.useContext(Jc),d=C.useContext(tg).reducedMotion,p=C.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=C.useContext(Cw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&AU(p.current,n,o,y);const _=C.useRef(!1);C.useInsertionEffect(()=>{g&&_.current&&g.update(n,h)});const b=n[Tw],S=C.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,b)));return DC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Eg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,b)}),S.current=!1))}),g}function AU(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ww(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&zr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function ww(t){if(t)return t.options.allowProjection!==!1?t.projection:ww(t.parent)}function RU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&pU(t);function u(h,d){let p;const g={...C.useContext(tg),...h,layoutId:xU(h)},{isStatic:y}=g,_=bU(h),b=r(h,y);if(!y&&eg){NU();const S=DU(g);p=S.MeasureLayout,_.visualElement=wU(o,b,g,e,S.ProjectionNode)}return mi.jsxs(ef.Provider,{value:_,children:[p&&_.visualElement?mi.jsx(p,{visualElement:_.visualElement,...g}):null,n(o,h,TU(b,_.visualElement,d),b,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=C.forwardRef(u);return c[SU]=o,c}function xU({layoutId:t}){const e=C.useContext(Zp).id;return e&&t!==void 0?e+"-"+t:t}function NU(t,e){C.useContext(Ew).strict}function DU(t){const{drag:e,layout:n}=sa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ul={};function MU(t){for(const e in t)ul[e]=t[e],ug(e)&&(ul[e].isCSSVariable=!0)}function Aw(t,{layout:e,layoutId:n}){return va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ul[t]||t==="opacity")}const Nt=t=>!!(t&&t.getVelocity),OU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IU=ya.length;function kU(t,e,n){let r="",o=!0;for(let u=0;u<IU;u++){const c=ya[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=_w(h,_g[c]);if(!d){o=!1;const g=OU[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function wg(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(va.has(d)){c=!0;continue}else if(ug(d)){o[d]=p;continue}else{const g=_w(p,_g[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=kU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${p} ${g}`}}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rw(t,e,n){for(const r in e)!Nt(e[r])&&!Aw(r,n)&&(t[r]=e[r])}function LU({transformTemplate:t},e){return C.useMemo(()=>{const n=Ag();return wg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PU(t,e){const n=t.style||{},r={};return Rw(r,n,t),Object.assign(r,LU(t,e)),r}function UU(t,e){const n={},r=PU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const VU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rg(t){return typeof t!="string"||t.includes("-")?!1:!!(VU.indexOf(t)>-1||/[A-Z]/u.test(t))}const BU={offset:"stroke-dashoffset",array:"stroke-dasharray"},zU={offset:"strokeDashoffset",array:"strokeDasharray"};function HU(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?BU:zU;t[u.offset]=le.transform(-r);const c=le.transform(e),h=le.transform(n);t[u.array]=`${c} ${h}`}function xw(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,p){if(wg(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&HU(g,o,u,c,!1)}const Nw=()=>({...Ag(),attrs:{}}),Dw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jU(t,e,n,r){const o=C.useMemo(()=>{const u=Nw();return xw(u,e,Dw(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Rw(u,t.style,t),o.style={...u,...o.style}}return o}function FU(t=!1){return(n,r,o,{latestValues:u},c)=>{const d=(Rg(n)?jU:UU)(r,u,c,n),p=vU(r,typeof n=="string",t),g=n!==C.Fragment?{...p,...d,ref:o}:{},{children:y}=r,_=C.useMemo(()=>Nt(y)?y.get():y,[y]);return C.createElement(n,{...g,children:_})}}function vb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function xg(t,e,n,r){if(typeof e=="function"){const[o,u]=vb(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=vb(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function sc(t){return Nt(t)?t.get():t}function qU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:GU(n,r,o,t),renderState:e()}}const Mw=t=>(e,n)=>{const r=C.useContext(ef),o=C.useContext(Jc),u=()=>qU(t,e,r,o);return n?u():Jp(u)};function GU(t,e,n,r){const o={},u=r(t,{});for(const _ in u)o[_]=sc(u[_]);let{initial:c,animate:h}=t;const d=nf(t),p=Sw(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!tf(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const S=xg(t,_[b]);if(S){const{transitionEnd:N,transition:D,...x}=S;for(const H in x){let L=x[H];if(Array.isArray(L)){const W=g?L.length-1:0;L=L[W]}L!==null&&(o[H]=L)}for(const H in N)o[H]=N[H]}}}return o}function Ng(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Nt(r[c])||e.style&&Nt(e.style[c])||Aw(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const YU={useVisualState:Mw({scrapeMotionValuesFromProps:Ng,createRenderState:Ag})};function Ow(t,e,n){const r=Ng(t,e,n);for(const o in t)if(Nt(t[o])||Nt(e[o])){const u=ya.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const KU={useVisualState:Mw({scrapeMotionValuesFromProps:Ow,createRenderState:Nw})};function WU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Rg(r)?KU:YU,preloadedFeatures:t,useRender:FU(o),createVisualElement:e,Component:r};return RU(c)}}function cl(t,e,n){const r=t.getProps();return xg(r,e,n!==void 0?n:r.custom,t)}const Um=t=>Array.isArray(t);function XU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function $U(t){return Um(t)?t[t.length-1]||0:t}function QU(t,e){const n=cl(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const h=$U(u[c]);XU(t,c,h)}}function ZU(t){return!!(Nt(t)&&t.add)}function Vm(t,e){const n=t.getValue("willChange");if(ZU(n))return n.add(e);if(!n&&Ei.WillChange){const r=new Ei.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Iw(t){return t.props[Tw]}const JU=t=>t!==null;function e3(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(JU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const t3={type:"spring",stiffness:500,damping:25,restSpeed:10},n3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i3={type:"keyframes",duration:.8},s3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r3=(t,{keyframes:e})=>e.length>2?i3:va.has(t)?t.startsWith("scale")?n3(e[1]):t3:s3;function a3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Dg=(t,e,n,r={},o,u)=>c=>{const h=vg(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-zn(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};a3(h)||Object.assign(g,r3(t,g)),g.duration&&(g.duration=zn(g.duration)),g.repeatDelay&&(g.repeatDelay=zn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ei.instantAnimations||Ei.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=e3(g.keyframes,h);if(_!==void 0){Xe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new G2(g)};function o3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&o3(p,g))continue;const b={delay:n,...vg(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===S&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const x=Iw(t);if(x){const H=window.MotionHandoffAnimation(x,g,Xe);H!==null&&(b.startTime=H,N=!0)}}Vm(t,g),y.start(Dg(g,y,_,t.shouldReduceMotion&&fw.has(g)?{type:!1}:b,t,N));const D=y.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{Xe.update(()=>{c&&QU(t,c)})}),d}function Bm(t,e,n={}){var d;const r=cl(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(kw(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return l3(t,e,g+p,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function l3(t,e,n=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(u3).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(Bm(p,e,{...u,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function u3(t,e){return t.sortNodePosition(e)}function c3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Bm(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=Bm(t,e,n);else{const o=typeof e=="function"?cl(t,e,n.custom):e;r=Promise.all(kw(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Lw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const f3=Tg.length;function Pw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<f3;n++){const r=Tg[n],o=t.props[r];(ll(o)||o===!1)&&(e[r]=o)}return e}const h3=[...Sg].reverse(),d3=Sg.length;function m3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>c3(t,n,r)))}function p3(t){let e=m3(t),n=_b(),r=!0;const o=d=>(p,g)=>{var _;const y=cl(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:S,...N}=y;p={...p,...N,...S}}return p};function u(d){e=d(t)}function c(d){const{props:p}=t,g=Pw(t.parent)||{},y=[],_=new Set;let b={},S=1/0;for(let D=0;D<d3;D++){const x=h3[D],H=n[x],L=p[x]!==void 0?p[x]:g[x],W=ll(L),P=x===d?H.isActive:null;P===!1&&(S=D);let X=L===g[x]&&L!==p[x]&&W;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),H.protectedKeys={...b},!H.isActive&&P===null||!L&&!H.prevProp||tf(L)||typeof L=="boolean")continue;const Z=g3(H.prevProp,L);let $=Z||x===d&&H.isActive&&!X&&W||D>S&&W,re=!1;const Se=Array.isArray(L)?L:[L];let Ge=Se.reduce(o(x),{});P===!1&&(Ge={});const{prevResolvedValues:He={}}=H,_n={...He,...Ge},Gt=Y=>{$=!0,_.has(Y)&&(re=!0,_.delete(Y)),H.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in _n){const ee=Ge[Y],we=He[Y];if(b.hasOwnProperty(Y))continue;let w=!1;Um(ee)&&Um(we)?w=!Lw(ee,we):w=ee!==we,w?ee!=null?Gt(Y):_.add(Y):ee!==void 0&&_.has(Y)?Gt(Y):H.protectedKeys[Y]=!0}H.prevProp=L,H.prevResolvedValues=Ge,H.isActive&&(b={...b,...Ge}),r&&t.blockInitialAnimation&&($=!1),$&&(!(X&&Z)||re)&&y.push(...Se.map(Y=>({animation:Y,options:{type:x}})))}if(_.size){const D={};if(typeof p.initial!="boolean"){const x=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);x&&x.transition&&(D.transition=x.transition)}_.forEach(x=>{const H=t.getBaseTarget(x),L=t.getValue(x);L&&(L.liveStyle=!0),D[x]=H??null}),y.push({animation:D})}let N=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(d,p)}),n[d].isActive=p;const g=c(d);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=_b(),r=!0}}}function g3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Lw(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _b(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class y3 extends fs{constructor(e){super(e),e.animationState||(e.animationState=p3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let v3=0;class _3 extends fs{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const E3={animation:{Feature:y3},exit:{Feature:_3}};function fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Rl(t){return{point:{x:t.pageX,y:t.pageY}}}const b3=t=>e=>bg(e)&&t(e,Rl(e));function Fo(t,e,n,r){return fl(t,e,b3(n),r)}function Uw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Vw=1e-4,C3=1-Vw,w3=1+Vw,Bw=.01,A3=0-Bw,R3=0+Bw;function It(t){return t.max-t.min}function x3(t,e,n){return Math.abs(t-e)<=n}function Eb(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=It(n)/It(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C3&&t.scale<=w3||isNaN(t.scale))&&(t.scale=1),(t.translate>=A3&&t.translate<=R3||isNaN(t.translate))&&(t.translate=0)}function qo(t,e,n,r){Eb(t.x,e.x,n.x,r?r.originX:void 0),Eb(t.y,e.y,n.y,r?r.originY:void 0)}function bb(t,e,n){t.min=n.min+e.min,t.max=t.min+It(e)}function N3(t,e,n){bb(t.x,e.x,n.x),bb(t.y,e.y,n.y)}function Sb(t,e,n){t.min=e.min-n.min,t.max=t.min+It(e)}function Go(t,e,n){Sb(t.x,e.x,n.x),Sb(t.y,e.y,n.y)}const Tb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:Tb(),y:Tb()}),Cb=()=>({min:0,max:0}),rt=()=>({x:Cb(),y:Cb()});function pn(t){return[t("x"),t("y")]}function Yd(t){return t===void 0||t===1}function zm({scale:t,scaleX:e,scaleY:n}){return!Yd(t)||!Yd(e)||!Yd(n)}function Is(t){return zm(t)||zw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zw(t){return wb(t.x)||wb(t.y)}function wb(t){return t&&t!=="0%"}function kc(t,e,n){const r=t-n,o=e*r;return n+o}function Ab(t,e,n,r,o){return o!==void 0&&(t=kc(t,o,r)),kc(t,n,r)+e}function Hm(t,e=0,n=1,r,o){t.min=Ab(t.min,e,n,r,o),t.max=Ab(t.max,e,n,r,o)}function Hw(t,{x:e,y:n}){Hm(t.x,e.translate,e.scale,e.originPoint),Hm(t.y,n.translate,n.scale,n.originPoint)}const Rb=.999999999999,xb=1.0000000000001;function D3(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=n[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Hw(t,c)),r&&Is(u.latestValues)&&Fr(t,u.latestValues))}e.x<xb&&e.x>Rb&&(e.x=1),e.y<xb&&e.y>Rb&&(e.y=1)}function jr(t,e){t.min=t.min+e,t.max=t.max+e}function Nb(t,e,n,r,o=.5){const u=We(t.min,t.max,o);Hm(t,e,n,u,r)}function Fr(t,e){Nb(t.x,e.x,e.scaleX,e.scale,e.originX),Nb(t.y,e.y,e.scaleY,e.scale,e.originY)}function jw(t,e){return Uw(T3(t.getBoundingClientRect(),e))}function M3(t,e,n){const r=jw(t,n),{scroll:o}=e;return o&&(jr(r.x,o.offset.x),jr(r.y,o.offset.y)),r}const Fw=({current:t})=>t?t.ownerDocument.defaultView:null,Db=(t,e)=>Math.abs(t-e);function O3(t,e){const n=Db(t.x,e.x),r=Db(t.y,e.y);return Math.sqrt(n**2+r**2)}class qw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=O3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:S}=y,{timestamp:N}=St;this.history.push({...S,timestamp:N});const{onStart:D,onMove:x}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Kd(_,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Wd(y.type==="pointercancel"?this.lastMoveEventInfo:Kd(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,D),S&&S(y,D)},!bg(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Rl(e),h=Kd(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=St;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Wd(h,this.history)),this.removeListeners=Cl(Fo(this.contextWindow,"pointermove",this.handlePointerMove),Fo(this.contextWindow,"pointerup",this.handlePointerUp),Fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function Kd(t,e){return e?{point:e(t.point)}:t}function Mb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wd({point:t},e){return{point:t,delta:Mb(t,Gw(e)),offset:Mb(t,I3(e)),velocity:k3(e,.1)}}function I3(t){return t[0]}function Gw(t){return t[t.length-1]}function k3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Gw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>zn(e)));)n--;if(!r)return{x:0,y:0};const u=Hn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function L3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function Ob(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P3(t,{top:e,left:n,bottom:r,right:o}){return{x:Ob(t.x,n,o),y:Ob(t.y,e,r)}}function Ib(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function U3(t,e){return{x:Ib(t.x,e.x),y:Ib(t.y,e.y)}}function V3(t,e){let n=.5;const r=It(t),o=It(e);return o>r?n=sl(e.min,e.max-r,t.min):r>o&&(n=sl(t.min,t.max-o,e.min)),_i(0,1,n)}function B3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jm=.35;function z3(t=jm){return t===!1?t=0:t===!0&&(t=jm),{x:kb(t,"left","right"),y:kb(t,"top","bottom")}}function kb(t,e,n){return{min:Lb(t,e),max:Lb(t,n)}}function Lb(t,e){return typeof t=="number"?t:t[e]||0}const H3=new WeakMap;class j3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rl(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:b,onDragStart:S}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pn(D=>{let x=this.getAxisMotionValue(D).get()||0;if(jn.test(x)){const{projection:H}=this.visualElement;if(H&&H.layout){const L=H.layout.layoutBox[D];L&&(x=It(L)*(parseFloat(x)/100))}}this.originPoint[D]=x}),S&&Xe.postRender(()=>S(g,y)),Vm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:S,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(b&&this.currentDirection===null){this.currentDirection=F3(D),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),N&&N(g,y)},h=(g,y)=>this.stop(g,y),d=()=>pn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new qw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Fw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Xe.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Xu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=L3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&zr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=P3(r.layoutBox,e):this.constraints=!1,this.elastic=z3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=B3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=M3(r,o.root,this.visualElement.getTransformPagePoint());let c=U3(o.layout.layoutBox,u);if(n){const h=n(S3(c));this.hasMutatedConstraints=!!h,h&&(c=Uw(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=pn(g=>{if(!Xu(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Vm(this.visualElement,e),r.start(Dg(e,r,0,n,this.visualElement,!1))}stopAnimation(){pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pn(n=>{const{drag:r}=this.getProps();if(!Xu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];u.set(e[n]-We(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=V3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pn(c=>{if(!Xu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(We(d,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;H3.set(this.visualElement,this);const e=this.visualElement.current,n=Fo(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();zr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(r);const c=fl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(pn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=jm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Xu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q3 extends fs{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new j3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pb=t=>(e,n)=>{t&&Xe.postRender(()=>t(e,n))};class G3 extends fs{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new qw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Pb(e),onStart:Pb(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Xe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Fo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ub(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Ub(t,e.target.x),r=Ub(t,e.target.y);return`${n}% ${r}%`}},Y3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ss.parse(t);if(o.length>5)return r;const u=ss.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const p=We(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}};class K3 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;MU(W3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Xe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Eg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Yw(t){const[e,n]=MC(),r=C.useContext(Zp);return mi.jsx(K3,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Cw),isPresent:e,safeToRemove:n})}const W3={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:Y3};function X3(t,e,n){const r=Nt(t)?t:ol(t);return r.start(Dg("",r,e,n)),r.animation}function $3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Q3=(t,e)=>t.depth-e.depth;class Z3{constructor(){this.children=[],this.isDirty=!1}add(e){ng(this.children,e),this.isDirty=!0}remove(e){ig(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q3),this.isDirty=!1,this.children.forEach(e)}}function J3(t,e){const n=Ft.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(is(r),t(u-e))};return Xe.setup(r,!0),()=>is(r)}const Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],eV=Kw.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Bb=t=>typeof t=="number"||le.test(t);function tV(t,e,n,r,o,u){o?(t.opacity=We(0,n.opacity??1,nV(r)),t.opacityExit=We(e.opacity??1,0,iV(r))):u&&(t.opacity=We(e.opacity??1,n.opacity??1,r));for(let c=0;c<eV;c++){const h=`border${Kw[c]}Radius`;let d=zb(e,h),p=zb(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Bb(d)===Bb(p)?(t[h]=Math.max(We(Vb(d),Vb(p),r),0),(jn.test(p)||jn.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function zb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nV=Ww(0,.5,HC),iV=Ww(.5,.95,yn);function Ww(t,e,n){return r=>r<t?0:r>e?1:n(sl(t,e,r))}function Hb(t,e){t.min=e.min,t.max=e.max}function mn(t,e){Hb(t.x,e.x),Hb(t.y,e.y)}function jb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Fb(t,e,n,r,o){return t-=e,t=kc(t,1/n,r),o!==void 0&&(t=kc(t,1/o,r)),t}function sV(t,e=0,n=1,r=.5,o,u=t,c=t){if(jn.test(e)&&(e=parseFloat(e),e=We(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=We(u.min,u.max,r);t===u&&(h-=e),t.min=Fb(t.min,e,n,h,o),t.max=Fb(t.max,e,n,h,o)}function qb(t,e,[n,r,o],u,c){sV(t,e[n],e[r],e[o],e.scale,u,c)}const rV=["x","scaleX","originX"],aV=["y","scaleY","originY"];function Gb(t,e,n,r){qb(t.x,e,rV,n?n.x:void 0,r?r.x:void 0),qb(t.y,e,aV,n?n.y:void 0,r?r.y:void 0)}function Yb(t){return t.translate===0&&t.scale===1}function Xw(t){return Yb(t.x)&&Yb(t.y)}function Kb(t,e){return t.min===e.min&&t.max===e.max}function oV(t,e){return Kb(t.x,e.x)&&Kb(t.y,e.y)}function Wb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $w(t,e){return Wb(t.x,e.x)&&Wb(t.y,e.y)}function Xb(t){return It(t.x)/It(t.y)}function $b(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lV{constructor(){this.members=[]}add(e){ng(this.members,e),e.scheduleRender()}remove(e){if(ig(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uV(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:b,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Xd=["","X","Y","Z"],cV={visibility:"hidden"},Qb=1e3;let fV=0;function $d(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Qw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Iw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Qw(r)}function Zw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=fV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mV),this.nodes.forEach(_V),this.nodes.forEach(EV),this.nodes.forEach(pV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ag),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=J3(_,250),rc.hasAnimatedSinceResize&&(rc.hasAnimatedSinceResize=!1,this.nodes.forEach(Jb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||wV,{onLayoutAnimationStart:D,onLayoutAnimationComplete:x}=g.getProps(),H=!this.targetLayout||!$w(this.targetLayout,S),L=!_&&b;if(this.options.layoutRoot||this.resumeFrom||L||_&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const W={...vg(N,"layout"),onPlay:D,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||Jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zb);return}this.isUpdating||this.nodes.forEach(yV),this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(hV),this.nodes.forEach(dV),this.clearAllSnapshots();const h=Ft.now();St.delta=_i(0,1e3/60,h-St.timestamp),St.timestamp=h,St.isProcessing=!0,Hd.update.process(St),Hd.preRender.process(St),Hd.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Xw(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(h||Is(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),AV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return rt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(RV))){const{scroll:g}=this.root;g&&(jr(h.x,g.offset.x),jr(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=rt();if(mn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&mn(h,c),jr(h.x,y.offset.x),jr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=rt();mn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Is(g.latestValues)&&Fr(d,g.latestValues)}return Is(this.latestValues)&&Fr(d,this.latestValues),d}removeTransform(c){const h=rt();mn(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Is(p.latestValues))continue;zm(p.latestValues)&&p.updateSnapshot();const g=rt(),y=p.measurePageBox();mn(g,y),Gb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Is(this.latestValues)&&Gb(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Go(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),Hw(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Go(this.relativeTargetOrigin,this.target,b.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||zw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===St.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;mn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;D3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jb(this.prevProjectionDelta.x,this.projectionDelta.x),jb(this.prevProjectionDelta.y,this.projectionDelta.y)),qo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!$b(this.projectionDelta.x,this.prevProjectionDelta.x)||!$b(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=rt(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,N=b!==S,D=this.getStack(),x=!D||D.members.length<=1,H=!!(N&&!x&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let L;this.mixTargetDelta=W=>{const P=W/1e3;eS(y.x,c.x,P),eS(y.y,c.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Go(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TV(this.relativeTarget,this.relativeTargetOrigin,_,P),L&&oV(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=rt()),mn(L,this.relativeTarget)),N&&(this.animationValues=g,tV(g,p,this.latestValues,P,H,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{rc.hasAnimatedSinceResize=!0,this.currentAnimation=X3(0,Qb,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&Jw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||rt();const y=It(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=It(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}mn(h,d),Fr(h,g),qo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lV),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&$d("z",c,p,this.animationValues);for(let g=0;g<Xd.length;g++)$d(`rotate${Xd[g]}`,c,p,this.animationValues),$d(`skew${Xd[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=sc(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=sc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=uV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in ul){if(g[b]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:D}=ul[b],x=h.transform==="none"?g[b]:S(g[b],p);if(N){const H=N.length;for(let L=0;L<H;L++)h[N[L]]=x}else D?this.options.visualElement.renderState.vars[b]=x:h[b]=x}return this.options.layoutId&&(h.pointerEvents=p===this?sc(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Zb),this.root.sharedNodes.clear()}}}function hV(t){t.updateLayout()}function dV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?pn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=It(_);_.min=r[y].min,_.max=_.min+b}):Jw(u,e.layoutBox,r)&&pn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=It(r[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const h=Hr();qo(h,r,e.layoutBox);const d=Hr();c?qo(d,t.applyTransform(o,!0),e.measuredBox):qo(d,r,e.layoutBox);const p=!Xw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const S=rt();Go(S,e.layoutBox,_.layoutBox);const N=rt();Go(N,r,b.layoutBox),$w(S,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gV(t){t.clearSnapshot()}function Zb(t){t.clearMeasurements()}function yV(t){t.isLayoutDirty=!1}function vV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _V(t){t.resolveTargetDelta()}function EV(t){t.calcProjection()}function bV(t){t.resetSkewAndRotation()}function SV(t){t.removeLeadSnapshot()}function eS(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tS(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function TV(t,e,n,r){tS(t.x,e.x,n.x,r),tS(t.y,e.y,n.y,r)}function CV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wV={duration:.45,ease:[.4,0,.1,1]},nS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iS=nS("applewebkit/")&&!nS("chrome/")?Math.round:yn;function sS(t){t.min=iS(t.min),t.max=iS(t.max)}function AV(t){sS(t.x),sS(t.y)}function Jw(t,e,n){return t==="position"||t==="preserve-aspect"&&!x3(Xb(e),Xb(n),.2)}function RV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xV=Zw({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qd={current:void 0},eA=Zw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qd.current){const t=new xV({});t.mount(window),t.setOptions({layoutScroll:!0}),Qd.current=t}return Qd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NV={pan:{Feature:G3},drag:{Feature:q3,ProjectionNode:eA,MeasureLayout:Yw}};function rS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Xe.postRender(()=>u(e,Rl(e)))}class DV extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=aU(e,(n,r)=>(rS(this.node,r,"Start"),o=>rS(this.node,o,"End"))))}unmount(){}}class MV extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Xe.postRender(()=>u(e,Rl(e)))}class OV extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=cU(e,(n,r)=>(aS(this.node,r,"Start"),(o,{success:u})=>aS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,Zd=new WeakMap,IV=t=>{const e=Fm.get(t.target);e&&e(t)},kV=t=>{t.forEach(IV)};function LV({root:t,...e}){const n=t||document;Zd.has(n)||Zd.set(n,{});const r=Zd.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(kV,{root:t,...e})),r[o]}function PV(t,e,n){const r=LV(e);return Fm.set(t,n),r.observe(t),()=>{Fm.delete(t),r.unobserve(t)}}const UV={some:0,all:1};class VV extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UV[o]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(d)};return PV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BV(e,n))&&this.startObserver()}unmount(){}}function BV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zV={inView:{Feature:VV},tap:{Feature:OV},focus:{Feature:MV},hover:{Feature:DV}},HV={layout:{ProjectionNode:eA,MeasureLayout:Yw}},qm={current:null},tA={current:!1};function jV(){if(tA.current=!0,!!eg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qm.current=t.matches;t.addListener(e),e()}else qm.current=!1}const FV=new WeakMap;function qV(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Nt(o))t.addValue(r,o);else if(Nt(u))t.addValue(r,ol(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,ol(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Ft.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Xe.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=nf(n),this.isVariantNode=Sw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const b=y[_];d[_]!==void 0&&Nt(b)&&b.set(d[_],!1)}}mount(e){this.current=e,FV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tA.current||jV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=va.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sa){const n=sa[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oS.length;r++){const o=oS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=qV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(OC(r)||IC(r))?r=parseFloat(r):!mU(r)&&ss.test(n)&&(r=pw(e,n)),this.setBaseTarget(e,Nt(r)?r.get():r)),Nt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=xg(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Nt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ag),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nA extends GV{constructor(){super(...arguments),this.KeyframeResolver=iU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iA(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function YV(t){return window.getComputedStyle(t)}class KV extends nA{constructor(){super(...arguments),this.type="html",this.renderInstance=iA}readValueFromInstance(e,n){if(va.has(n))return S2(e,n);{const r=YV(e),o=(ug(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jw(e,n)}build(e,n,r){wg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ng(e,n,r)}}const sA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(t,e,n,r){iA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(sA.has(o)?o:Cg(o),e.attrs[o])}class XV extends nA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(va.has(n)){const r=mw(n);return r&&r.default||0}return n=sA.has(n)?n:Cg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ow(e,n,r)}build(e,n,r){xw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){WV(e,n,r,o)}mount(e){this.isSVGTag=Dw(e.tagName),super.mount(e)}}const $V=(t,e)=>Rg(t)?new XV(e):new KV(e,{allowProjection:t!==C.Fragment}),QV=WU({...E3,...zV,...NV,...HV},$V),ZV=_U(QV),Gm=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],JV=6e4,rA=C.createContext({currentIndex:0}),e4=({children:t})=>{const[e,n]=C.useState(0);return C.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Gm.length)},JV);return()=>clearInterval(r)},[]),B.createElement(rA.Provider,{value:{currentIndex:e}},t)},sf=()=>{const{currentIndex:t}=C.useContext(rA);return{backgroundElement:B.createElement(_P,{mode:"wait"},B.createElement(ZV.div,{key:t,className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Gm[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}})),currentIndex:t,imageUrl:Gm[t]}},t4=()=>{const t=la(),{backgroundElement:e}=sf();return B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},e,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},B.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},""),B.createElement("p",{className:"text-gray-300 text-sm mb-2"},""),B.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),B.createElement("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"")))};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),lS=t=>{const e=i4(t);return e.charAt(0).toUpperCase()+e.slice(1)},aA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),s4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...r4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aA("lucide",o),...!u&&!s4(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>C.createElement(p,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=(t,e)=>{const n=C.forwardRef(({className:r,...o},u)=>C.createElement(a4,{ref:u,iconNode:e,className:aA(`lucide-${n4(lS(t))}`,`lucide-${t}`,r),...o}));return n.displayName=lS(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],l4=oA("eye-off",o4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c4=oA("eye",u4),f4=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!1),[d,p]=C.useState(""),[g,y]=C.useState(!1),_=la(),{backgroundElement:b}=sf();C.useRef(null),C.useRef(null),C.useEffect(()=>{r(""),u(""),p("")},[t]);const S=async D=>{D.preventDefault(),p(""),y(!0);try{t?(await LM(Bs,n,o),_("/profile")):(await PM(Bs,n,o),_("/chat"))}catch(x){p(x.message)}finally{y(!1)}},N=async()=>{const D=new oi;try{const H=(await rO(Bs,D)).user,L=tn(),W=je(L,`users/${H.uid}`);ks(W,P=>{P.exists()||Gi(W,{nickname:H.displayName||"",avatarUrl:H.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),_("/chat")}catch(x){p(x.message)}};return B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},b,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},B.createElement("div",{className:"flex justify-center space-x-4"},B.createElement("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),B.createElement("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),B.createElement("form",{onSubmit:S,className:"space-y-4"},B.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:D=>r(D.target.value),required:!0}),B.createElement("div",{className:"relative"},B.createElement("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:D=>u(D.target.value),required:!0}),B.createElement("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password"},c?B.createElement(l4,{size:20}):B.createElement(c4,{size:20}))),d&&B.createElement("p",{className:"text-red-400 text-sm text-center"},d),B.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},t?"Sign Up":"Login")),B.createElement("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},B.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),B.createElement("p",{className:"text-center text-sm text-white/80"},t?"Already have an account?":"Don't have an account?"," ",B.createElement("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition"},t?"Login":"Sign up"))))};function h4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const d4="dhtqetylj",m4="Chatroom_Avatars",No=(t,e)=>[t,e].sort().join("_"),p4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState([]),[o,u]=C.useState(""),[c,h]=C.useState([]),[d,p]=C.useState([]),[g,y]=C.useState("public"),[_,b]=C.useState(""),[S,N]=C.useState(""),[D,x]=C.useState(""),[H,L]=C.useState("#bfa382"),[W,P]=C.useState(!1),[X,Z]=C.useState(!1),[$,re]=C.useState(""),[Se,Ge]=C.useState([]),He=la(),{backgroundElement:_n}=sf(),Gt=C.useRef(null),[tt,U]=C.useState([]),[Y,ee]=C.useState(!1),[we,w]=C.useState([]),[q,Q]=C.useState(""),z=Bs.currentUser;C.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),C.useEffect(()=>{const G=setTimeout(()=>{var fe;(fe=Gt.current)==null||fe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(G)},[n]),C.useEffect(()=>{if(!z){He("/login");return}const G=tn(),fe=je(G,`users/${z.uid}`);ks(fe,Ye=>{const nt=Ye.val();nt&&(N(nt.nickname||""),x(nt.avatarUrl||""),L(nt.themeColor||"#bfa382"))});const be=je(G,"users");ks(be,Ye=>{const nt=Ye.val();if(nt){const Yt=Object.entries(nt).filter(([Gn])=>Gn!==z.uid).map(([Gn,Kt])=>({uid:Gn,nickname:Kt.nickname,avatarUrl:Kt.avatarUrl}));h(Yt)}});const de=je(G,"groups");ks(de,Ye=>{const nt=Ye.val();if(nt){const Yt=Object.entries(nt).map(([Gn,Kt])=>({id:Gn,name:Kt.name,members:Kt.members}));p(Yt)}})},[z,He]),C.useEffect(()=>{const G=tn();if(!z)return;let fe;if(g==="public")fe=je(G,"messages/public");else if(_)fe=je(G,`messages/groups/${_}`);else{const be=No(z.uid,g);fe=je(G,`messages/private/${be}`)}ks(fe,be=>{const de=be.val();if(de){const Ye=Object.entries(de).map(([nt,Yt])=>({id:nt,...Yt}));r(Ye)}else r([])})},[g,_]),C.useEffect(()=>{if(!z)return;const G=tn(),fe=je(G,`users/${z.uid}/friends`);ks(fe,be=>{const de=be.val();U(de?Object.keys(de):[])})},[z]);const ne=async()=>{if(!o.trim())return;const G=tn();if(!z)return;const fe=Date.now(),be={text:h4(o),sender:z.uid,nickname:S,avatarUrl:D,timestamp:fe};let de;if(g==="public")de=je(G,"messages/public");else if(_)de=je(G,`messages/groups/${_}`);else{const nt=No(z.uid,g);de=je(G,`messages/private/${nt}`)}const Ye=Gu(de);await Gi(Ye,be),u(""),Notification.permission==="granted"&&z&&new Notification(" ",{body:" ",icon:D||"/image/default-avatar.jpg"})},Te=async G=>{const be=`https://g.tenor.com/v1/search?q=${G}&key=LIVDSRZULELA&limit=20`,Ye=await(await fetch(be)).json();w(Ye.results||[])},ce=G=>{const fe=document.getElementById(`msg-${G}`);fe&&(fe.classList.add("animate-shatter"),setTimeout(()=>{Dt(G)},500))},Dt=async G=>{if(!z)return;const fe=tn();let be;if(g==="public")be=je(fe,`messages/public/${G}`);else if(_)be=je(fe,`messages/groups/${_}/${G}`);else{const de=No(z.uid,g);be=je(fe,`messages/private/${de}/${G}`)}await Gi(be,null)},Ue=async G=>{if(!z)return;const fe=tn(),be=Date.now(),de={text:"",gifUrl:G,sender:z.uid,nickname:S,avatarUrl:D,timestamp:be};let Ye;if(g==="public")Ye=je(fe,"messages/public");else if(_)Ye=je(fe,`messages/groups/${_}`);else{const Yt=No(z.uid,g);Ye=je(fe,`messages/private/${Yt}`)}const nt=Gu(Ye);await Gi(nt,de),ee(!1)},On=async G=>{var de;const fe=(de=G.target.files)==null?void 0:de[0];if(!fe||!z)return;const be=new FormData;be.append("file",fe),be.append("upload_preset",m4),be.append("folder","chat-images");try{const nt=await(await fetch(`https://api.cloudinary.com/v1_1/${d4}/image/upload`,{method:"POST",body:be})).json(),Yt=tn(),Gn=Date.now(),Kt={text:"",imageUrl:nt.secure_url,sender:z.uid,nickname:S,avatarUrl:D,timestamp:Gn};let ct;if(g==="public")ct=je(Yt,"messages/public");else if(_)ct=je(Yt,`messages/groups/${_}`);else{const Mt=No(z.uid,g);ct=je(Yt,`messages/private/${Mt}`)}const In=Gu(ct);await Gi(In,Kt)}catch(Ye){console.error(":",Ye)}},_a=async G=>{if(!z)return;const fe=tn(),be=je(fe,`users/${z.uid}/friends/${G}`),de=je(fe,`users/${G}/friends/${z.uid}`);await Gi(be,!0),await Gi(de,!0)},Qs=()=>{y("public"),b(""),P(!1)},Ea=G=>{y(G),b(""),P(!1)},ba=G=>{y(""),b(G),P(!1)},Sa=()=>{He("/profile"),P(!1)},rf=async()=>{await Bs.signOut(),He("")},af=async()=>{if(!$.trim()||Se.length===0){alert("");return}const G=tn();if(!z)return;const fe=je(G,"groups"),be=Gu(fe),de={};Se.forEach(Ye=>de[Ye]=!0),de[z.uid]=!0,await Gi(be,{name:$,members:de}),Z(!1),re(""),Ge([])},sn=G=>new Date(G).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return B.createElement(B.Fragment,null,_n,Y&&B.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4"},B.createElement("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md"},B.createElement("h2",{className:"text-xl font-bold text-center mb-2"}," GIF "),B.createElement("input",{type:"text",value:q,onChange:G=>Q(G.target.value),placeholder:"...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),B.createElement("div",{className:"flex justify-end"},B.createElement("button",{onClick:()=>Te(q),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition"},"")),B.createElement("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto"},we.map(G=>B.createElement("img",{key:G.id,src:G.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>Ue(G.media[0].tinygif.url)}))),B.createElement("div",{className:"flex justify-center pt-4"},B.createElement("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-white"},"")))),X&&B.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50"},B.createElement("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4"},B.createElement("h2",{className:"text-xl font-bold"},""),B.createElement("input",{type:"text",value:$,onChange:G=>re(G.target.value),placeholder:"",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),B.createElement("div",{className:"max-h-40 overflow-y-auto space-y-2"},c.filter(G=>tt.includes(G.uid)).length===0?B.createElement("div",{className:"text-gray-400 text-center py-4"}," "):c.filter(G=>tt.includes(G.uid)).map(G=>B.createElement("div",{key:G.uid,className:"flex items-center space-x-2"},B.createElement("input",{type:"checkbox",value:G.uid,onChange:fe=>{fe.target.checked?Ge(be=>[...be,G.uid]):Ge(be=>be.filter(de=>de!==G.uid))}}),B.createElement("span",null,G.nickname)))),B.createElement("div",{className:"flex justify-end space-x-2 pt-2"},B.createElement("button",{onClick:()=>Z(!1),className:"px-4 py-2 rounded-lg bg-gray-600"},"Cancel"),B.createElement("button",{onClick:af,className:"px-4 py-2 rounded-lg bg-green-600"},"Create")))),B.createElement("div",{className:"flex h-screen overflow-hidden relative"},B.createElement("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${W?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`},B.createElement("button",{onClick:Qs,className:"text-lg font-bold hover:underline",style:{color:H}}," Public Chat"),B.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"All Users"),B.createElement("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto"},c&&c.map(G=>B.createElement("div",{key:G.uid,className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition"},B.createElement("button",{onClick:()=>Ea(G.uid),className:"flex items-center space-x-2"},B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),B.createElement("span",null,G.nickname)),!tt.includes(G.uid)&&B.createElement("button",{onClick:()=>_a(G.uid),className:"text-green-400 hover:text-green-300 text-lg"},"")))),B.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"Groups"),B.createElement("div",{className:"flex flex-col space-y-2"},d.filter(G=>G.members[z?z.uid:0]).map(G=>B.createElement("button",{key:G.id,onClick:()=>ba(G.id),className:"hover:bg-white/10 p-2 rounded transition"}," ",G.name))),B.createElement("button",{onClick:()=>Z(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition"}," Create Group"),B.createElement("div",{className:"flex space-x-4 pt-4 border-t border-white/20"},B.createElement("button",{onClick:()=>He("/"),className:"text-sm hover:underline",style:{color:H}},""),B.createElement("button",{onClick:Sa,className:"text-sm hover:underline",style:{color:H}},"Profile"),B.createElement("button",{onClick:rf,className:"text-sm text-red-400 hover:underline"},"Logout"))),B.createElement("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner"},B.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4"},B.createElement("div",{className:"p-4"},B.createElement("input",{type:"text",placeholder:" ",value:t,onChange:G=>e(G.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})),n.filter(G=>{var de;if(!t.trim())return!0;const fe=t.toLowerCase();return(de=G.text)==null?void 0:de.toLowerCase().includes(fe)}).length===0?B.createElement("div",{className:"text-center text-gray-400 mt-10"}," "):n.filter(G=>{var de;if(!t.trim())return!0;const fe=t.toLowerCase();return(de=G.text)==null?void 0:de.toLowerCase().includes(fe)}).map(G=>B.createElement("div",{id:`msg-${G.id}`,className:`flex ${G.sender===(z==null?void 0:z.uid)?"justify-end":"justify-start"} fade-in`},B.createElement("div",{className:"flex items-end space-x-2"},G.sender!==(z==null?void 0:z.uid)&&B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),B.createElement("div",{className:"flex flex-col items-start max-w-xs"},G.sender===(z==null?void 0:z.uid)&&B.createElement("button",{onClick:()=>ce(G.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:""},""),B.createElement("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:G.sender===(z==null?void 0:z.uid)?H:"#d1d5db",color:G.sender===(z==null?void 0:z.uid)?"white":"black"}},G.text&&B.createElement("span",null,G.text),G.imageUrl&&B.createElement("img",{src:G.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(G.imageUrl,"_blank")}),G.gifUrl&&B.createElement("img",{src:G.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(G.gifUrl,"_blank")})),B.createElement("span",{className:"text-xs text-gray-400 mt-1 ml-2"},sn(G.timestamp))),G.sender===(z==null?void 0:z.uid)&&B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})))),B.createElement("div",{ref:Gt})),B.createElement("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2"},B.createElement("input",{type:"text",value:o,onChange:G=>u(G.target.value),onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),ne())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),B.createElement("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:On}),B.createElement("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:H}},""),B.createElement("button",{onClick:()=>ee(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:H}},""),B.createElement("button",{onClick:ne,style:{backgroundColor:H},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition"},"Send")))))},Jd=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],g4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(null),[o,u]=C.useState(""),[c,h]=C.useState(Jd[2].color),[d,p]=C.useState(""),[g,y]=C.useState(!0),_=la(),b="dhtqetylj",S="Chatroom_Avatars",N=Bs.currentUser,D=C.useRef(null),{backgroundElement:x}=sf();C.useEffect(()=>{if(!N){_("/login");return}const P=tn(),X=je(P,`users/${N.uid}`);ks(X,Z=>{const $=Z.val();$&&(e($.nickname||""),p($.statusMessage||""),u($.avatarUrl||""),h($.themeColor||Jd[2].color)),y(!1)})},[N,_]);async function H(P){const X=new FormData;return X.append("file",P),X.append("upload_preset",S),X.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:X})).json()).secure_url}const L=async()=>{if(!N)return;const P=tn(),X=je(P,`users/${N.uid}`);let Z=o;n&&(Z=await H(n)),await tP(X,{nickname:t,statusMessage:d,themeColor:c,avatarUrl:Z}),_("/chat")},W=P=>{var Z;const X=(Z=P.target.files)==null?void 0:Z[0];X&&(r(X),u(URL.createObjectURL(X)))};return g?B.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading Profile..."):B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4"},x,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center"},B.createElement("h1",{className:"text-2xl font-bold mb-4 text-center text-white"},"Update Your Profile"),B.createElement("div",{className:"relative"},B.createElement("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var P;return(P=D.current)==null?void 0:P.click()}}),B.createElement("input",{type:"file",accept:"image/*",ref:D,onChange:W,className:"hidden"})),B.createElement("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),B.createElement("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),B.createElement("div",{className:"flex space-x-3 justify-center"},Jd.map(P=>B.createElement("button",{key:P.color,type:"button",onClick:()=>h(P.color),style:{backgroundColor:P.color},className:`w-8 h-8 rounded-full border-2 ${c===P.color?"border-white":"border-transparent"} transition-all`}))),B.createElement("button",{onClick:L,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c}},"Save")))};function y4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=BM(Bs,u=>{e(u),r(!1)});return()=>o()},[]),n?B.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading..."):B.createElement(Yx,null,B.createElement(Sx,null,B.createElement(Do,{path:"/",element:B.createElement(t4,null)}),B.createElement(Do,{path:"/login",element:t?B.createElement(Cd,{to:"/chat"}):B.createElement(f4,null)}),B.createElement(Do,{path:"/chat",element:t?B.createElement(p4,null):B.createElement(Cd,{to:"/login"})}),B.createElement(Do,{path:"/profile",element:t?B.createElement(g4,null):B.createElement(Cd,{to:"/login"})})))}O1.createRoot(document.getElementById("root")).render(B.createElement(B.StrictMode,null,B.createElement(e4,null,B.createElement(y4,null))));
