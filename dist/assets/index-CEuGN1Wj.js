(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function qS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jh={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function S1(){if(t0)return ce;t0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,N={};function O(C,j,K){this.props=C,this.context=j,this.refs=N,this.updater=K||S}O.prototype.isReactComponent={},O.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},O.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=O.prototype;function V(C,j,K){this.props=C,this.context=j,this.refs=N,this.updater=K||S}var k=V.prototype=new R;k.constructor=V,b(k,O.prototype),k.isPureReactComponent=!0;var G=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function ee(C,j,K,Y,te,Ee){return K=Ee.ref,{$$typeof:t,type:C,key:j,ref:K!==void 0?K:null,props:Ee}}function Q(C,j){return ee(C.type,j,void 0,void 0,void 0,C.props)}function le(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function _e(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return j[K]})}var $e=/\/+/g;function Ze(C,j){return typeof C=="object"&&C!==null&&C.key!=null?_e(""+C.key):j.toString(36)}function Nn(){}function vn(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Nn,Nn):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ut(C,j,K,Y,te){var Ee=typeof C;(Ee==="undefined"||Ee==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(Ee){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case t:case e:ue=!0;break;case g:return ue=C._init,ut(ue(C._payload),j,K,Y,te)}}if(ue)return te=te(C),ue=Y===""?"."+Ze(C,0):Y,G(te)?(K="",ue!=null&&(K=ue.replace($e,"$&/")+"/"),ut(te,j,K,"",function(ui){return ui})):te!=null&&(le(te)&&(te=Q(te,K+(te.key==null||C&&C.key===te.key?"":(""+te.key).replace($e,"$&/")+"/")+ue)),j.push(te)),1;ue=0;var Lt=Y===""?".":Y+":";if(G(C))for(var Pe=0;Pe<C.length;Pe++)Y=C[Pe],Ee=Lt+Ze(Y,Pe),ue+=ut(Y,j,K,Ee,te);else if(Pe=_(C),typeof Pe=="function")for(C=Pe.call(C),Pe=0;!(Y=C.next()).done;)Y=Y.value,Ee=Lt+Ze(Y,Pe++),ue+=ut(Y,j,K,Ee,te);else if(Ee==="object"){if(typeof C.then=="function")return ut(vn(C),j,K,Y,te);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ue}function U(C,j,K){if(C==null)return C;var Y=[],te=0;return ut(C,Y,"","",function(Ee){return j.call(K,Ee,te++)}),Y}function F(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var Z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function be(){}return ce.Children={map:U,forEach:function(C,j,K){U(C,function(){j.apply(this,arguments)},K)},count:function(C){var j=0;return U(C,function(){j++}),j},toArray:function(C){return U(C,function(j){return j})||[]},only:function(C){if(!le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ce.Component=O,ce.Fragment=n,ce.Profiler=o,ce.PureComponent=V,ce.StrictMode=r,ce.Suspense=d,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},ce.cache=function(C){return function(){return C.apply(null,arguments)}},ce.cloneElement=function(C,j,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=b({},C.props),te=C.key,Ee=void 0;if(j!=null)for(ue in j.ref!==void 0&&(Ee=void 0),j.key!==void 0&&(te=""+j.key),j)!W.call(j,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&j.ref===void 0||(Y[ue]=j[ue]);var ue=arguments.length-2;if(ue===1)Y.children=K;else if(1<ue){for(var Lt=Array(ue),Pe=0;Pe<ue;Pe++)Lt[Pe]=arguments[Pe+2];Y.children=Lt}return ee(C.type,te,void 0,void 0,Ee,Y)},ce.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ce.createElement=function(C,j,K){var Y,te={},Ee=null;if(j!=null)for(Y in j.key!==void 0&&(Ee=""+j.key),j)W.call(j,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(te[Y]=j[Y]);var ue=arguments.length-2;if(ue===1)te.children=K;else if(1<ue){for(var Lt=Array(ue),Pe=0;Pe<ue;Pe++)Lt[Pe]=arguments[Pe+2];te.children=Lt}if(C&&C.defaultProps)for(Y in ue=C.defaultProps,ue)te[Y]===void 0&&(te[Y]=ue[Y]);return ee(C,Ee,void 0,void 0,null,te)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(C){return{$$typeof:h,render:C}},ce.isValidElement=le,ce.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:F}},ce.memo=function(C,j){return{$$typeof:m,type:C,compare:j===void 0?null:j}},ce.startTransition=function(C){var j=H.T,K={};H.T=K;try{var Y=C(),te=H.S;te!==null&&te(K,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(be,Z)}catch(Ee){Z(Ee)}finally{H.T=j}},ce.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ce.use=function(C){return H.H.use(C)},ce.useActionState=function(C,j,K){return H.H.useActionState(C,j,K)},ce.useCallback=function(C,j){return H.H.useCallback(C,j)},ce.useContext=function(C){return H.H.useContext(C)},ce.useDebugValue=function(){},ce.useDeferredValue=function(C,j){return H.H.useDeferredValue(C,j)},ce.useEffect=function(C,j,K){var Y=H.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(C,j)},ce.useId=function(){return H.H.useId()},ce.useImperativeHandle=function(C,j,K){return H.H.useImperativeHandle(C,j,K)},ce.useInsertionEffect=function(C,j){return H.H.useInsertionEffect(C,j)},ce.useLayoutEffect=function(C,j){return H.H.useLayoutEffect(C,j)},ce.useMemo=function(C,j){return H.H.useMemo(C,j)},ce.useOptimistic=function(C,j){return H.H.useOptimistic(C,j)},ce.useReducer=function(C,j,K){return H.H.useReducer(C,j,K)},ce.useRef=function(C){return H.H.useRef(C)},ce.useState=function(C){return H.H.useState(C)},ce.useSyncExternalStore=function(C,j,K){return H.H.useSyncExternalStore(C,j,K)},ce.useTransition=function(){return H.H.useTransition()},ce.version="19.1.0",ce}var n0;function Cp(){return n0||(n0=1,Jh.exports=S1()),Jh.exports}var w=Cp();const X=qS(w);var ed={exports:{}},eo={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function b1(){return i0||(i0=1,function(t){function e(U,F){var Z=U.length;U.push(F);e:for(;0<Z;){var be=Z-1>>>1,C=U[be];if(0<o(C,F))U[be]=F,U[Z]=C,Z=be;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],Z=U.pop();if(Z!==F){U[0]=Z;e:for(var be=0,C=U.length,j=C>>>1;be<j;){var K=2*(be+1)-1,Y=U[K],te=K+1,Ee=U[te];if(0>o(Y,Z))te<C&&0>o(Ee,Y)?(U[be]=Ee,U[te]=Z,be=te):(U[be]=Y,U[K]=Z,be=K);else if(te<C&&0>o(Ee,Z))U[be]=Ee,U[te]=Z,be=te;else break e}}return F}function o(U,F){var Z=U.sortIndex-F.sortIndex;return Z!==0?Z:U.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,_=3,S=!1,b=!1,N=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(U){for(var F=n(m);F!==null;){if(F.callback===null)r(m);else if(F.startTime<=U)r(m),F.sortIndex=F.expirationTime,e(d,F);else break;F=n(m)}}function H(U){if(N=!1,G(U),!b)if(n(d)!==null)b=!0,W||(W=!0,Ze());else{var F=n(m);F!==null&&ut(H,F.startTime-U)}}var W=!1,ee=-1,Q=5,le=-1;function _e(){return O?!0:!(t.unstable_now()-le<Q)}function $e(){if(O=!1,W){var U=t.unstable_now();le=U;var F=!0;try{e:{b=!1,N&&(N=!1,V(ee),ee=-1),S=!0;var Z=_;try{t:{for(G(U),y=n(d);y!==null&&!(y.expirationTime>U&&_e());){var be=y.callback;if(typeof be=="function"){y.callback=null,_=y.priorityLevel;var C=be(y.expirationTime<=U);if(U=t.unstable_now(),typeof C=="function"){y.callback=C,G(U),F=!0;break t}y===n(d)&&r(d),G(U)}else r(d);y=n(d)}if(y!==null)F=!0;else{var j=n(m);j!==null&&ut(H,j.startTime-U),F=!1}}break e}finally{y=null,_=Z,S=!1}F=void 0}}finally{F?Ze():W=!1}}}var Ze;if(typeof k=="function")Ze=function(){k($e)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,vn=Nn.port2;Nn.port1.onmessage=$e,Ze=function(){vn.postMessage(null)}}else Ze=function(){R($e,0)};function ut(U,F){ee=R(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var Z=_;_=F;try{return U()}finally{_=Z}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=_;_=U;try{return F()}finally{_=Z}},t.unstable_scheduleCallback=function(U,F,Z){var be=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?be+Z:be):Z=be,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Z+C,U={id:g++,callback:F,priorityLevel:U,startTime:Z,expirationTime:C,sortIndex:-1},Z>be?(U.sortIndex=Z,e(m,U),n(d)===null&&U===n(m)&&(N?(V(ee),ee=-1):N=!0,ut(H,Z-be))):(U.sortIndex=C,e(d,U),b||S||(b=!0,W||(W=!0,Ze()))),U},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(U){var F=_;return function(){var Z=_;_=F;try{return U.apply(this,arguments)}finally{_=Z}}}}(nd)),nd}var s0;function T1(){return s0||(s0=1,td.exports=b1()),td.exports}var id={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function C1(){if(r0)return yt;r0=1;var t=Cp();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yt.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(d,m,null,g)},yt.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},yt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},yt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},yt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yt.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},yt.requestFormReset=function(d){r.d.r(d)},yt.unstable_batchedUpdates=function(d,m){return d(m)},yt.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},yt.version="19.1.0",yt}var a0;function w1(){if(a0)return id.exports;a0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),id.exports=C1(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function A1(){if(o0)return eo;o0=1;var t=T1(),e=Cp(),n=w1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(u(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return h(f),i;if(p===l)return h(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,l=p;break}if(E===l){v=!0,l=f,a=p;break}E=E.sibling}if(!v){for(E=p.child;E;){if(E===a){v=!0,a=p,l=f;break}if(E===l){v=!0,l=p,a=f;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function Ze(i){return i===null||typeof i!="object"?null:(i=$e&&i[$e]||i["@@iterator"],typeof i=="function"?i:null)}var Nn=Symbol.for("react.client.reference");function vn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Nn?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList";case le:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case k:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ee:return s=i.displayName||null,s!==null?s:vn(i.type)||"Memo";case Q:s=i._payload,i=i._init;try{return vn(i(s))}catch{}}return null}var ut=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},be=[],C=-1;function j(i){return{current:i}}function K(i){0>C||(i.current=be[C],be[C]=null,C--)}function Y(i,s){C++,be[C]=i.current,i.current=s}var te=j(null),Ee=j(null),ue=j(null),Lt=j(null);function Pe(i,s){switch(Y(ue,s),Y(Ee,i),Y(te,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?D_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=D_(s),i=N_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(te),Y(te,i)}function ui(){K(te),K(Ee),K(ue)}function Uc(i){i.memoizedState!==null&&Y(Lt,i);var s=te.current,a=N_(s,i.type);s!==a&&(Y(Ee,i),Y(te,a))}function ll(i){Ee.current===i&&(K(te),K(Ee)),Lt.current===i&&(K(Lt),Xa._currentValue=Z)}var Vc=Object.prototype.hasOwnProperty,Bc=t.unstable_scheduleCallback,zc=t.unstable_cancelCallback,Jw=t.unstable_shouldYield,eA=t.unstable_requestPaint,_n=t.unstable_now,tA=t.unstable_getCurrentPriorityLevel,ug=t.unstable_ImmediatePriority,cg=t.unstable_UserBlockingPriority,ul=t.unstable_NormalPriority,nA=t.unstable_LowPriority,fg=t.unstable_IdlePriority,iA=t.log,sA=t.unstable_setDisableYieldValue,ia=null,Pt=null;function ci(i){if(typeof iA=="function"&&sA(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(ia,i)}catch{}}var Ut=Math.clz32?Math.clz32:oA,rA=Math.log,aA=Math.LN2;function oA(i){return i>>>=0,i===0?32:31-(rA(i)/aA|0)|0}var cl=256,fl=4194304;function es(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function hl(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?f=es(l):(v&=E,v!==0?f=es(v):a||(a=E&~i,a!==0&&(f=es(a))))):(E=l&~p,E!==0?f=es(E):v!==0?f=es(v):a||(a=l&~i,a!==0&&(f=es(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function sa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function lA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(){var i=cl;return cl<<=1,(cl&4194048)===0&&(cl=256),i}function dg(){var i=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),i}function Hc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function ra(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function uA(i,s,a,l,f,p){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,T=i.expirationTimes,M=i.hiddenUpdates;for(a=v&~a;0<a;){var P=31-Ut(a),z=1<<P;E[P]=0,T[P]=-1;var I=M[P];if(I!==null)for(M[P]=null,P=0;P<I.length;P++){var L=I[P];L!==null&&(L.lane&=-536870913)}a&=~z}l!==0&&pg(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(v&~s))}function pg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Ut(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function mg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Ut(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function jc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gg(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:X_(i.type))}function cA(i,s){var a=F.p;try{return F.p=i,s()}finally{F.p=a}}var fi=Math.random().toString(36).slice(2),mt="__reactFiber$"+fi,wt="__reactProps$"+fi,Us="__reactContainer$"+fi,qc="__reactEvents$"+fi,fA="__reactListeners$"+fi,hA="__reactHandles$"+fi,yg="__reactResources$"+fi,aa="__reactMarker$"+fi;function Gc(i){delete i[mt],delete i[wt],delete i[qc],delete i[fA],delete i[hA]}function Vs(i){var s=i[mt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Us]||a[mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=k_(i);i!==null;){if(a=i[mt])return a;i=k_(i)}return s}i=a,a=i.parentNode}return null}function Bs(i){if(i=i[mt]||i[Us]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function oa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function zs(i){var s=i[yg];return s||(s=i[yg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nt(i){i[aa]=!0}var vg=new Set,_g={};function ts(i,s){Hs(i,s),Hs(i+"Capture",s)}function Hs(i,s){for(_g[i]=s,i=0;i<s.length;i++)vg.add(s[i])}var dA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eg={},Sg={};function pA(i){return Vc.call(Sg,i)?!0:Vc.call(Eg,i)?!1:dA.test(i)?Sg[i]=!0:(Eg[i]=!0,!1)}function dl(i,s,a){if(pA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function pl(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function On(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var Yc,bg;function js(i){if(Yc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Yc=s&&s[1]||"",bg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yc+i+bg}var Kc=!1;function Wc(i,s){if(!i||Kc)return"";Kc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(L){var I=L}Reflect.construct(i,[],z)}else{try{z.call()}catch(L){I=L}i.call(z.prototype)}}else{try{throw Error()}catch(L){I=L}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),v=p[0],E=p[1];if(v&&E){var T=v.split(`
`),M=E.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===M.length)for(l=T.length-1,f=M.length-1;1<=l&&0<=f&&T[l]!==M[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==M[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==M[f]){var P=`
`+T[l].replace(" at new "," at ");return i.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",i.displayName)),P}while(1<=l&&0<=f);break}}}finally{Kc=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?js(a):""}function mA(i){switch(i.tag){case 26:case 27:case 5:return js(i.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Wc(i.type,!1);case 11:return Wc(i.type.render,!1);case 1:return Wc(i.type,!0);case 31:return js("Activity");default:return""}}function Tg(i){try{var s="";do s+=mA(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gA(i){var s=Cg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ml(i){i._valueTracker||(i._valueTracker=gA(i))}function wg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Cg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function gl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yA=/[\n"\\]/g;function Kt(i){return i.replace(yA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xc(i,s,a,l,f,p,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Yt(s)):i.value!==""+Yt(s)&&(i.value=""+Yt(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?Qc(i,v,Yt(s)):a!=null?Qc(i,v,Yt(a)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Yt(E):i.removeAttribute("name")}function Ag(i,s,a,l,f,p,v,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+Yt(a):"",s=s!=null?""+Yt(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function Qc(i,s,a){s==="number"&&gl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Fs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Yt(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Rg(i,s,a){if(s!=null&&(s=""+Yt(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Yt(a):""}function xg(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ut(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Yt(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function qs(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var vA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dg(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||vA.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Ng(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Dg(i,f,l)}else for(var p in s)s.hasOwnProperty(p)&&Dg(i,p,s[p])}function $c(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _A=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(i){return EA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Zc=null;function Jc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gs=null,Ys=null;function Og(i){var s=Bs(i);if(s&&(i=s.stateNode)){var a=i[wt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xc(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[wt]||null;if(!f)throw Error(r(90));Xc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&wg(l)}break e;case"textarea":Rg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Fs(i,!!a.multiple,s,!1)}}}var ef=!1;function Mg(i,s,a){if(ef)return i(s,a);ef=!0;try{var l=i(s);return l}finally{if(ef=!1,(Gs!==null||Ys!==null)&&(nu(),Gs&&(s=Gs,i=Ys,Ys=Gs=null,Og(s),i)))for(s=0;s<i.length;s++)Og(i[s])}}function la(i,s){var a=i.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(Mn)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){tf=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{tf=!1}var hi=null,nf=null,vl=null;function Ig(){if(vl)return vl;var i,s=nf,a=s.length,l,f="value"in hi?hi.value:hi.textContent,p=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[p-l];l++);return vl=f.slice(i,1<l?1-l:void 0)}function _l(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function El(){return!0}function kg(){return!1}function At(i){function s(a,l,f,p,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?El:kg,this.isPropagationStopped=kg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),s}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=At(ns),ca=g({},ns,{view:0,detail:0}),SA=At(ca),sf,rf,fa,bl=g({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fa&&(fa&&i.type==="mousemove"?(sf=i.screenX-fa.screenX,rf=i.screenY-fa.screenY):rf=sf=0,fa=i),sf)},movementY:function(i){return"movementY"in i?i.movementY:rf}}),Lg=At(bl),bA=g({},bl,{dataTransfer:0}),TA=At(bA),CA=g({},ca,{relatedTarget:0}),af=At(CA),wA=g({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),AA=At(wA),RA=g({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xA=At(RA),DA=g({},ns,{data:0}),Pg=At(DA),NA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=MA[i])?!!s[i]:!1}function of(){return IA}var kA=g({},ca,{key:function(i){if(i.key){var s=NA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?OA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),LA=At(kA),PA=g({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=At(PA),UA=g({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),VA=At(UA),BA=g({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),zA=At(BA),HA=g({},bl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=At(HA),FA=g({},ns,{newState:0,oldState:0}),qA=At(FA),GA=[9,13,27,32],lf=Mn&&"CompositionEvent"in window,ha=null;Mn&&"documentMode"in document&&(ha=document.documentMode);var YA=Mn&&"TextEvent"in window&&!ha,Vg=Mn&&(!lf||ha&&8<ha&&11>=ha),Bg=" ",zg=!1;function Hg(i,s){switch(i){case"keyup":return GA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ks=!1;function KA(i,s){switch(i){case"compositionend":return jg(s);case"keypress":return s.which!==32?null:(zg=!0,Bg);case"textInput":return i=s.data,i===Bg&&zg?null:i;default:return null}}function WA(i,s){if(Ks)return i==="compositionend"||!lf&&Hg(i,s)?(i=Ig(),vl=nf=hi=null,Ks=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vg&&s.locale!=="ko"?null:s.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!XA[i.type]:s==="textarea"}function qg(i,s,a,l){Gs?Ys?Ys.push(l):Ys=[l]:Gs=l,s=lu(s,"onChange"),0<s.length&&(a=new Sl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var da=null,pa=null;function QA(i){C_(i,0)}function Tl(i){var s=oa(i);if(wg(s))return i}function Gg(i,s){if(i==="change")return s}var Yg=!1;if(Mn){var uf;if(Mn){var cf="oninput"in document;if(!cf){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),cf=typeof Kg.oninput=="function"}uf=cf}else uf=!1;Yg=uf&&(!document.documentMode||9<document.documentMode)}function Wg(){da&&(da.detachEvent("onpropertychange",Xg),pa=da=null)}function Xg(i){if(i.propertyName==="value"&&Tl(pa)){var s=[];qg(s,pa,i,Jc(i)),Mg(QA,s)}}function $A(i,s,a){i==="focusin"?(Wg(),da=s,pa=a,da.attachEvent("onpropertychange",Xg)):i==="focusout"&&Wg()}function ZA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tl(pa)}function JA(i,s){if(i==="click")return Tl(s)}function eR(i,s){if(i==="input"||i==="change")return Tl(s)}function tR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vt=typeof Object.is=="function"?Object.is:tR;function ma(i,s){if(Vt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Vc.call(s,f)||!Vt(i[f],s[f]))return!1}return!0}function Qg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $g(i,s){var a=Qg(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Zg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=gl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=gl(i.document)}return s}function ff(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nR=Mn&&"documentMode"in document&&11>=document.documentMode,Ws=null,hf=null,ga=null,df=!1;function ey(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ws==null||Ws!==gl(l)||(l=Ws,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ga&&ma(ga,l)||(ga=l,l=lu(hf,"onSelect"),0<l.length&&(s=new Sl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Ws)))}function is(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Xs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},pf={},ty={};Mn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ss(i){if(pf[i])return pf[i];if(!Xs[i])return i;var s=Xs[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in ty)return pf[i]=s[a];return i}var ny=ss("animationend"),iy=ss("animationiteration"),sy=ss("animationstart"),iR=ss("transitionrun"),sR=ss("transitionstart"),rR=ss("transitioncancel"),ry=ss("transitionend"),ay=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function an(i,s){ay.set(i,s),ts(s,[i])}var oy=new WeakMap;function Wt(i,s){if(typeof i=="object"&&i!==null){var a=oy.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Tg(s)},oy.set(i,s),s)}return{value:i,source:s,stack:Tg(s)}}var Xt=[],Qs=0,gf=0;function Cl(){for(var i=Qs,s=gf=Qs=0;s<i;){var a=Xt[s];Xt[s++]=null;var l=Xt[s];Xt[s++]=null;var f=Xt[s];Xt[s++]=null;var p=Xt[s];if(Xt[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}p!==0&&ly(a,f,p)}}function wl(i,s,a,l){Xt[Qs++]=i,Xt[Qs++]=s,Xt[Qs++]=a,Xt[Qs++]=l,gf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function yf(i,s,a,l){return wl(i,s,a,l),Al(i)}function $s(i,s){return wl(i,null,null,s),Al(i)}function ly(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=i.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&s!==null&&(f=31-Ut(a),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Al(i){if(50<Ha)throw Ha=0,Th=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Zs={};function aR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(i,s,a,l){return new aR(i,s,a,l)}function vf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function In(i,s){var a=i.alternate;return a===null?(a=Bt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function uy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Rl(i,s,a,l,f,p){var v=0;if(l=i,typeof i=="function")vf(i)&&(v=1);else if(typeof i=="string")v=l1(i,a,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case le:return i=Bt(31,a,s,f),i.elementType=le,i.lanes=p,i;case b:return rs(a.children,f,p,s);case N:v=8,f|=24;break;case O:return i=Bt(12,a,s,f|2),i.elementType=O,i.lanes=p,i;case H:return i=Bt(13,a,s,f),i.elementType=H,i.lanes=p,i;case W:return i=Bt(19,a,s,f),i.elementType=W,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case k:v=10;break e;case V:v=9;break e;case G:v=11;break e;case ee:v=14;break e;case Q:v=16,l=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Bt(v,a,s,f),s.elementType=i,s.type=l,s.lanes=p,s}function rs(i,s,a,l){return i=Bt(7,i,l,s),i.lanes=a,i}function _f(i,s,a){return i=Bt(6,i,null,s),i.lanes=a,i}function Ef(i,s,a){return s=Bt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Js=[],er=0,xl=null,Dl=0,Qt=[],$t=0,as=null,kn=1,Ln="";function os(i,s){Js[er++]=Dl,Js[er++]=xl,xl=i,Dl=s}function cy(i,s,a){Qt[$t++]=kn,Qt[$t++]=Ln,Qt[$t++]=as,as=i;var l=kn;i=Ln;var f=32-Ut(l)-1;l&=~(1<<f),a+=1;var p=32-Ut(s)+f;if(30<p){var v=f-f%5;p=(l&(1<<v)-1).toString(32),l>>=v,f-=v,kn=1<<32-Ut(s)+f|a<<f|l,Ln=p+i}else kn=1<<p|a<<f|l,Ln=i}function Sf(i){i.return!==null&&(os(i,1),cy(i,1,0))}function bf(i){for(;i===xl;)xl=Js[--er],Js[er]=null,Dl=Js[--er],Js[er]=null;for(;i===as;)as=Qt[--$t],Qt[$t]=null,Ln=Qt[--$t],Qt[$t]=null,kn=Qt[--$t],Qt[$t]=null}var St=null,je=null,Te=!1,ls=null,En=!1,Tf=Error(r(519));function us(i){var s=Error(r(418,""));throw _a(Wt(s,i)),Tf}function fy(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[mt]=i,s[wt]=l,a){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<Fa.length;a++)ge(Fa[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":ge("invalid",s),Ag(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ml(s);break;case"select":ge("invalid",s);break;case"textarea":ge("invalid",s),xg(s,l.value,l.defaultValue,l.children),ml(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||x_(s.textContent,a)?(l.popover!=null&&(ge("beforetoggle",s),ge("toggle",s)),l.onScroll!=null&&ge("scroll",s),l.onScrollEnd!=null&&ge("scrollend",s),l.onClick!=null&&(s.onclick=uu),s=!0):s=!1,s||us(i)}function hy(i){for(St=i.return;St;)switch(St.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:St=St.return}}function ya(i){if(i!==St)return!1;if(!Te)return hy(i),Te=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Bh(i.type,i.memoizedProps)),a=!a),a&&je&&us(i),hy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){je=ln(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}je=null}}else s===27?(s=je,xi(i.type)?(i=Fh,Fh=null,je=i):je=s):je=St?ln(i.stateNode.nextSibling):null;return!0}function va(){je=St=null,Te=!1}function dy(){var i=ls;return i!==null&&(Dt===null?Dt=i:Dt.push.apply(Dt,i),ls=null),i}function _a(i){ls===null?ls=[i]:ls.push(i)}var Cf=j(null),cs=null,Pn=null;function di(i,s,a){Y(Cf,s._currentValue),s._currentValue=a}function Un(i){i._currentValue=Cf.current,K(Cf)}function wf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Af(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var T=0;T<s.length;T++)if(E.context===s[T]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),wf(p.return,a,i),l||(v=null);break e}p=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,p=v.alternate,p!==null&&(p.lanes|=a),wf(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ea(i,s,a,l){i=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=f.type;Vt(f.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(f===Lt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xa):i=[Xa])}f=f.return}i!==null&&Af(s,i,a,l),s.flags|=262144}function Nl(i){for(i=i.firstContext;i!==null;){if(!Vt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fs(i){cs=i,Pn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function gt(i){return py(cs,i)}function Ol(i,s){return cs===null&&fs(i),py(i,s)}function py(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Pn===null){if(i===null)throw Error(r(308));Pn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Pn=Pn.next=s;return a}var oR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},lR=t.unstable_scheduleCallback,uR=t.unstable_NormalPriority,Je={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new oR,data:new Map,refCount:0}}function Sa(i){i.refCount--,i.refCount===0&&lR(uR,function(){i.controller.abort()})}var ba=null,xf=0,tr=0,nr=null;function cR(i,s){if(ba===null){var a=ba=[];xf=0,tr=Nh(),nr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,s.then(my,my),s}function my(){if(--xf===0&&ba!==null){nr!==null&&(nr.status="fulfilled");var i=ba;ba=null,tr=0,nr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function fR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gy=U.S;U.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&cR(i,s),gy!==null&&gy(i,s)};var hs=j(null);function Df(){var i=hs.current;return i!==null?i:Ie.pooledCache}function Ml(i,s){s===null?Y(hs,hs.current):Y(hs,s.pool)}function yy(){var i=Df();return i===null?null:{parent:Je._currentValue,pool:i}}var Ta=Error(r(460)),vy=Error(r(474)),Il=Error(r(542)),Nf={then:function(){}};function _y(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kl(){}function Ey(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(kl,kl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,by(i),i;default:if(typeof s.status=="string")s.then(kl,kl);else{if(i=Ie,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,by(i),i}throw Ca=s,Ta}}var Ca=null;function Sy(){if(Ca===null)throw Error(r(459));var i=Ca;return Ca=null,i}function by(i){if(i===Ta||i===Il)throw Error(r(483))}var pi=!1;function Of(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gi(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Al(i),ly(i,null,a),s}return wl(i,l,s,a),Al(i)}function wa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,mg(i,a)}}function If(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var kf=!1;function Aa(){if(kf){var i=nr;if(i!==null)throw i}}function Ra(i,s,a,l){kf=!1;var f=i.updateQueue;pi=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var T=E,M=T.next;T.next=null,v===null?p=M:v.next=M,v=T;var P=i.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==v&&(E===null?P.firstBaseUpdate=M:E.next=M,P.lastBaseUpdate=T))}if(p!==null){var z=f.baseState;v=0,P=M=T=null,E=p;do{var I=E.lane&-536870913,L=I!==E.lane;if(L?(ve&I)===I:(l&I)===I){I!==0&&I===tr&&(kf=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=i,ne=E;I=s;var De=a;switch(ne.tag){case 1:if(re=ne.payload,typeof re=="function"){z=re.call(De,z,I);break e}z=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ne.payload,I=typeof re=="function"?re.call(De,z,I):re,I==null)break e;z=g({},z,I);break e;case 2:pi=!0}}I=E.callback,I!==null&&(i.flags|=64,L&&(i.flags|=8192),L=f.callbacks,L===null?f.callbacks=[I]:L.push(I))}else L={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(M=P=L,T=z):P=P.next=L,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;L=E,E=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);P===null&&(T=z),f.baseState=T,f.firstBaseUpdate=M,f.lastBaseUpdate=P,p===null&&(f.shared.lanes=0),Ci|=v,i.lanes=v,i.memoizedState=z}}function Ty(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Cy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ty(a[i],s)}var ir=j(null),Ll=j(0);function wy(i,s){i=qn,Y(Ll,i),Y(ir,s),qn=i|s.baseLanes}function Lf(){Y(Ll,qn),Y(ir,ir.current)}function Pf(){qn=Ll.current,K(ir),K(Ll)}var yi=0,fe=null,Re=null,Xe=null,Pl=!1,sr=!1,ds=!1,Ul=0,xa=0,rr=null,hR=0;function Ye(){throw Error(r(321))}function Uf(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Vt(i[a],s[a]))return!1;return!0}function Vf(i,s,a,l,f,p){return yi=p,fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=i===null||i.memoizedState===null?lv:uv,ds=!1,p=a(l,f),ds=!1,sr&&(p=Ry(s,a,l,f)),Ay(i),p}function Ay(i){U.H=Fl;var s=Re!==null&&Re.next!==null;if(yi=0,Xe=Re=fe=null,Pl=!1,xa=0,rr=null,s)throw Error(r(300));i===null||it||(i=i.dependencies,i!==null&&Nl(i)&&(it=!0))}function Ry(i,s,a,l){fe=i;var f=0;do{if(sr&&(rr=null),xa=0,sr=!1,25<=f)throw Error(r(301));if(f+=1,Xe=Re=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=_R,p=s(a,l)}while(sr);return p}function dR(){var i=U.H,s=i.useState()[0];return s=typeof s.then=="function"?Da(s):s,i=i.useState()[0],(Re!==null?Re.memoizedState:null)!==i&&(fe.flags|=1024),s}function Bf(){var i=Ul!==0;return Ul=0,i}function zf(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Hf(i){if(Pl){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Pl=!1}yi=0,Xe=Re=fe=null,sr=!1,xa=Ul=0,rr=null}function Rt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?fe.memoizedState=Xe=i:Xe=Xe.next=i,Xe}function Qe(){if(Re===null){var i=fe.alternate;i=i!==null?i.memoizedState:null}else i=Re.next;var s=Xe===null?fe.memoizedState:Xe.next;if(s!==null)Xe=s,Re=i;else{if(i===null)throw fe.alternate===null?Error(r(467)):Error(r(310));Re=i,i={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Xe===null?fe.memoizedState=Xe=i:Xe=Xe.next=i}return Xe}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Da(i){var s=xa;return xa+=1,rr===null&&(rr=[]),i=Ey(rr,i,s),s=fe,(Xe===null?s.memoizedState:Xe.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?lv:uv),i}function Vl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Da(i);if(i.$$typeof===k)return gt(i)}throw Error(r(438,String(i)))}function Ff(i){var s=null,a=fe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jf(),fe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=_e;return s.index++,a}function Vn(i,s){return typeof s=="function"?s(i):s}function Bl(i){var s=Qe();return qf(s,Re,i)}function qf(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}s.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{s=f.next;var E=v=null,T=null,M=s,P=!1;do{var z=M.lane&-536870913;if(z!==M.lane?(ve&z)===z:(yi&z)===z){var I=M.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),z===tr&&(P=!0);else if((yi&I)===I){M=M.next,I===tr&&(P=!0);continue}else z={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(E=T=z,v=p):T=T.next=z,fe.lanes|=I,Ci|=I;z=M.action,ds&&a(p,z),p=M.hasEagerState?M.eagerState:a(p,z)}else I={lane:z,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(E=T=I,v=p):T=T.next=I,fe.lanes|=z,Ci|=z;M=M.next}while(M!==null&&M!==s);if(T===null?v=p:T.next=E,!Vt(p,i.memoizedState)&&(it=!0,P&&(a=nr,a!==null)))throw a;i.memoizedState=p,i.baseState=v,i.baseQueue=T,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Gf(i){var s=Qe(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do p=i(p,v.action),v=v.next;while(v!==f);Vt(p,s.memoizedState)||(it=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function xy(i,s,a){var l=fe,f=Qe(),p=Te;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Vt((Re||f).memoizedState,a);v&&(f.memoizedState=a,it=!0),f=f.queue;var E=Oy.bind(null,l,f,i);if(Na(2048,8,E,[i]),f.getSnapshot!==s||v||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,ar(9,zl(),Ny.bind(null,l,f,a,s),null),Ie===null)throw Error(r(349));p||(yi&124)!==0||Dy(l,s,a)}return a}function Dy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=fe.updateQueue,s===null?(s=jf(),fe.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Ny(i,s,a,l){s.value=a,s.getSnapshot=l,My(s)&&Iy(i)}function Oy(i,s,a){return a(function(){My(s)&&Iy(i)})}function My(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Vt(i,a)}catch{return!0}}function Iy(i){var s=$s(i,2);s!==null&&qt(s,i,2)}function Yf(i){var s=Rt();if(typeof i=="function"){var a=i;if(i=a(),ds){ci(!0);try{a()}finally{ci(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:i},s}function ky(i,s,a,l){return i.baseState=a,qf(i,Re,typeof l=="function"?l:Vn)}function pR(i,s,a,l,f){if(jl(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};U.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,Ly(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Ly(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var p=U.T,v={};U.T=v;try{var E=a(f,l),T=U.S;T!==null&&T(v,E),Py(i,s,E)}catch(M){Kf(i,s,M)}finally{U.T=p}}else try{p=a(f,l),Py(i,s,p)}catch(M){Kf(i,s,M)}}function Py(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(i,s,l)},function(l){return Kf(i,s,l)}):Uy(i,s,a)}function Uy(i,s,a){s.status="fulfilled",s.value=a,Vy(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,Ly(i,a)))}function Kf(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Vy(s),s=s.next;while(s!==l)}i.action=null}function Vy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function By(i,s){return s}function zy(i,s){if(Te){var a=Ie.formState;if(a!==null){e:{var l=fe;if(Te){if(je){t:{for(var f=je,p=En;f.nodeType!==8;){if(!p){f=null;break t}if(f=ln(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){je=ln(f.nextSibling),l=f.data==="F!";break e}}us(l)}l=!1}l&&(s=a[0])}}return a=Rt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:s},a.queue=l,a=rv.bind(null,fe,l),l.dispatch=a,l=Yf(!1),p=Zf.bind(null,fe,!1,l.queue),l=Rt(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=pR.bind(null,fe,f,p,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function Hy(i){var s=Qe();return jy(s,Re,i)}function jy(i,s,a){if(s=qf(i,s,By)[0],i=Bl(Vn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Da(s)}catch(v){throw v===Ta?Il:v}else l=s;s=Qe();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(fe.flags|=2048,ar(9,zl(),mR.bind(null,f,a),null)),[l,p,i]}function mR(i,s){i.action=s}function Fy(i){var s=Qe(),a=Re;if(a!==null)return jy(s,a,i);Qe(),s=s.memoizedState,a=Qe();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function ar(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=fe.updateQueue,s===null&&(s=jf(),fe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function zl(){return{destroy:void 0,resource:void 0}}function qy(){return Qe().memoizedState}function Hl(i,s,a,l){var f=Rt();l=l===void 0?null:l,fe.flags|=i,f.memoizedState=ar(1|s,zl(),a,l)}function Na(i,s,a,l){var f=Qe();l=l===void 0?null:l;var p=f.memoizedState.inst;Re!==null&&l!==null&&Uf(l,Re.memoizedState.deps)?f.memoizedState=ar(s,p,a,l):(fe.flags|=i,f.memoizedState=ar(1|s,p,a,l))}function Gy(i,s){Hl(8390656,8,i,s)}function Yy(i,s){Na(2048,8,i,s)}function Ky(i,s){return Na(4,2,i,s)}function Wy(i,s){return Na(4,4,i,s)}function Xy(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Qy(i,s,a){a=a!=null?a.concat([i]):null,Na(4,4,Xy.bind(null,s,i),a)}function Wf(){}function $y(i,s){var a=Qe();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Uf(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Zy(i,s){var a=Qe();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Uf(s,l[1]))return l[0];if(l=i(),ds){ci(!0);try{i()}finally{ci(!1)}}return a.memoizedState=[l,s],l}function Xf(i,s,a){return a===void 0||(yi&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=t_(),fe.lanes|=i,Ci|=i,a)}function Jy(i,s,a,l){return Vt(a,s)?a:ir.current!==null?(i=Xf(i,a,l),Vt(i,s)||(it=!0),i):(yi&42)===0?(it=!0,i.memoizedState=a):(i=t_(),fe.lanes|=i,Ci|=i,s)}function ev(i,s,a,l,f){var p=F.p;F.p=p!==0&&8>p?p:8;var v=U.T,E={};U.T=E,Zf(i,!1,s,a);try{var T=f(),M=U.S;if(M!==null&&M(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var P=fR(T,l);Oa(i,s,P,Ft(i))}else Oa(i,s,l,Ft(i))}catch(z){Oa(i,s,{then:function(){},status:"rejected",reason:z},Ft())}finally{F.p=p,U.T=v}}function gR(){}function Qf(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=tv(i).queue;ev(i,f,s,Z,a===null?gR:function(){return nv(i),a(l)})}function tv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:Z},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function nv(i){var s=tv(i).next.queue;Oa(i,s,{},Ft())}function $f(){return gt(Xa)}function iv(){return Qe().memoizedState}function sv(){return Qe().memoizedState}function yR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ft();i=mi(a);var l=gi(s,i,a);l!==null&&(qt(l,s,a),wa(l,s,a)),s={cache:Rf()},i.payload=s;return}s=s.return}}function vR(i,s,a){var l=Ft();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jl(i)?av(s,a):(a=yf(i,s,a,l),a!==null&&(qt(a,i,l),ov(a,s,l)))}function rv(i,s,a){var l=Ft();Oa(i,s,a,l)}function Oa(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jl(i))av(s,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,E=p(v,a);if(f.hasEagerState=!0,f.eagerState=E,Vt(E,v))return wl(i,s,f,0),Ie===null&&Cl(),!1}catch{}finally{}if(a=yf(i,s,f,l),a!==null)return qt(a,i,l),ov(a,s,l),!0}return!1}function Zf(i,s,a,l){if(l={lane:2,revertLane:Nh(),action:l,hasEagerState:!1,eagerState:null,next:null},jl(i)){if(s)throw Error(r(479))}else s=yf(i,a,l,2),s!==null&&qt(s,i,2)}function jl(i){var s=i.alternate;return i===fe||s!==null&&s===fe}function av(i,s){sr=Pl=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function ov(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,mg(i,a)}}var Fl={readContext:gt,use:Vl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},lv={readContext:gt,use:Vl,useCallback:function(i,s){return Rt().memoizedState=[i,s===void 0?null:s],i},useContext:gt,useEffect:Gy,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hl(4194308,4,Xy.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hl(4194308,4,i,s)},useInsertionEffect:function(i,s){Hl(4,2,i,s)},useMemo:function(i,s){var a=Rt();s=s===void 0?null:s;var l=i();if(ds){ci(!0);try{i()}finally{ci(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Rt();if(a!==void 0){var f=a(s);if(ds){ci(!0);try{a(s)}finally{ci(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=vR.bind(null,fe,i),[l.memoizedState,i]},useRef:function(i){var s=Rt();return i={current:i},s.memoizedState=i},useState:function(i){i=Yf(i);var s=i.queue,a=rv.bind(null,fe,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(i,s){var a=Rt();return Xf(a,i,s)},useTransition:function(){var i=Yf(!1);return i=ev.bind(null,fe,i.queue,!0,!1),Rt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=fe,f=Rt();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ie===null)throw Error(r(349));(ve&124)!==0||Dy(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,Gy(Oy.bind(null,l,p,i),[i]),l.flags|=2048,ar(9,zl(),Ny.bind(null,l,p,a,s),null),a},useId:function(){var i=Rt(),s=Ie.identifierPrefix;if(Te){var a=Ln,l=kn;a=(l&~(1<<32-Ut(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Ul++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=hR++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:$f,useFormState:zy,useActionState:zy,useOptimistic:function(i){var s=Rt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Zf.bind(null,fe,!0,a),a.dispatch=s,[i,s]},useMemoCache:Ff,useCacheRefresh:function(){return Rt().memoizedState=yR.bind(null,fe)}},uv={readContext:gt,use:Vl,useCallback:$y,useContext:gt,useEffect:Yy,useImperativeHandle:Qy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Zy,useReducer:Bl,useRef:qy,useState:function(){return Bl(Vn)},useDebugValue:Wf,useDeferredValue:function(i,s){var a=Qe();return Jy(a,Re.memoizedState,i,s)},useTransition:function(){var i=Bl(Vn)[0],s=Qe().memoizedState;return[typeof i=="boolean"?i:Da(i),s]},useSyncExternalStore:xy,useId:iv,useHostTransitionStatus:$f,useFormState:Hy,useActionState:Hy,useOptimistic:function(i,s){var a=Qe();return ky(a,Re,i,s)},useMemoCache:Ff,useCacheRefresh:sv},_R={readContext:gt,use:Vl,useCallback:$y,useContext:gt,useEffect:Yy,useImperativeHandle:Qy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Zy,useReducer:Gf,useRef:qy,useState:function(){return Gf(Vn)},useDebugValue:Wf,useDeferredValue:function(i,s){var a=Qe();return Re===null?Xf(a,i,s):Jy(a,Re.memoizedState,i,s)},useTransition:function(){var i=Gf(Vn)[0],s=Qe().memoizedState;return[typeof i=="boolean"?i:Da(i),s]},useSyncExternalStore:xy,useId:iv,useHostTransitionStatus:$f,useFormState:Fy,useActionState:Fy,useOptimistic:function(i,s){var a=Qe();return Re!==null?ky(a,Re,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:sv},or=null,Ma=0;function ql(i){var s=Ma;return Ma+=1,or===null&&(or=[]),Ey(or,i,s)}function Ia(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Gl(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function cv(i){var s=i._init;return s(i._payload)}function fv(i){function s(x,A){if(i){var D=x.deletions;D===null?(x.deletions=[A],x.flags|=16):D.push(A)}}function a(x,A){if(!i)return null;for(;A!==null;)s(x,A),A=A.sibling;return null}function l(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function f(x,A){return x=In(x,A),x.index=0,x.sibling=null,x}function p(x,A,D){return x.index=D,i?(D=x.alternate,D!==null?(D=D.index,D<A?(x.flags|=67108866,A):D):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function v(x){return i&&x.alternate===null&&(x.flags|=67108866),x}function E(x,A,D,B){return A===null||A.tag!==6?(A=_f(D,x.mode,B),A.return=x,A):(A=f(A,D),A.return=x,A)}function T(x,A,D,B){var $=D.type;return $===b?P(x,A,D.props.children,B,D.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Q&&cv($)===A.type)?(A=f(A,D.props),Ia(A,D),A.return=x,A):(A=Rl(D.type,D.key,D.props,null,x.mode,B),Ia(A,D),A.return=x,A)}function M(x,A,D,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Ef(D,x.mode,B),A.return=x,A):(A=f(A,D.children||[]),A.return=x,A)}function P(x,A,D,B,$){return A===null||A.tag!==7?(A=rs(D,x.mode,B,$),A.return=x,A):(A=f(A,D),A.return=x,A)}function z(x,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=_f(""+A,x.mode,D),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return D=Rl(A.type,A.key,A.props,null,x.mode,D),Ia(D,A),D.return=x,D;case S:return A=Ef(A,x.mode,D),A.return=x,A;case Q:var B=A._init;return A=B(A._payload),z(x,A,D)}if(ut(A)||Ze(A))return A=rs(A,x.mode,D,null),A.return=x,A;if(typeof A.then=="function")return z(x,ql(A),D);if(A.$$typeof===k)return z(x,Ol(x,A),D);Gl(x,A)}return null}function I(x,A,D,B){var $=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return $!==null?null:E(x,A,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===$?T(x,A,D,B):null;case S:return D.key===$?M(x,A,D,B):null;case Q:return $=D._init,D=$(D._payload),I(x,A,D,B)}if(ut(D)||Ze(D))return $!==null?null:P(x,A,D,B,null);if(typeof D.then=="function")return I(x,A,ql(D),B);if(D.$$typeof===k)return I(x,A,Ol(x,D),B);Gl(x,D)}return null}function L(x,A,D,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return x=x.get(D)||null,E(A,x,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return x=x.get(B.key===null?D:B.key)||null,T(A,x,B,$);case S:return x=x.get(B.key===null?D:B.key)||null,M(A,x,B,$);case Q:var he=B._init;return B=he(B._payload),L(x,A,D,B,$)}if(ut(B)||Ze(B))return x=x.get(D)||null,P(A,x,B,$,null);if(typeof B.then=="function")return L(x,A,D,ql(B),$);if(B.$$typeof===k)return L(x,A,D,Ol(A,B),$);Gl(A,B)}return null}function re(x,A,D,B){for(var $=null,he=null,J=A,ie=A=0,rt=null;J!==null&&ie<D.length;ie++){J.index>ie?(rt=J,J=null):rt=J.sibling;var Se=I(x,J,D[ie],B);if(Se===null){J===null&&(J=rt);break}i&&J&&Se.alternate===null&&s(x,J),A=p(Se,A,ie),he===null?$=Se:he.sibling=Se,he=Se,J=rt}if(ie===D.length)return a(x,J),Te&&os(x,ie),$;if(J===null){for(;ie<D.length;ie++)J=z(x,D[ie],B),J!==null&&(A=p(J,A,ie),he===null?$=J:he.sibling=J,he=J);return Te&&os(x,ie),$}for(J=l(J);ie<D.length;ie++)rt=L(J,x,ie,D[ie],B),rt!==null&&(i&&rt.alternate!==null&&J.delete(rt.key===null?ie:rt.key),A=p(rt,A,ie),he===null?$=rt:he.sibling=rt,he=rt);return i&&J.forEach(function(Ii){return s(x,Ii)}),Te&&os(x,ie),$}function ne(x,A,D,B){if(D==null)throw Error(r(151));for(var $=null,he=null,J=A,ie=A=0,rt=null,Se=D.next();J!==null&&!Se.done;ie++,Se=D.next()){J.index>ie?(rt=J,J=null):rt=J.sibling;var Ii=I(x,J,Se.value,B);if(Ii===null){J===null&&(J=rt);break}i&&J&&Ii.alternate===null&&s(x,J),A=p(Ii,A,ie),he===null?$=Ii:he.sibling=Ii,he=Ii,J=rt}if(Se.done)return a(x,J),Te&&os(x,ie),$;if(J===null){for(;!Se.done;ie++,Se=D.next())Se=z(x,Se.value,B),Se!==null&&(A=p(Se,A,ie),he===null?$=Se:he.sibling=Se,he=Se);return Te&&os(x,ie),$}for(J=l(J);!Se.done;ie++,Se=D.next())Se=L(J,x,ie,Se.value,B),Se!==null&&(i&&Se.alternate!==null&&J.delete(Se.key===null?ie:Se.key),A=p(Se,A,ie),he===null?$=Se:he.sibling=Se,he=Se);return i&&J.forEach(function(E1){return s(x,E1)}),Te&&os(x,ie),$}function De(x,A,D,B){if(typeof D=="object"&&D!==null&&D.type===b&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var $=D.key;A!==null;){if(A.key===$){if($=D.type,$===b){if(A.tag===7){a(x,A.sibling),B=f(A,D.props.children),B.return=x,x=B;break e}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Q&&cv($)===A.type){a(x,A.sibling),B=f(A,D.props),Ia(B,D),B.return=x,x=B;break e}a(x,A);break}else s(x,A);A=A.sibling}D.type===b?(B=rs(D.props.children,x.mode,B,D.key),B.return=x,x=B):(B=Rl(D.type,D.key,D.props,null,x.mode,B),Ia(B,D),B.return=x,x=B)}return v(x);case S:e:{for($=D.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(x,A.sibling),B=f(A,D.children||[]),B.return=x,x=B;break e}else{a(x,A);break}else s(x,A);A=A.sibling}B=Ef(D,x.mode,B),B.return=x,x=B}return v(x);case Q:return $=D._init,D=$(D._payload),De(x,A,D,B)}if(ut(D))return re(x,A,D,B);if(Ze(D)){if($=Ze(D),typeof $!="function")throw Error(r(150));return D=$.call(D),ne(x,A,D,B)}if(typeof D.then=="function")return De(x,A,ql(D),B);if(D.$$typeof===k)return De(x,A,Ol(x,D),B);Gl(x,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(x,A.sibling),B=f(A,D),B.return=x,x=B):(a(x,A),B=_f(D,x.mode,B),B.return=x,x=B),v(x)):a(x,A)}return function(x,A,D,B){try{Ma=0;var $=De(x,A,D,B);return or=null,$}catch(J){if(J===Ta||J===Il)throw J;var he=Bt(29,J,null,x.mode);return he.lanes=B,he.return=x,he}finally{}}}var lr=fv(!0),hv=fv(!1),Zt=j(null),Sn=null;function vi(i){var s=i.alternate;Y(et,et.current&1),Y(Zt,i),Sn===null&&(s===null||ir.current!==null||s.memoizedState!==null)&&(Sn=i)}function dv(i){if(i.tag===22){if(Y(et,et.current),Y(Zt,i),Sn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Sn=i)}}else _i()}function _i(){Y(et,et.current),Y(Zt,Zt.current)}function Bn(i){K(Zt),Sn===i&&(Sn=null),K(et)}var et=j(0);function Yl(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jh(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Jf(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var eh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Ft(),f=mi(l);f.payload=s,a!=null&&(f.callback=a),s=gi(i,f,l),s!==null&&(qt(s,i,l),wa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Ft(),f=mi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=gi(i,f,l),s!==null&&(qt(s,i,l),wa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Ft(),l=mi(a);l.tag=2,s!=null&&(l.callback=s),s=gi(i,l,a),s!==null&&(qt(s,i,a),wa(s,i,a))}};function pv(i,s,a,l,f,p,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,v):s.prototype&&s.prototype.isPureReactComponent?!ma(a,l)||!ma(f,p):!0}function mv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&eh.enqueueReplaceState(s,s.state,null)}function ps(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Kl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function gv(i){Kl(i)}function yv(i){console.error(i)}function vv(i){Kl(i)}function Wl(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _v(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function th(i,s,a){return a=mi(a),a.tag=3,a.payload={element:null},a.callback=function(){Wl(i,s)},a}function Ev(i){return i=mi(i),i.tag=3,i}function Sv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){_v(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){_v(s,a,l),typeof f!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function ER(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ea(s,a,f,!0),a=Zt.current,a!==null){switch(a.tag){case 13:return Sn===null?wh():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Rh(i,l,f)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Rh(i,l,f)),!1}throw Error(r(435,a.tag))}return Rh(i,l,f),wh(),!1}if(Te)return s=Zt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Tf&&(i=Error(r(422),{cause:l}),_a(Wt(i,a)))):(l!==Tf&&(s=Error(r(423),{cause:l}),_a(Wt(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Wt(l,a),f=th(i.stateNode,l,f),If(i,f),Fe!==4&&(Fe=2)),!1;var p=Error(r(520),{cause:l});if(p=Wt(p,a),za===null?za=[p]:za.push(p),Fe!==4&&(Fe=2),s===null)return!0;l=Wt(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=th(a.stateNode,l,i),If(a,i),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(wi===null||!wi.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ev(f),Sv(f,i,a,l),If(a,f),!1}a=a.return}while(a!==null);return!1}var bv=Error(r(461)),it=!1;function ct(i,s,a,l){s.child=i===null?hv(s,null,a,l):lr(s,i.child,a,l)}function Tv(i,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return fs(s),l=Vf(i,s,a,v,p,f),E=Bf(),i!==null&&!it?(zf(i,s,f),zn(i,s,f)):(Te&&E&&Sf(s),s.flags|=1,ct(i,s,l,f),s.child)}function Cv(i,s,a,l,f){if(i===null){var p=a.type;return typeof p=="function"&&!vf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,wv(i,s,p,l,f)):(i=Rl(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!uh(i,f)){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:ma,a(v,l)&&i.ref===s.ref)return zn(i,s,f)}return s.flags|=1,i=In(p,l),i.ref=s.ref,i.return=s,s.child=i}function wv(i,s,a,l,f){if(i!==null){var p=i.memoizedProps;if(ma(p,l)&&i.ref===s.ref)if(it=!1,s.pendingProps=l=p,uh(i,f))(i.flags&131072)!==0&&(it=!0);else return s.lanes=i.lanes,zn(i,s,f)}return nh(i,s,a,l,f)}function Av(i,s,a){var l=s.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(f=s.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return Rv(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ml(s,p!==null?p.cachePool:null),p!==null?wy(s,p):Lf(),dv(s);else return s.lanes=s.childLanes=536870912,Rv(i,s,p!==null?p.baseLanes|a:a,a)}else p!==null?(Ml(s,p.cachePool),wy(s,p),_i(),s.memoizedState=null):(i!==null&&Ml(s,null),Lf(),_i());return ct(i,s,f,a),s.child}function Rv(i,s,a,l){var f=Df();return f=f===null?null:{parent:Je._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&Ml(s,null),Lf(),dv(s),i!==null&&Ea(i,s,l,!0),null}function Xl(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function nh(i,s,a,l,f){return fs(s),a=Vf(i,s,a,l,void 0,f),l=Bf(),i!==null&&!it?(zf(i,s,f),zn(i,s,f)):(Te&&l&&Sf(s),s.flags|=1,ct(i,s,a,f),s.child)}function xv(i,s,a,l,f,p){return fs(s),s.updateQueue=null,a=Ry(s,l,a,f),Ay(i),l=Bf(),i!==null&&!it?(zf(i,s,p),zn(i,s,p)):(Te&&l&&Sf(s),s.flags|=1,ct(i,s,a,p),s.child)}function Dv(i,s,a,l,f){if(fs(s),s.stateNode===null){var p=Zs,v=a.contextType;typeof v=="object"&&v!==null&&(p=gt(v)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=eh,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},Of(s),v=a.contextType,p.context=typeof v=="object"&&v!==null?gt(v):Zs,p.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jf(s,a,v,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&eh.enqueueReplaceState(p,p.state,null),Ra(s,l,p,f),Aa(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){p=s.stateNode;var E=s.memoizedProps,T=ps(a,E);p.props=T;var M=p.context,P=a.contextType;v=Zs,typeof P=="object"&&P!==null&&(v=gt(P));var z=a.getDerivedStateFromProps;P=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||M!==v)&&mv(s,p,l,v),pi=!1;var I=s.memoizedState;p.state=I,Ra(s,l,p,f),Aa(),M=s.memoizedState,E||I!==M||pi?(typeof z=="function"&&(Jf(s,a,z,l),M=s.memoizedState),(T=pi||pv(s,a,T,l,I,M,v))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=M),p.props=l,p.state=M,p.context=v,l=T):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Mf(i,s),v=s.memoizedProps,P=ps(a,v),p.props=P,z=s.pendingProps,I=p.context,M=a.contextType,T=Zs,typeof M=="object"&&M!==null&&(T=gt(M)),E=a.getDerivedStateFromProps,(M=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==z||I!==T)&&mv(s,p,l,T),pi=!1,I=s.memoizedState,p.state=I,Ra(s,l,p,f),Aa();var L=s.memoizedState;v!==z||I!==L||pi||i!==null&&i.dependencies!==null&&Nl(i.dependencies)?(typeof E=="function"&&(Jf(s,a,E,l),L=s.memoizedState),(P=pi||pv(s,a,P,l,I,L,T)||i!==null&&i.dependencies!==null&&Nl(i.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,L,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,L,T)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=L),p.props=l,p.state=L,p.context=T,l=P):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),l=!1)}return p=l,Xl(i,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&l?(s.child=lr(s,i.child,null,f),s.child=lr(s,null,a,f)):ct(i,s,a,f),s.memoizedState=p.state,i=s.child):i=zn(i,s,f),i}function Nv(i,s,a,l){return va(),s.flags|=256,ct(i,s,a,l),s.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sh(i){return{baseLanes:i,cachePool:yy()}}function rh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Jt),i}function Ov(i,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,v;if((v=p)||(v=i!==null&&i.memoizedState===null?!1:(et.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Te){if(f?vi(s):_i(),Te){var E=je,T;if(T=E){e:{for(T=E,E=En;T.nodeType!==8;){if(!E){E=null;break e}if(T=ln(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(s.memoizedState={dehydrated:E,treeContext:as!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},T=Bt(18,null,null,0),T.stateNode=E,T.return=s,s.child=T,St=s,je=null,T=!0):T=!1}T||us(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return jh(E)?s.lanes=32:s.lanes=536870912,null;Bn(s)}return E=l.children,l=l.fallback,f?(_i(),f=s.mode,E=Ql({mode:"hidden",children:E},f),l=rs(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=sh(a),f.childLanes=rh(i,v,a),s.memoizedState=ih,l):(vi(s),ah(s,E))}if(T=i.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(p)s.flags&256?(vi(s),s.flags&=-257,s=oh(i,s,a)):s.memoizedState!==null?(_i(),s.child=i.child,s.flags|=128,s=null):(_i(),f=l.fallback,E=s.mode,l=Ql({mode:"visible",children:l.children},E),f=rs(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,lr(s,i.child,null,a),l=s.child,l.memoizedState=sh(a),l.childLanes=rh(i,v,a),s.memoizedState=ih,s=f);else if(vi(s),jh(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(r(419)),l.stack="",l.digest=v,_a({value:l,source:null,stack:null}),s=oh(i,s,a)}else if(it||Ea(i,s,a,!1),v=(a&i.childLanes)!==0,it||v){if(v=Ie,v!==null&&(l=a&-a,l=(l&42)!==0?1:jc(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,$s(i,l),qt(v,i,l),bv;E.data==="$?"||wh(),s=oh(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=T.treeContext,je=ln(E.nextSibling),St=s,Te=!0,ls=null,En=!1,i!==null&&(Qt[$t++]=kn,Qt[$t++]=Ln,Qt[$t++]=as,kn=i.id,Ln=i.overflow,as=s),s=ah(s,l.children),s.flags|=4096);return s}return f?(_i(),f=l.fallback,E=s.mode,T=i.child,M=T.sibling,l=In(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,M!==null?f=In(M,f):(f=rs(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=i.child.memoizedState,E===null?E=sh(a):(T=E.cachePool,T!==null?(M=Je._currentValue,T=T.parent!==M?{parent:M,pool:M}:T):T=yy(),E={baseLanes:E.baseLanes|a,cachePool:T}),f.memoizedState=E,f.childLanes=rh(i,v,a),s.memoizedState=ih,l):(vi(s),a=i.child,i=a.sibling,a=In(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function ah(i,s){return s=Ql({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ql(i,s){return i=Bt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function oh(i,s,a){return lr(s,i.child,null,a),i=ah(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Mv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),wf(i.return,s,a)}function lh(i,s,a,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function Iv(i,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;if(ct(i,s,l.children,a),l=et.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Mv(i,a,s);else if(i.tag===19)Mv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(Y(et,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Yl(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),lh(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Yl(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}lh(s,!0,a,null,p);break;case"together":lh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zn(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ci|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ea(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=In(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=In(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function uh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Nl(i)))}function SR(i,s,a){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),di(s,Je,i.memoizedState.cache),va();break;case 27:case 5:Uc(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:di(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Ov(i,s,a):(vi(s),i=zn(i,s,a),i!==null?i.sibling:null);vi(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ea(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Iv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(et,et.current),l)break;return null;case 22:case 23:return s.lanes=0,Av(i,s,a);case 24:di(s,Je,i.memoizedState.cache)}return zn(i,s,a)}function kv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)it=!0;else{if(!uh(i,a)&&(s.flags&128)===0)return it=!1,SR(i,s,a);it=(i.flags&131072)!==0}else it=!1,Te&&(s.flags&1048576)!==0&&cy(s,Dl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")vf(l)?(i=ps(l,i),s.tag=1,s=Dv(null,s,l,i,a)):(s.tag=0,s=nh(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===G){s.tag=11,s=Tv(null,s,l,i,a);break e}else if(f===ee){s.tag=14,s=Cv(null,s,l,i,a);break e}}throw s=vn(l)||l,Error(r(306,s,""))}}return s;case 0:return nh(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ps(l,s.pendingProps),Dv(i,s,l,f,a);case 3:e:{if(Pe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Mf(i,s),Ra(s,l,null,a);var v=s.memoizedState;if(l=v.cache,di(s,Je,l),l!==p.cache&&Af(s,[Je],a,!0),Aa(),l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Nv(i,s,l,a);break e}else if(l!==f){f=Wt(Error(r(424)),s),_a(f),s=Nv(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(je=ln(i.firstChild),St=s,Te=!0,ls=null,En=!0,a=hv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===f){s=zn(i,s,a);break e}ct(i,s,l,a)}s=s.child}return s;case 26:return Xl(i,s),i===null?(a=V_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Te||(a=s.type,i=s.pendingProps,l=cu(ue.current).createElement(a),l[mt]=s,l[wt]=i,ht(l,a,i),nt(l),s.stateNode=l):s.memoizedState=V_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Uc(s),i===null&&Te&&(l=s.stateNode=L_(s.type,s.pendingProps,ue.current),St=s,En=!0,f=je,xi(s.type)?(Fh=f,je=ln(l.firstChild)):je=f),ct(i,s,s.pendingProps.children,a),Xl(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Te&&((f=l=je)&&(l=XR(l,s.type,s.pendingProps,En),l!==null?(s.stateNode=l,St=s,je=ln(l.firstChild),En=!1,f=!0):f=!1),f||us(s)),Uc(s),f=s.type,p=s.pendingProps,v=i!==null?i.memoizedProps:null,l=p.children,Bh(f,p)?l=null:v!==null&&Bh(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Vf(i,s,dR,null,null,a),Xa._currentValue=f),Xl(i,s),ct(i,s,l,a),s.child;case 6:return i===null&&Te&&((i=a=je)&&(a=QR(a,s.pendingProps,En),a!==null?(s.stateNode=a,St=s,je=null,i=!0):i=!1),i||us(s)),null;case 13:return Ov(i,s,a);case 4:return Pe(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=lr(s,null,l,a):ct(i,s,l,a),s.child;case 11:return Tv(i,s,s.type,s.pendingProps,a);case 7:return ct(i,s,s.pendingProps,a),s.child;case 8:return ct(i,s,s.pendingProps.children,a),s.child;case 12:return ct(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,di(s,s.type,l.value),ct(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,fs(s),f=gt(f),l=l(f),s.flags|=1,ct(i,s,l,a),s.child;case 14:return Cv(i,s,s.type,s.pendingProps,a);case 15:return wv(i,s,s.type,s.pendingProps,a);case 19:return Iv(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=Ql(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=In(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Av(i,s,a);case 24:return fs(s),l=gt(Je),i===null?(f=Df(),f===null&&(f=Ie,p=Rf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},Of(s),di(s,Je,f)):((i.lanes&a)!==0&&(Mf(i,s),Ra(s,null,null,a),Aa()),f=i.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),di(s,Je,l)):(l=p.cache,di(s,Je,l),l!==f.cache&&Af(s,[Je],a,!0))),ct(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Hn(i){i.flags|=4}function Lv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F_(s)){if(s=Zt.current,s!==null&&((ve&4194048)===ve?Sn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||s!==Sn))throw Ca=Nf,vy;i.flags|=8192}}function $l(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?dg():536870912,i.lanes|=s,hr|=s)}function ka(i,s){if(!Te)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Be(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function bR(i,s,a){var l=s.pendingProps;switch(bf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(s),null;case 1:return Be(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Un(Je),ui(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(ya(s)?Hn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dy())),Be(s),null;case 26:return a=s.memoizedState,i===null?(Hn(s),a!==null?(Be(s),Lv(s,a)):(Be(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Hn(s),Be(s),Lv(s,a)):(Be(s),s.flags&=-16777217):(i.memoizedProps!==l&&Hn(s),Be(s),s.flags&=-16777217),null;case 27:ll(s),a=ue.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Hn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Be(s),null}i=te.current,ya(s)?fy(s):(i=L_(f,l,a),s.stateNode=i,Hn(s))}return Be(s),null;case 5:if(ll(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Hn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Be(s),null}if(i=te.current,ya(s))fy(s);else{switch(f=cu(ue.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[mt]=s,i[wt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;e:switch(ht(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Hn(s)}}return Be(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Hn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=ue.current,ya(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=St,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[mt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(i.nodeValue,a)),i||us(s)}else i=cu(i).createTextNode(l),i[mt]=s,s.stateNode=i}return Be(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ya(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[mt]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),f=!1}else f=dy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bn(s),s):(Bn(s),null)}if(Bn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),$l(s,s.updateQueue),Be(s),null;case 4:return ui(),i===null&&kh(s.stateNode.containerInfo),Be(s),null;case 10:return Un(s.type),Be(s),null;case 19:if(K(et),f=s.memoizedState,f===null)return Be(s),null;if(l=(s.flags&128)!==0,p=f.rendering,p===null)if(l)ka(f,!1);else{if(Fe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=Yl(i),p!==null){for(s.flags|=128,ka(f,!1),i=p.updateQueue,s.updateQueue=i,$l(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)uy(a,i),a=a.sibling;return Y(et,et.current&1|2),s.child}i=i.sibling}f.tail!==null&&_n()>eu&&(s.flags|=128,l=!0,ka(f,!1),s.lanes=4194304)}else{if(!l)if(i=Yl(p),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,$l(s,i),ka(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Te)return Be(s),null}else 2*_n()-f.renderingStartTime>eu&&a!==536870912&&(s.flags|=128,l=!0,ka(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(i=f.last,i!==null?i.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=_n(),s.sibling=null,i=et.current,Y(et,l?i&1|2:i&1),s):(Be(s),null);case 22:case 23:return Bn(s),Pf(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Be(s),s.subtreeFlags&6&&(s.flags|=8192)):Be(s),a=s.updateQueue,a!==null&&$l(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&K(hs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Un(Je),Be(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TR(i,s){switch(bf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Un(Je),ui(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ll(s),null;case 13:if(Bn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));va()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return K(et),null;case 4:return ui(),null;case 10:return Un(s.type),null;case 22:case 23:return Bn(s),Pf(),i!==null&&K(hs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Un(Je),null;case 25:return null;default:return null}}function Pv(i,s){switch(bf(s),s.tag){case 3:Un(Je),ui();break;case 26:case 27:case 5:ll(s);break;case 4:ui();break;case 13:Bn(s);break;case 19:K(et);break;case 10:Un(s.type);break;case 22:case 23:Bn(s),Pf(),i!==null&&K(hs);break;case 24:Un(Je)}}function La(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var p=a.create,v=a.inst;l=p(),v.destroy=l}a=a.next}while(a!==f)}}catch(E){Oe(s,s.return,E)}}function Ei(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=s;var T=a,M=E;try{M()}catch(P){Oe(f,T,P)}}}l=l.next}while(l!==p)}}catch(P){Oe(s,s.return,P)}}function Uv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Cy(s,a)}catch(l){Oe(i,i.return,l)}}}function Vv(i,s,a){a.props=ps(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Oe(i,s,l)}}function Pa(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Oe(i,s,f)}}function bn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Oe(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Oe(i,s,f)}else a.current=null}function Bv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Oe(i,i.return,f)}}function ch(i,s,a){try{var l=i.stateNode;qR(l,i.type,a,s),l[wt]=s}catch(f){Oe(i,i.return,f)}}function zv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xi(i.type)||i.tag===4}function fh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=uu));else if(l!==4&&(l===27&&xi(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(hh(i,s,a),i=i.sibling;i!==null;)hh(i,s,a),i=i.sibling}function Zl(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&xi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Zl(i,s,a),i=i.sibling;i!==null;)Zl(i,s,a),i=i.sibling}function Hv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ht(s,l,a),s[mt]=i,s[wt]=a}catch(p){Oe(i,i.return,p)}}var jn=!1,Ke=!1,dh=!1,jv=typeof WeakSet=="function"?WeakSet:Set,st=null;function CR(i,s){if(i=i.containerInfo,Uh=gu,i=Jg(i),ff(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var v=0,E=-1,T=-1,M=0,P=0,z=i,I=null;t:for(;;){for(var L;z!==a||f!==0&&z.nodeType!==3||(E=v+f),z!==p||l!==0&&z.nodeType!==3||(T=v+l),z.nodeType===3&&(v+=z.nodeValue.length),(L=z.firstChild)!==null;)I=z,z=L;for(;;){if(z===i)break t;if(I===a&&++M===f&&(E=v),I===p&&++P===l&&(T=v),(L=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=L}a=E===-1||T===-1?null:{start:E,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vh={focusedElem:i,selectionRange:a},gu=!1,st=s;st!==null;)if(s=st,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,st=i;else for(;st!==null;){switch(s=st,p=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var re=ps(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(re,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(ne){Oe(a,a.return,ne)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Hh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,st=i;break}st=s.return}}function Fv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(i,a),l&4&&La(5,a);break;case 1:if(Si(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Oe(a,a.return,v)}else{var f=ps(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Oe(a,a.return,v)}}l&64&&Uv(a),l&512&&Pa(a,a.return);break;case 3:if(Si(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Cy(i,s)}catch(v){Oe(a,a.return,v)}}break;case 27:s===null&&l&4&&Hv(a);case 26:case 5:Si(i,a),s===null&&l&4&&Bv(a),l&512&&Pa(a,a.return);break;case 12:Si(i,a);break;case 13:Si(i,a),l&4&&Yv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=IR.bind(null,a),$R(i,a))));break;case 22:if(l=a.memoizedState!==null||jn,!l){s=s!==null&&s.memoizedState!==null||Ke,f=jn;var p=Ke;jn=l,(Ke=s)&&!p?bi(i,a,(a.subtreeFlags&8772)!==0):Si(i,a),jn=f,Ke=p}break;case 30:break;default:Si(i,a)}}function qv(i){var s=i.alternate;s!==null&&(i.alternate=null,qv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Gc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ue=null,xt=!1;function Fn(i,s,a){for(a=a.child;a!==null;)Gv(i,s,a),a=a.sibling}function Gv(i,s,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 26:Ke||bn(a,s),Fn(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||bn(a,s);var l=Ue,f=xt;xi(a.type)&&(Ue=a.stateNode,xt=!1),Fn(i,s,a),Ga(a.stateNode),Ue=l,xt=f;break;case 5:Ke||bn(a,s);case 6:if(l=Ue,f=xt,Ue=null,Fn(i,s,a),Ue=l,xt=f,Ue!==null)if(xt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(p){Oe(a,s,p)}else try{Ue.removeChild(a.stateNode)}catch(p){Oe(a,s,p)}break;case 18:Ue!==null&&(xt?(i=Ue,I_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Ja(i)):I_(Ue,a.stateNode));break;case 4:l=Ue,f=xt,Ue=a.stateNode.containerInfo,xt=!0,Fn(i,s,a),Ue=l,xt=f;break;case 0:case 11:case 14:case 15:Ke||Ei(2,a,s),Ke||Ei(4,a,s),Fn(i,s,a);break;case 1:Ke||(bn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vv(a,s,l)),Fn(i,s,a);break;case 21:Fn(i,s,a);break;case 22:Ke=(l=Ke)||a.memoizedState!==null,Fn(i,s,a),Ke=l;break;default:Fn(i,s,a)}}function Yv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ja(i)}catch(a){Oe(s,s.return,a)}}function wR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new jv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new jv),s;default:throw Error(r(435,i.tag))}}function ph(i,s){var a=wR(i);s.forEach(function(l){var f=kR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function zt(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=i,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(xi(E.type)){Ue=E.stateNode,xt=!1;break e}break;case 5:Ue=E.stateNode,xt=!1;break e;case 3:case 4:Ue=E.stateNode.containerInfo,xt=!0;break e}E=E.return}if(Ue===null)throw Error(r(160));Gv(p,v,f),Ue=null,xt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Kv(s,i),s=s.sibling}var on=null;function Kv(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zt(s,i),Ht(i),l&4&&(Ei(3,i,i.return),La(3,i),Ei(5,i,i.return));break;case 1:zt(s,i),Ht(i),l&512&&(Ke||a===null||bn(a,a.return)),l&64&&jn&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=on;if(zt(s,i),Ht(i),l&512&&(Ke||a===null||bn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[aa]||p[mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),ht(p,l,a),p[mt]=i,nt(p),l=p;break e;case"link":var v=H_("link","href",f).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(p=v[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}p=f.createElement(l),ht(p,l,a),f.head.appendChild(p);break;case"meta":if(v=H_("meta","content",f).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(p=v[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}p=f.createElement(l),ht(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[mt]=i,nt(p),l=p}i.stateNode=l}else j_(f,i.type,i.stateNode);else i.stateNode=z_(f,l,i.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?j_(f,i.type,i.stateNode):z_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&ch(i,i.memoizedProps,a.memoizedProps)}break;case 27:zt(s,i),Ht(i),l&512&&(Ke||a===null||bn(a,a.return)),a!==null&&l&4&&ch(i,i.memoizedProps,a.memoizedProps);break;case 5:if(zt(s,i),Ht(i),l&512&&(Ke||a===null||bn(a,a.return)),i.flags&32){f=i.stateNode;try{qs(f,"")}catch(L){Oe(i,i.return,L)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,ch(i,f,a!==null?a.memoizedProps:f)),l&1024&&(dh=!0);break;case 6:if(zt(s,i),Ht(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(L){Oe(i,i.return,L)}}break;case 3:if(du=null,f=on,on=fu(s.containerInfo),zt(s,i),on=f,Ht(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(s.containerInfo)}catch(L){Oe(i,i.return,L)}dh&&(dh=!1,Wv(i));break;case 4:l=on,on=fu(i.stateNode.containerInfo),zt(s,i),Ht(i),on=l;break;case 12:zt(s,i),Ht(i);break;case 13:zt(s,i),Ht(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eh=_n()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,ph(i,l)));break;case 22:f=i.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,M=jn,P=Ke;if(jn=M||f,Ke=P||T,zt(s,i),Ke=P,jn=M,Ht(i),l&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||jn||Ke||ms(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(p=T.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=T.stateNode;var z=T.memoizedProps.style,I=z!=null&&z.hasOwnProperty("display")?z.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(L){Oe(T,T.return,L)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(L){Oe(T,T.return,L)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ph(i,a))));break;case 19:zt(s,i),Ht(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,ph(i,l)));break;case 30:break;case 21:break;default:zt(s,i),Ht(i)}}function Ht(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=fh(i);Zl(i,p,f);break;case 5:var v=a.stateNode;a.flags&32&&(qs(v,""),a.flags&=-33);var E=fh(i);Zl(i,E,v);break;case 3:case 4:var T=a.stateNode.containerInfo,M=fh(i);hh(i,M,T);break;default:throw Error(r(161))}}catch(P){Oe(i,i.return,P)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Wv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Wv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Si(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fv(i,s.alternate,s),s=s.sibling}function ms(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ei(4,s,s.return),ms(s);break;case 1:bn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Vv(s,s.return,a),ms(s);break;case 27:Ga(s.stateNode);case 26:case 5:bn(s,s.return),ms(s);break;case 22:s.memoizedState===null&&ms(s);break;case 30:ms(s);break;default:ms(s)}i=i.sibling}}function bi(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,p=s,v=p.flags;switch(p.tag){case 0:case 11:case 15:bi(f,p,a),La(4,p);break;case 1:if(bi(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){Oe(l,l.return,M)}if(l=p,f=l.updateQueue,f!==null){var E=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)Ty(T[f],E)}catch(M){Oe(l,l.return,M)}}a&&v&64&&Uv(p),Pa(p,p.return);break;case 27:Hv(p);case 26:case 5:bi(f,p,a),a&&l===null&&v&4&&Bv(p),Pa(p,p.return);break;case 12:bi(f,p,a);break;case 13:bi(f,p,a),a&&v&4&&Yv(f,p);break;case 22:p.memoizedState===null&&bi(f,p,a),Pa(p,p.return);break;case 30:break;default:bi(f,p,a)}s=s.sibling}}function mh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sa(a))}function gh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sa(i))}function Tn(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(i,s,a,l),s=s.sibling}function Xv(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Tn(i,s,a,l),f&2048&&La(9,s);break;case 1:Tn(i,s,a,l);break;case 3:Tn(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sa(i)));break;case 12:if(f&2048){Tn(i,s,a,l),i=s.stateNode;try{var p=s.memoizedProps,v=p.id,E=p.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){Oe(s,s.return,T)}}else Tn(i,s,a,l);break;case 13:Tn(i,s,a,l);break;case 23:break;case 22:p=s.stateNode,v=s.alternate,s.memoizedState!==null?p._visibility&2?Tn(i,s,a,l):Ua(i,s):p._visibility&2?Tn(i,s,a,l):(p._visibility|=2,ur(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&mh(v,s);break;case 24:Tn(i,s,a,l),f&2048&&gh(s.alternate,s);break;default:Tn(i,s,a,l)}}function ur(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=i,v=s,E=a,T=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:ur(p,v,E,T,f),La(8,v);break;case 23:break;case 22:var P=v.stateNode;v.memoizedState!==null?P._visibility&2?ur(p,v,E,T,f):Ua(p,v):(P._visibility|=2,ur(p,v,E,T,f)),f&&M&2048&&mh(v.alternate,v);break;case 24:ur(p,v,E,T,f),f&&M&2048&&gh(v.alternate,v);break;default:ur(p,v,E,T,f)}s=s.sibling}}function Ua(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ua(a,l),f&2048&&mh(l.alternate,l);break;case 24:Ua(a,l),f&2048&&gh(l.alternate,l);break;default:Ua(a,l)}s=s.sibling}}var Va=8192;function cr(i){if(i.subtreeFlags&Va)for(i=i.child;i!==null;)Qv(i),i=i.sibling}function Qv(i){switch(i.tag){case 26:cr(i),i.flags&Va&&i.memoizedState!==null&&c1(on,i.memoizedState,i.memoizedProps);break;case 5:cr(i);break;case 3:case 4:var s=on;on=fu(i.stateNode.containerInfo),cr(i),on=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Va,Va=16777216,cr(i),Va=s):cr(i));break;default:cr(i)}}function $v(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ba(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];st=l,Jv(l,i)}$v(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zv(i),i=i.sibling}function Zv(i){switch(i.tag){case 0:case 11:case 15:Ba(i),i.flags&2048&&Ei(9,i,i.return);break;case 3:Ba(i);break;case 12:Ba(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Jl(i)):Ba(i);break;default:Ba(i)}}function Jl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];st=l,Jv(l,i)}$v(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ei(8,s,s.return),Jl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jl(s));break;default:Jl(s)}i=i.sibling}}function Jv(i,s){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ei(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=i;st!==null;){l=st;var f=l.sibling,p=l.return;if(qv(l),l===a){st=null;break e}if(f!==null){f.return=p,st=f;break e}st=p}}}var AR={getCacheForType:function(i){var s=gt(Je),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},RR=typeof WeakMap=="function"?WeakMap:Map,we=0,Ie=null,me=null,ve=0,Ae=0,jt=null,Ti=!1,fr=!1,yh=!1,qn=0,Fe=0,Ci=0,gs=0,vh=0,Jt=0,hr=0,za=null,Dt=null,_h=!1,Eh=0,eu=1/0,tu=null,wi=null,ft=0,Ai=null,dr=null,pr=0,Sh=0,bh=null,e_=null,Ha=0,Th=null;function Ft(){if((we&2)!==0&&ve!==0)return ve&-ve;if(U.T!==null){var i=tr;return i!==0?i:Nh()}return gg()}function t_(){Jt===0&&(Jt=(ve&536870912)===0||Te?hg():536870912);var i=Zt.current;return i!==null&&(i.flags|=32),Jt}function qt(i,s,a){(i===Ie&&(Ae===2||Ae===9)||i.cancelPendingCommit!==null)&&(mr(i,0),Ri(i,ve,Jt,!1)),ra(i,a),((we&2)===0||i!==Ie)&&(i===Ie&&((we&2)===0&&(gs|=a),Fe===4&&Ri(i,ve,Jt,!1)),Cn(i))}function n_(i,s,a){if((we&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||sa(i,s),f=l?NR(i,s):Ah(i,s,!0),p=l;do{if(f===0){fr&&!l&&Ri(i,s,0,!1);break}else{if(a=i.current.alternate,p&&!xR(a)){f=Ah(i,s,!1),p=!1;continue}if(f===2){if(p=s,i.errorRecoveryDisabledLanes&p)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=i;f=za;var T=E.current.memoizedState.isDehydrated;if(T&&(mr(E,v).flags|=256),v=Ah(E,v,!1),v!==2){if(yh&&!T){E.errorRecoveryDisabledLanes|=p,gs|=p,f=4;break e}p=Dt,Dt=f,p!==null&&(Dt===null?Dt=p:Dt.push.apply(Dt,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){mr(i,0),Ri(i,s,0,!0);break}e:{switch(l=i,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ri(l,s,Jt,!Ti);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Eh+300-_n(),10<f)){if(Ri(l,s,Jt,!Ti),hl(l,0,!0)!==0)break e;l.timeoutHandle=O_(i_.bind(null,l,a,Dt,tu,_h,s,Jt,gs,hr,Ti,p,2,-0,0),f);break e}i_(l,a,Dt,tu,_h,s,Jt,gs,hr,Ti,p,0,-0,0)}}break}while(!0);Cn(i)}function i_(i,s,a,l,f,p,v,E,T,M,P,z,I,L){if(i.timeoutHandle=-1,z=s.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Wa={stylesheets:null,count:0,unsuspend:u1},Qv(s),z=f1(),z!==null)){i.cancelPendingCommit=z(c_.bind(null,i,s,p,a,l,f,v,E,T,P,1,I,L)),Ri(i,p,v,!M);return}c_(i,s,p,a,l,f,v,E,T)}function xR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Vt(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(i,s,a,l){s&=~vh,s&=~gs,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var p=31-Ut(f),v=1<<p;l[p]=-1,f&=~v}a!==0&&pg(i,a,s)}function nu(){return(we&6)===0?(ja(0),!1):!0}function Ch(){if(me!==null){if(Ae===0)var i=me.return;else i=me,Pn=cs=null,Hf(i),or=null,Ma=0,i=me;for(;i!==null;)Pv(i.alternate,i),i=i.return;me=null}}function mr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,YR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Ch(),Ie=i,me=a=In(i.current,null),ve=s,Ae=0,jt=null,Ti=!1,fr=sa(i,s),yh=!1,hr=Jt=vh=gs=Ci=Fe=0,Dt=za=null,_h=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-Ut(l),p=1<<f;s|=i[f],l&=~p}return qn=s,Cl(),a}function s_(i,s){fe=null,U.H=Fl,s===Ta||s===Il?(s=Sy(),Ae=3):s===vy?(s=Sy(),Ae=4):Ae=s===bv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jt=s,me===null&&(Fe=1,Wl(i,Wt(s,i.current)))}function r_(){var i=U.H;return U.H=Fl,i===null?Fl:i}function a_(){var i=U.A;return U.A=AR,i}function wh(){Fe=4,Ti||(ve&4194048)!==ve&&Zt.current!==null||(fr=!0),(Ci&134217727)===0&&(gs&134217727)===0||Ie===null||Ri(Ie,ve,Jt,!1)}function Ah(i,s,a){var l=we;we|=2;var f=r_(),p=a_();(Ie!==i||ve!==s)&&(tu=null,mr(i,s)),s=!1;var v=Fe;e:do try{if(Ae!==0&&me!==null){var E=me,T=jt;switch(Ae){case 8:Ch(),v=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(s=!0);var M=Ae;if(Ae=0,jt=null,gr(i,E,T,M),a&&fr){v=0;break e}break;default:M=Ae,Ae=0,jt=null,gr(i,E,T,M)}}DR(),v=Fe;break}catch(P){s_(i,P)}while(!0);return s&&i.shellSuspendCounter++,Pn=cs=null,we=l,U.H=f,U.A=p,me===null&&(Ie=null,ve=0,Cl()),v}function DR(){for(;me!==null;)o_(me)}function NR(i,s){var a=we;we|=2;var l=r_(),f=a_();Ie!==i||ve!==s?(tu=null,eu=_n()+500,mr(i,s)):fr=sa(i,s);e:do try{if(Ae!==0&&me!==null){s=me;var p=jt;t:switch(Ae){case 1:Ae=0,jt=null,gr(i,s,p,1);break;case 2:case 9:if(_y(p)){Ae=0,jt=null,l_(s);break}s=function(){Ae!==2&&Ae!==9||Ie!==i||(Ae=7),Cn(i)},p.then(s,s);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:_y(p)?(Ae=0,jt=null,l_(s)):(Ae=0,jt=null,gr(i,s,p,7));break;case 5:var v=null;switch(me.tag){case 26:v=me.memoizedState;case 5:case 27:var E=me;if(!v||F_(v)){Ae=0,jt=null;var T=E.sibling;if(T!==null)me=T;else{var M=E.return;M!==null?(me=M,iu(M)):me=null}break t}}Ae=0,jt=null,gr(i,s,p,5);break;case 6:Ae=0,jt=null,gr(i,s,p,6);break;case 8:Ch(),Fe=6;break e;default:throw Error(r(462))}}OR();break}catch(P){s_(i,P)}while(!0);return Pn=cs=null,U.H=l,U.A=f,we=a,me!==null?0:(Ie=null,ve=0,Cl(),Fe)}function OR(){for(;me!==null&&!Jw();)o_(me)}function o_(i){var s=kv(i.alternate,i,qn);i.memoizedProps=i.pendingProps,s===null?iu(i):me=s}function l_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=xv(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=xv(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:Hf(s);default:Pv(a,s),s=me=uy(s,qn),s=kv(a,s,qn)}i.memoizedProps=i.pendingProps,s===null?iu(i):me=s}function gr(i,s,a,l){Pn=cs=null,Hf(s),or=null,Ma=0;var f=s.return;try{if(ER(i,f,s,a,ve)){Fe=1,Wl(i,Wt(a,i.current)),me=null;return}}catch(p){if(f!==null)throw me=f,p;Fe=1,Wl(i,Wt(a,i.current)),me=null;return}s.flags&32768?(Te||l===1?i=!0:fr||(ve&536870912)!==0?i=!1:(Ti=i=!0,(l===2||l===9||l===3||l===6)&&(l=Zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(s,i)):iu(s)}function iu(i){var s=i;do{if((s.flags&32768)!==0){u_(s,Ti);return}i=s.return;var a=bR(s.alternate,s,qn);if(a!==null){me=a;return}if(s=s.sibling,s!==null){me=s;return}me=s=i}while(s!==null);Fe===0&&(Fe=5)}function u_(i,s){do{var a=TR(i.alternate,i);if(a!==null){a.flags&=32767,me=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){me=i;return}me=i=a}while(i!==null);Fe=6,me=null}function c_(i,s,a,l,f,p,v,E,T){i.cancelPendingCommit=null;do su();while(ft!==0);if((we&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=gf,uA(i,a,p,v,E,T),i===Ie&&(me=Ie=null,ve=0),dr=s,Ai=i,pr=a,Sh=p,bh=f,e_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,LR(ul,function(){return m_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,f=F.p,F.p=2,v=we,we|=4;try{CR(i,s,a)}finally{we=v,F.p=f,U.T=l}}ft=1,f_(),h_(),d_()}}function f_(){if(ft===1){ft=0;var i=Ai,s=dr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=F.p;F.p=2;var f=we;we|=4;try{Kv(s,i);var p=Vh,v=Jg(i.containerInfo),E=p.focusedElem,T=p.selectionRange;if(v!==E&&E&&E.ownerDocument&&Zg(E.ownerDocument.documentElement,E)){if(T!==null&&ff(E)){var M=T.start,P=T.end;if(P===void 0&&(P=M),"selectionStart"in E)E.selectionStart=M,E.selectionEnd=Math.min(P,E.value.length);else{var z=E.ownerDocument||document,I=z&&z.defaultView||window;if(I.getSelection){var L=I.getSelection(),re=E.textContent.length,ne=Math.min(T.start,re),De=T.end===void 0?ne:Math.min(T.end,re);!L.extend&&ne>De&&(v=De,De=ne,ne=v);var x=$g(E,ne),A=$g(E,De);if(x&&A&&(L.rangeCount!==1||L.anchorNode!==x.node||L.anchorOffset!==x.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var D=z.createRange();D.setStart(x.node,x.offset),L.removeAllRanges(),ne>De?(L.addRange(D),L.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),L.addRange(D))}}}}for(z=[],L=E;L=L.parentNode;)L.nodeType===1&&z.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<z.length;E++){var B=z[E];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}gu=!!Uh,Vh=Uh=null}finally{we=f,F.p=l,U.T=a}}i.current=s,ft=2}}function h_(){if(ft===2){ft=0;var i=Ai,s=dr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=F.p;F.p=2;var f=we;we|=4;try{Fv(i,s.alternate,s)}finally{we=f,F.p=l,U.T=a}}ft=3}}function d_(){if(ft===4||ft===3){ft=0,eA();var i=Ai,s=dr,a=pr,l=e_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ft=5:(ft=0,dr=Ai=null,p_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(wi=null),Fc(a),s=s.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ia,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=U.T,f=F.p,F.p=2,U.T=null;try{for(var p=i.onRecoverableError,v=0;v<l.length;v++){var E=l[v];p(E.value,{componentStack:E.stack})}}finally{U.T=s,F.p=f}}(pr&3)!==0&&su(),Cn(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===Th?Ha++:(Ha=0,Th=i):Ha=0,ja(0)}}function p_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Sa(s)))}function su(i){return f_(),h_(),d_(),m_()}function m_(){if(ft!==5)return!1;var i=Ai,s=Sh;Sh=0;var a=Fc(pr),l=U.T,f=F.p;try{F.p=32>a?32:a,U.T=null,a=bh,bh=null;var p=Ai,v=pr;if(ft=0,dr=Ai=null,pr=0,(we&6)!==0)throw Error(r(331));var E=we;if(we|=4,Zv(p.current),Xv(p,p.current,v,a),we=E,ja(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ia,p)}catch{}return!0}finally{F.p=f,U.T=l,p_(i,s)}}function g_(i,s,a){s=Wt(a,s),s=th(i.stateNode,s,2),i=gi(i,s,2),i!==null&&(ra(i,2),Cn(i))}function Oe(i,s,a){if(i.tag===3)g_(i,i,a);else for(;s!==null;){if(s.tag===3){g_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){i=Wt(a,i),a=Ev(2),l=gi(s,a,2),l!==null&&(Sv(a,l,s,i),ra(l,2),Cn(l));break}}s=s.return}}function Rh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new RR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(yh=!0,f.add(a),i=MR.bind(null,i,s,a),s.then(i,i))}function MR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ie===i&&(ve&a)===a&&(Fe===4||Fe===3&&(ve&62914560)===ve&&300>_n()-Eh?(we&2)===0&&mr(i,0):vh|=a,hr===ve&&(hr=0)),Cn(i)}function y_(i,s){s===0&&(s=dg()),i=$s(i,s),i!==null&&(ra(i,s),Cn(i))}function IR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),y_(i,a)}function kR(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),y_(i,a)}function LR(i,s){return Bc(i,s)}var ru=null,yr=null,xh=!1,au=!1,Dh=!1,ys=0;function Cn(i){i!==yr&&i.next===null&&(yr===null?ru=yr=i:yr=yr.next=i),au=!0,xh||(xh=!0,UR())}function ja(i,s){if(!Dh&&au){Dh=!0;do for(var a=!1,l=ru;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var v=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Ut(42|i)+1)-1,p&=f&~(v&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,S_(l,p))}else p=ve,p=hl(l,l===Ie?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||sa(l,p)||(a=!0,S_(l,p));l=l.next}while(a);Dh=!1}}function PR(){v_()}function v_(){au=xh=!1;var i=0;ys!==0&&(GR()&&(i=ys),ys=0);for(var s=_n(),a=null,l=ru;l!==null;){var f=l.next,p=__(l,s);p===0?(l.next=null,a===null?ru=f:a.next=f,f===null&&(yr=a)):(a=l,(i!==0||(p&3)!==0)&&(au=!0)),l=f}ja(i)}function __(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var v=31-Ut(p),E=1<<v,T=f[v];T===-1?((E&a)===0||(E&l)!==0)&&(f[v]=lA(E,s)):T<=s&&(i.expiredLanes|=E),p&=~E}if(s=Ie,a=ve,a=hl(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Ae===2||Ae===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&zc(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||sa(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&zc(l),Fc(a)){case 2:case 8:a=cg;break;case 32:a=ul;break;case 268435456:a=fg;break;default:a=ul}return l=E_.bind(null,i),a=Bc(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&zc(l),i.callbackPriority=2,i.callbackNode=null,2}function E_(i,s){if(ft!==0&&ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(su()&&i.callbackNode!==a)return null;var l=ve;return l=hl(i,i===Ie?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(n_(i,l,s),__(i,_n()),i.callbackNode!=null&&i.callbackNode===a?E_.bind(null,i):null)}function S_(i,s){if(su())return null;n_(i,s,!0)}function UR(){KR(function(){(we&6)!==0?Bc(ug,PR):v_()})}function Nh(){return ys===0&&(ys=hg()),ys}function b_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yl(""+i)}function T_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function VR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=b_((f[wt]||null).action),v=l.submitter;v&&(s=(s=v[wt]||null)?b_(s.formAction):v.getAttribute("formAction"),s!==null&&(p=s,v=null));var E=new Sl("action","action",null,l,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var T=v?T_(f,v):new FormData(f);Qf(a,{pending:!0,data:T,method:f.method,action:p},null,T)}}else typeof p=="function"&&(E.preventDefault(),T=v?T_(f,v):new FormData(f),Qf(a,{pending:!0,data:T,method:f.method,action:p},p,T))},currentTarget:f}]})}}for(var Oh=0;Oh<mf.length;Oh++){var Mh=mf[Oh],BR=Mh.toLowerCase(),zR=Mh[0].toUpperCase()+Mh.slice(1);an(BR,"on"+zR)}an(ny,"onAnimationEnd"),an(iy,"onAnimationIteration"),an(sy,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(iR,"onTransitionRun"),an(sR,"onTransitionStart"),an(rR,"onTransitionCancel"),an(ry,"onTransitionEnd"),Hs("onMouseEnter",["mouseout","mouseover"]),Hs("onMouseLeave",["mouseout","mouseover"]),Hs("onPointerEnter",["pointerout","pointerover"]),Hs("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fa));function C_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],T=E.instance,M=E.currentTarget;if(E=E.listener,T!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=M;try{p(f)}catch(P){Kl(P)}f.currentTarget=null,p=T}else for(v=0;v<l.length;v++){if(E=l[v],T=E.instance,M=E.currentTarget,E=E.listener,T!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=M;try{p(f)}catch(P){Kl(P)}f.currentTarget=null,p=T}}}}function ge(i,s){var a=s[qc];a===void 0&&(a=s[qc]=new Set);var l=i+"__bubble";a.has(l)||(w_(s,i,2,!1),a.add(l))}function Ih(i,s,a){var l=0;s&&(l|=4),w_(a,i,l,s)}var ou="_reactListening"+Math.random().toString(36).slice(2);function kh(i){if(!i[ou]){i[ou]=!0,vg.forEach(function(a){a!=="selectionchange"&&(HR.has(a)||Ih(a,!1,i),Ih(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ou]||(s[ou]=!0,Ih("selectionchange",!1,s))}}function w_(i,s,a,l){switch(X_(s)){case 2:var f=p1;break;case 8:f=m1;break;default:f=Wh}a=f.bind(null,s,a,i),f=void 0,!tf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Lh(i,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Vs(E),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=p=v;continue e}E=E.parentNode}}l=l.return}Mg(function(){var M=p,P=Jc(a),z=[];e:{var I=ay.get(i);if(I!==void 0){var L=Sl,re=i;switch(i){case"keypress":if(_l(a)===0)break e;case"keydown":case"keyup":L=LA;break;case"focusin":re="focus",L=af;break;case"focusout":re="blur",L=af;break;case"beforeblur":case"afterblur":L=af;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=TA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=VA;break;case ny:case iy:case sy:L=AA;break;case ry:L=zA;break;case"scroll":case"scrollend":L=SA;break;case"wheel":L=jA;break;case"copy":case"cut":case"paste":L=xA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Ug;break;case"toggle":case"beforetoggle":L=qA}var ne=(s&4)!==0,De=!ne&&(i==="scroll"||i==="scrollend"),x=ne?I!==null?I+"Capture":null:I;ne=[];for(var A=M,D;A!==null;){var B=A;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||x===null||(B=la(A,x),B!=null&&ne.push(qa(A,B,D))),De)break;A=A.return}0<ne.length&&(I=new L(I,re,null,a,P),z.push({event:I,listeners:ne}))}}if((s&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",L=i==="mouseout"||i==="pointerout",I&&a!==Zc&&(re=a.relatedTarget||a.fromElement)&&(Vs(re)||re[Us]))break e;if((L||I)&&(I=P.window===P?P:(I=P.ownerDocument)?I.defaultView||I.parentWindow:window,L?(re=a.relatedTarget||a.toElement,L=M,re=re?Vs(re):null,re!==null&&(De=u(re),ne=re.tag,re!==De||ne!==5&&ne!==27&&ne!==6)&&(re=null)):(L=null,re=M),L!==re)){if(ne=Lg,B="onMouseLeave",x="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(ne=Ug,B="onPointerLeave",x="onPointerEnter",A="pointer"),De=L==null?I:oa(L),D=re==null?I:oa(re),I=new ne(B,A+"leave",L,a,P),I.target=De,I.relatedTarget=D,B=null,Vs(P)===M&&(ne=new ne(x,A+"enter",re,a,P),ne.target=D,ne.relatedTarget=De,B=ne),De=B,L&&re)t:{for(ne=L,x=re,A=0,D=ne;D;D=vr(D))A++;for(D=0,B=x;B;B=vr(B))D++;for(;0<A-D;)ne=vr(ne),A--;for(;0<D-A;)x=vr(x),D--;for(;A--;){if(ne===x||x!==null&&ne===x.alternate)break t;ne=vr(ne),x=vr(x)}ne=null}else ne=null;L!==null&&A_(z,I,L,ne,!1),re!==null&&De!==null&&A_(z,De,re,ne,!0)}}e:{if(I=M?oa(M):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var $=Gg;else if(Fg(I))if(Yg)$=eR;else{$=ZA;var he=$A}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?M&&$c(M.elementType)&&($=Gg):$=JA;if($&&($=$(i,M))){qg(z,$,a,P);break e}he&&he(i,I,M),i==="focusout"&&M&&I.type==="number"&&M.memoizedProps.value!=null&&Qc(I,"number",I.value)}switch(he=M?oa(M):window,i){case"focusin":(Fg(he)||he.contentEditable==="true")&&(Ws=he,hf=M,ga=null);break;case"focusout":ga=hf=Ws=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,ey(z,a,P);break;case"selectionchange":if(nR)break;case"keydown":case"keyup":ey(z,a,P)}var J;if(lf)e:{switch(i){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Ks?Hg(i,a)&&(ie="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(Vg&&a.locale!=="ko"&&(Ks||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Ks&&(J=Ig()):(hi=P,nf="value"in hi?hi.value:hi.textContent,Ks=!0)),he=lu(M,ie),0<he.length&&(ie=new Pg(ie,i,null,a,P),z.push({event:ie,listeners:he}),J?ie.data=J:(J=jg(a),J!==null&&(ie.data=J)))),(J=YA?KA(i,a):WA(i,a))&&(ie=lu(M,"onBeforeInput"),0<ie.length&&(he=new Pg("onBeforeInput","beforeinput",null,a,P),z.push({event:he,listeners:ie}),he.data=J)),VR(z,i,M,a,P)}C_(z,s)})}function qa(i,s,a){return{instance:i,listener:s,currentTarget:a}}function lu(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=la(i,a),f!=null&&l.unshift(qa(i,f,p)),f=la(i,s),f!=null&&l.push(qa(i,f,p))),i.tag===3)return l;i=i.return}return[]}function vr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function A_(i,s,a,l,f){for(var p=s._reactName,v=[];a!==null&&a!==l;){var E=a,T=E.alternate,M=E.stateNode;if(E=E.tag,T!==null&&T===l)break;E!==5&&E!==26&&E!==27||M===null||(T=M,f?(M=la(a,p),M!=null&&v.unshift(qa(a,M,T))):f||(M=la(a,p),M!=null&&v.push(qa(a,M,T)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var jR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function R_(i){return(typeof i=="string"?i:""+i).replace(jR,`
`).replace(FR,"")}function x_(i,s){return s=R_(s),R_(i)===s}function uu(){}function xe(i,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qs(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qs(i,""+l);break;case"className":pl(i,"class",l);break;case"tabIndex":pl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(i,a,l);break;case"style":Ng(i,l,p);break;case"data":if(s!=="object"){pl(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=yl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&xe(i,s,"name",f.name,f,null),xe(i,s,"formEncType",f.formEncType,f,null),xe(i,s,"formMethod",f.formMethod,f,null),xe(i,s,"formTarget",f.formTarget,f,null)):(xe(i,s,"encType",f.encType,f,null),xe(i,s,"method",f.method,f,null),xe(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=yl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=uu);break;case"onScroll":l!=null&&ge("scroll",i);break;case"onScrollEnd":l!=null&&ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=yl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":ge("beforetoggle",i),ge("toggle",i),dl(i,"popover",l);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dl(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_A.get(a)||a,dl(i,a,l))}}function Ph(i,s,a,l,f,p){switch(a){case"style":Ng(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?qs(i,l):(typeof l=="number"||typeof l=="bigint")&&qs(i,""+l);break;case"onScroll":l!=null&&ge("scroll",i);break;case"onScrollEnd":l!=null&&ge("scrollend",i);break;case"onClick":l!=null&&(i.onclick=uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_g.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=i[wt]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):dl(i,a,l)}}}function ht(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",i),ge("load",i);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var v=a[p];if(v!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xe(i,s,p,v,a,null)}}f&&xe(i,s,"srcSet",a.srcSet,a,null),l&&xe(i,s,"src",a.src,a,null);return;case"input":ge("invalid",i);var E=p=v=f=null,T=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":f=P;break;case"type":v=P;break;case"checked":T=P;break;case"defaultChecked":M=P;break;case"value":p=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,s));break;default:xe(i,s,l,P,a,null)}}Ag(i,p,E,T,M,v,f,!1),ml(i);return;case"select":ge("invalid",i),l=v=p=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:xe(i,s,f,E,a,null)}s=p,a=v,i.multiple=!!l,s!=null?Fs(i,!!l,s,!1):a!=null&&Fs(i,!!l,a,!0);return;case"textarea":ge("invalid",i),p=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:xe(i,s,v,E,a,null)}xg(i,l,f,p),ml(i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xe(i,s,T,l,a,null)}return;case"dialog":ge("beforetoggle",i),ge("toggle",i),ge("cancel",i),ge("close",i);break;case"iframe":case"object":ge("load",i);break;case"video":case"audio":for(l=0;l<Fa.length;l++)ge(Fa[l],i);break;case"image":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"embed":case"source":case"link":ge("error",i),ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xe(i,s,M,l,a,null)}return;default:if($c(s)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&Ph(i,s,P,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&xe(i,s,E,l,a,null))}function qR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,E=null,T=null,M=null,P=null;for(L in a){var z=a[L];if(a.hasOwnProperty(L)&&z!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=z;default:l.hasOwnProperty(L)||xe(i,s,L,null,l,z)}}for(var I in l){var L=l[I];if(z=a[I],l.hasOwnProperty(I)&&(L!=null||z!=null))switch(I){case"type":p=L;break;case"name":f=L;break;case"checked":M=L;break;case"defaultChecked":P=L;break;case"value":v=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:L!==z&&xe(i,s,I,L,l,z)}}Xc(i,v,E,T,M,P,p,f);return;case"select":L=v=E=I=null;for(p in a)if(T=a[p],a.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":L=T;default:l.hasOwnProperty(p)||xe(i,s,p,null,l,T)}for(f in l)if(p=l[f],T=a[f],l.hasOwnProperty(f)&&(p!=null||T!=null))switch(f){case"value":I=p;break;case"defaultValue":E=p;break;case"multiple":v=p;default:p!==T&&xe(i,s,f,p,l,T)}s=E,a=v,l=L,I!=null?Fs(i,!!a,I,!1):!!l!=!!a&&(s!=null?Fs(i,!!a,s,!0):Fs(i,!!a,a?[]:"",!1));return;case"textarea":L=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:xe(i,s,E,null,l,f)}for(v in l)if(f=l[v],p=a[v],l.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":I=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&xe(i,s,v,f,l,p)}Rg(i,I,L);return;case"option":for(var re in a)if(I=a[re],a.hasOwnProperty(re)&&I!=null&&!l.hasOwnProperty(re))switch(re){case"selected":i.selected=!1;break;default:xe(i,s,re,null,l,I)}for(T in l)if(I=l[T],L=a[T],l.hasOwnProperty(T)&&I!==L&&(I!=null||L!=null))switch(T){case"selected":i.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:xe(i,s,T,I,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)I=a[ne],a.hasOwnProperty(ne)&&I!=null&&!l.hasOwnProperty(ne)&&xe(i,s,ne,null,l,I);for(M in l)if(I=l[M],L=a[M],l.hasOwnProperty(M)&&I!==L&&(I!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:xe(i,s,M,I,l,L)}return;default:if($c(s)){for(var De in a)I=a[De],a.hasOwnProperty(De)&&I!==void 0&&!l.hasOwnProperty(De)&&Ph(i,s,De,void 0,l,I);for(P in l)I=l[P],L=a[P],!l.hasOwnProperty(P)||I===L||I===void 0&&L===void 0||Ph(i,s,P,I,l,L);return}}for(var x in a)I=a[x],a.hasOwnProperty(x)&&I!=null&&!l.hasOwnProperty(x)&&xe(i,s,x,null,l,I);for(z in l)I=l[z],L=a[z],!l.hasOwnProperty(z)||I===L||I==null&&L==null||xe(i,s,z,I,l,L)}var Uh=null,Vh=null;function cu(i){return i.nodeType===9?i:i.ownerDocument}function D_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Bh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zh=null;function GR(){var i=window.event;return i&&i.type==="popstate"?i===zh?!1:(zh=i,!0):(zh=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,YR=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(i){return M_.resolve(null).then(i).catch(WR)}:O_;function WR(i){setTimeout(function(){throw i})}function xi(i){return i==="head"}function I_(i,s){var a=s,l=0,f=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var v=i.ownerDocument;if(a&1&&Ga(v.documentElement),a&2&&Ga(v.body),a&4)for(a=v.head,Ga(a),v=a.firstChild;v;){var E=v.nextSibling,T=v.nodeName;v[aa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){i.removeChild(p),Ja(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Ja(s)}function Hh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hh(a),Gc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function XR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[aa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ln(i.nextSibling),i===null)break}return null}function QR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ln(i.nextSibling),i===null))return null;return i}function jh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function $R(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ln(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Fh=null;function k_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function L_(i,s,a){switch(s=cu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ga(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Gc(i)}var en=new Map,P_=new Set;function fu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gn=F.d;F.d={f:ZR,r:JR,D:e1,C:t1,L:n1,m:i1,X:r1,S:s1,M:a1};function ZR(){var i=Gn.f(),s=nu();return i||s}function JR(i){var s=Bs(i);s!==null&&s.tag===5&&s.type==="form"?nv(s):Gn.r(i)}var _r=typeof document>"u"?null:document;function U_(i,s,a){var l=_r;if(l&&typeof s=="string"&&s){var f=Kt(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),P_.has(f)||(P_.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),ht(s,"link",i),nt(s),l.head.appendChild(s)))}}function e1(i){Gn.D(i),U_("dns-prefetch",i,null)}function t1(i,s){Gn.C(i,s),U_("preconnect",i,s)}function n1(i,s,a){Gn.L(i,s,a);var l=_r;if(l&&i&&s){var f='link[rel="preload"][as="'+Kt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Kt(a.imageSizes)+'"]')):f+='[href="'+Kt(i)+'"]';var p=f;switch(s){case"style":p=Er(i);break;case"script":p=Sr(i)}en.has(p)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),en.set(p,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ya(p))||s==="script"&&l.querySelector(Ka(p))||(s=l.createElement("link"),ht(s,"link",i),nt(s),l.head.appendChild(s)))}}function i1(i,s){Gn.m(i,s);var a=_r;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Sr(i)}if(!en.has(p)&&(i=g({rel:"modulepreload",href:i},s),en.set(p,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ka(p)))return}l=a.createElement("link"),ht(l,"link",i),nt(l),a.head.appendChild(l)}}}function s1(i,s,a){Gn.S(i,s,a);var l=_r;if(l&&i){var f=zs(l).hoistableStyles,p=Er(i);s=s||"default";var v=f.get(p);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ya(p)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=en.get(p))&&qh(i,a);var T=v=l.createElement("link");nt(T),ht(T,"link",i),T._p=new Promise(function(M,P){T.onload=M,T.onerror=P}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(p,v)}}}function r1(i,s){Gn.X(i,s);var a=_r;if(a&&i){var l=zs(a).hoistableScripts,f=Sr(i),p=l.get(f);p||(p=a.querySelector(Ka(f)),p||(i=g({src:i,async:!0},s),(s=en.get(f))&&Gh(i,s),p=a.createElement("script"),nt(p),ht(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function a1(i,s){Gn.M(i,s);var a=_r;if(a&&i){var l=zs(a).hoistableScripts,f=Sr(i),p=l.get(f);p||(p=a.querySelector(Ka(f)),p||(i=g({src:i,async:!0,type:"module"},s),(s=en.get(f))&&Gh(i,s),p=a.createElement("script"),nt(p),ht(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function V_(i,s,a,l){var f=(f=ue.current)?fu(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Er(a.href),a=zs(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Er(a.href);var p=zs(f).hoistableStyles,v=p.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,v),(p=f.querySelector(Ya(i)))&&!p._p&&(v.instance=p,v.state.loading=5),en.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},en.set(i,a),p||o1(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Sr(a),a=zs(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Er(i){return'href="'+Kt(i)+'"'}function Ya(i){return'link[rel="stylesheet"]['+i+"]"}function B_(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function o1(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ht(s,"link",a),nt(s),i.head.appendChild(s))}function Sr(i){return'[src="'+Kt(i)+'"]'}function Ka(i){return"script[async]"+i}function z_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(l)return s.instance=l,nt(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),nt(l),ht(l,"style",f),hu(l,a.precedence,i),s.instance=l;case"stylesheet":f=Er(a.href);var p=i.querySelector(Ya(f));if(p)return s.state.loading|=4,s.instance=p,nt(p),p;l=B_(a),(f=en.get(f))&&qh(l,f),p=(i.ownerDocument||i).createElement("link"),nt(p);var v=p;return v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),ht(p,"link",l),s.state.loading|=4,hu(p,a.precedence,i),s.instance=p;case"script":return p=Sr(a.src),(f=i.querySelector(Ka(p)))?(s.instance=f,nt(f),f):(l=a,(f=en.get(p))&&(l=g({},a),Gh(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),nt(f),ht(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hu(l,a.precedence,i));return s.instance}function hu(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function qh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var du=null;function H_(i,s,a){if(du===null){var l=new Map,f=du=new Map;f.set(a,l)}else f=du,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var p=a[f];if(!(p[aa]||p[mt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(s)||"";v=i+v;var E=l.get(v);E?E.push(p):l.set(v,[p])}}return l}function j_(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function l1(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function F_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wa=null;function u1(){}function c1(i,s,a){if(Wa===null)throw Error(r(475));var l=Wa;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Er(a.href),p=i.querySelector(Ya(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=pu.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=p,nt(p);return}p=i.ownerDocument||i,a=B_(a),(f=en.get(f))&&qh(a,f),p=p.createElement("link"),nt(p);var v=p;v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),ht(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=pu.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function f1(){if(Wa===null)throw Error(r(475));var i=Wa;return i.stylesheets&&i.count===0&&Yh(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&Yh(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mu=null;function Yh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mu=new Map,s.forEach(h1,i),mu=null,pu.call(i))}function h1(i,s){if(!(s.state.loading&4)){var a=mu.get(i);if(a)var l=a.get(null);else{a=new Map,mu.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),p=a.get(v)||l,p===l&&a.set(null,f),a.set(v,f),this.count++,l=pu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Xa={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function d1(i,s,a,l,f,p,v,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.hiddenUpdates=Hc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function q_(i,s,a,l,f,p,v,E,T,M,P,z){return i=new d1(i,s,a,v,E,T,M,z),s=1,p===!0&&(s|=24),p=Bt(3,null,null,s),i.current=p,p.stateNode=i,s=Rf(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},Of(p),i}function G_(i){return i?(i=Zs,i):Zs}function Y_(i,s,a,l,f,p){f=G_(f),l.context===null?l.context=f:l.pendingContext=f,l=mi(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=gi(i,l,s),a!==null&&(qt(a,i,s),wa(a,i,s))}function K_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Kh(i,s){K_(i,s),(i=i.alternate)&&K_(i,s)}function W_(i){if(i.tag===13){var s=$s(i,67108864);s!==null&&qt(s,i,67108864),Kh(i,67108864)}}var gu=!0;function p1(i,s,a,l){var f=U.T;U.T=null;var p=F.p;try{F.p=2,Wh(i,s,a,l)}finally{F.p=p,U.T=f}}function m1(i,s,a,l){var f=U.T;U.T=null;var p=F.p;try{F.p=8,Wh(i,s,a,l)}finally{F.p=p,U.T=f}}function Wh(i,s,a,l){if(gu){var f=Xh(l);if(f===null)Lh(i,s,l,yu,a),Q_(i,l);else if(y1(f,i,s,a,l))l.stopPropagation();else if(Q_(i,l),s&4&&-1<g1.indexOf(i)){for(;f!==null;){var p=Bs(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=es(p.pendingLanes);if(v!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var T=1<<31-Ut(v);E.entanglements[1]|=T,v&=~T}Cn(p),(we&6)===0&&(eu=_n()+500,ja(0))}}break;case 13:E=$s(p,2),E!==null&&qt(E,p,2),nu(),Kh(p,2)}if(p=Xh(l),p===null&&Lh(i,s,l,yu,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Lh(i,s,l,null,a)}}function Xh(i){return i=Jc(i),Qh(i)}var yu=null;function Qh(i){if(yu=null,i=Vs(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yu=i,null}function X_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tA()){case ug:return 2;case cg:return 8;case ul:case nA:return 32;case fg:return 268435456;default:return 32}default:return 32}}var $h=!1,Di=null,Ni=null,Oi=null,Qa=new Map,$a=new Map,Mi=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(i,s){switch(i){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Qa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(s.pointerId)}}function Za(i,s,a,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Bs(s),s!==null&&W_(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function y1(i,s,a,l,f){switch(s){case"focusin":return Di=Za(Di,i,s,a,l,f),!0;case"dragenter":return Ni=Za(Ni,i,s,a,l,f),!0;case"mouseover":return Oi=Za(Oi,i,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Qa.set(p,Za(Qa.get(p)||null,i,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,$a.set(p,Za($a.get(p)||null,i,s,a,l,f)),!0}return!1}function $_(i){var s=Vs(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,cA(i.priority,function(){if(a.tag===13){var l=Ft();l=jc(l);var f=$s(a,l);f!==null&&qt(f,a,l),Kh(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Xh(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Zc=l,a.target.dispatchEvent(l),Zc=null}else return s=Bs(a),s!==null&&W_(s),i.blockedOn=a,!1;s.shift()}return!0}function Z_(i,s,a){vu(i)&&a.delete(s)}function v1(){$h=!1,Di!==null&&vu(Di)&&(Di=null),Ni!==null&&vu(Ni)&&(Ni=null),Oi!==null&&vu(Oi)&&(Oi=null),Qa.forEach(Z_),$a.forEach(Z_)}function _u(i,s){i.blockedOn===s&&(i.blockedOn=null,$h||($h=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v1)))}var Eu=null;function J_(i){Eu!==i&&(Eu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eu===i&&(Eu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Qh(l||a)===null)continue;break}var p=Bs(a);p!==null&&(i.splice(s,3),s-=3,Qf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ja(i){function s(T){return _u(T,i)}Di!==null&&_u(Di,i),Ni!==null&&_u(Ni,i),Oi!==null&&_u(Oi,i),Qa.forEach(s),$a.forEach(s);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&Mi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],v=f[wt]||null;if(typeof p=="function")v||J_(a);else if(v){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[wt]||null)E=v.formAction;else if(Qh(f)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),J_(a)}}}function Zh(i){this._internalRoot=i}Su.prototype.render=Zh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Ft();Y_(a,l,i,s,null,null)},Su.prototype.unmount=Zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Y_(i.current,2,null,i,null,null),nu(),s[Us]=null}};function Su(i){this._internalRoot=i}Su.prototype.unstable_scheduleHydration=function(i){if(i){var s=gg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Mi.length&&s!==0&&s<Mi[a].priority;a++);Mi.splice(a,0,i),a===0&&$_(i)}};var e0=e.version;if(e0!=="19.1.0")throw Error(r(527,e0,"19.1.0"));F.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var _1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ia=bu.inject(_1),Pt=bu}catch{}}return eo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=gv,p=yv,v=vv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=q_(i,1,!1,null,null,a,l,f,p,v,E,null),i[Us]=s.current,kh(i),new Zh(s)},eo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",p=gv,v=yv,E=vv,T=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),s=q_(i,1,!0,s,a??null,l,f,p,v,E,T,M),s.context=G_(null),a=s.current,l=Ft(),l=jc(l),f=mi(l),f.callback=null,gi(a,f,l),a=l,s.current.lanes=a,ra(s,a),Cn(s),i[Us]=s.current,kh(i),new Su(s)},eo.version="19.1.0",eo}var l0;function R1(){if(l0)return ed.exports;l0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ed.exports=A1(),ed.exports}var x1=R1();const D1=qS(x1);var to={},u0;function N1(){if(u0)return to;u0=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=c,to.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,S){const b=new u,N=_.length;if(N<2)return b;const O=(S==null?void 0:S.decode)||g;let R=0;do{const V=_.indexOf("=",R);if(V===-1)break;const k=_.indexOf(";",R),G=k===-1?N:k;if(V>G){R=_.lastIndexOf(";",V-1)+1;continue}const H=h(_,R,V),W=d(_,V,H),ee=_.slice(H,W);if(b[ee]===void 0){let Q=h(_,V+1,G),le=d(_,G,Q);const _e=O(_.slice(Q,le));b[ee]=_e}R=G+1}while(R<N);return b}function h(_,S,b){do{const N=_.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<b);return b}function d(_,S,b){for(;S>b;){const N=_.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return b}function m(_,S,b){const N=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const O=N(S);if(!e.test(O))throw new TypeError(`argument val is invalid: ${S}`);let R=_+"="+O;if(!b)return R;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);R+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);R+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);R+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);R+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(R+="; HttpOnly"),b.secure&&(R+="; Secure"),b.partitioned&&(R+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return R}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return to}N1();var c0="popstate";function O1(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return kd("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ao(o)}return I1(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M1(){return Math.random().toString(36).substring(2,10)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function kd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fr(e):e,state:n,key:e&&e.key||r||M1()}}function Ao({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function I1(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let O=g(),R=O==null?null:O-m;m=O,d&&d({action:h,location:N.location,delta:R})}function _(O,R){h="PUSH";let V=kd(N.location,O,R);m=g()+1;let k=f0(V,m),G=N.createHref(V);try{c.pushState(k,"",G)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(G)}u&&d&&d({action:h,location:N.location,delta:1})}function S(O,R){h="REPLACE";let V=kd(N.location,O,R);m=g();let k=f0(V,m),G=N.createHref(V);c.replaceState(k,"",G),u&&d&&d({action:h,location:N.location,delta:0})}function b(O){let R=o.location.origin!=="null"?o.location.origin:o.location.href,V=typeof O=="string"?O:Ao(O);return V=V.replace(/ $/,"%20"),Ve(R,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,R)}let N={get action(){return h},get location(){return t(o,c)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(c0,y),d=O,()=>{o.removeEventListener(c0,y),d=null}},createHref(O){return e(o,O)},createURL:b,encodeLocation(O){let R=b(O);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:S,go(O){return c.go(O)}};return N}function GS(t,e,n="/"){return k1(t,e,n,!1)}function k1(t,e,n,r){let o=typeof e=="string"?Fr(e):e,u=ei(o.pathname||"/",n);if(u==null)return null;let c=YS(t);L1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Y1(u);h=q1(c[d],m,r)}return h}function YS(t,e=[],n=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(Ve(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Qn([r,d.relativePath]),g=n.concat(d);u.children&&u.children.length>0&&(Ve(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),YS(u.children,e,g,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:j1(m,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of KS(u.path))o(u,c,d)}),e}function KS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=KS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function L1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var P1=/^:[\w-]+$/,U1=3,V1=2,B1=1,z1=10,H1=-2,h0=t=>t==="*";function j1(t,e){let n=t.split("/"),r=n.length;return n.some(h0)&&(r+=H1),e&&(r+=V1),n.filter(o=>!h0(o)).reduce((o,u)=>o+(P1.test(u)?U1:u===""?B1:z1),r)}function F1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function q1(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=Hu({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=Hu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Qn([u,y.pathname]),pathnameBase:Q1(Qn([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=Qn([u,y.pathnameBase]))}return c}function Hu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},_)=>{if(g==="*"){let b=h[_]||"";c=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const S=h[_];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:t}}function G1(t,e=!1,n=!0){gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Y1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K1(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Fr(t):t;return{pathname:n?n.startsWith("/")?n:W1(n,e):e,search:$1(r),hash:Z1(o)}}function W1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wp(t){let e=X1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ap(t,e,n,r=!1){let o;typeof t=="string"?o=Fr(t):(o={...t},Ve(!o.pathname||!o.pathname.includes("?"),sd("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),sd("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),sd("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=K1(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),Q1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var WS=["POST","PUT","PATCH","DELETE"];new Set(WS);var ex=["GET",...WS];new Set(ex);var qr=w.createContext(null);qr.displayName="DataRouter";var yc=w.createContext(null);yc.displayName="DataRouterState";var XS=w.createContext({isTransitioning:!1});XS.displayName="ViewTransition";var tx=w.createContext(new Map);tx.displayName="Fetchers";var nx=w.createContext(null);nx.displayName="Await";var yn=w.createContext(null);yn.displayName="Navigation";var Yo=w.createContext(null);Yo.displayName="Location";var Dn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Rp=w.createContext(null);Rp.displayName="RouteError";function ix(t,{relative:e}={}){Ve(Gr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(yn),{hash:o,pathname:u,search:c}=Ko(t,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:Qn([n,u])),r.createHref({pathname:h,search:c,hash:o})}function Gr(){return w.useContext(Yo)!=null}function Wi(){return Ve(Gr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Yo).location}var QS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $S(t){w.useContext(yn).static||w.useLayoutEffect(t)}function Yr(){let{isDataRoute:t}=w.useContext(Dn);return t?gx():sx()}function sx(){Ve(Gr(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(qr),{basename:e,navigator:n}=w.useContext(yn),{matches:r}=w.useContext(Dn),{pathname:o}=Wi(),u=JSON.stringify(wp(r)),c=w.useRef(!1);return $S(()=>{c.current=!0}),w.useCallback((d,m={})=>{if(gn(c.current,QS),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Ap(d,JSON.parse(u),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qn([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,o,t])}w.createContext(null);function Ko(t,{relative:e}={}){let{matches:n}=w.useContext(Dn),{pathname:r}=Wi(),o=JSON.stringify(wp(n));return w.useMemo(()=>Ap(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function rx(t,e){return ZS(t,e)}function ZS(t,e,n,r){var V;Ve(Gr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=w.useContext(yn),{matches:c}=w.useContext(Dn),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";JS(m,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=Wi(),S;if(e){let k=typeof e=="string"?Fr(e):e;Ve(g==="/"||((V=k.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=_;let b=S.pathname||"/",N=b;if(g!=="/"){let k=g.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=!u&&n&&n.matches&&n.matches.length>0?n.matches:GS(t,{pathname:N});gn(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=cx(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Qn([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Qn([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,n,r);return e&&R?w.createElement(Yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function ax(){let t=mx(),e=J1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:o},n):null,c)}var ox=w.createElement(ax,null),lx=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Dn.Provider,{value:this.props.routeContext},w.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ux({routeContext:t,match:e,children:n}){let r=w.useContext(qr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Dn.Provider,{value:t},n)}function cx(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let d=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Ve(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let y,_=!1,S=null,b=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||ox,c&&(h<0&&g===0?(JS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):h===g&&(_=!0,b=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),O=()=>{let R;return y?R=S:_?R=b:m.route.Component?R=w.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,w.createElement(ux,{match:m,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(lx,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):O()},null)}function xp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fx(t){let e=w.useContext(qr);return Ve(e,xp(t)),e}function hx(t){let e=w.useContext(yc);return Ve(e,xp(t)),e}function dx(t){let e=w.useContext(Dn);return Ve(e,xp(t)),e}function Dp(t){let e=dx(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function px(){return Dp("useRouteId")}function mx(){var r;let t=w.useContext(Rp),e=hx("useRouteError"),n=Dp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gx(){let{router:t}=fx("useNavigate"),e=Dp("useNavigate"),n=w.useRef(!1);return $S(()=>{n.current=!0}),w.useCallback(async(o,u={})=>{gn(n.current,QS),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var d0={};function JS(t,e,n){!e&&!d0[t]&&(d0[t]=!0,gn(!1,n))}w.memo(yx);function yx({routes:t,future:e,state:n}){return ZS(t,void 0,n,e)}function rd({to:t,replace:e,state:n,relative:r}){Ve(Gr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(yn);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(Dn),{pathname:c}=Wi(),h=Yr(),d=Ap(t,wp(u),c,r==="path"),m=JSON.stringify(d);return w.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function uo(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Ve(!Gr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=Fr(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:_="default"}=n,S=w.useMemo(()=>{let b=ei(d,c);return b==null?null:{location:{pathname:b,search:m,hash:g,state:y,key:_},navigationType:r}},[c,d,m,g,y,_,r]);return gn(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(yn.Provider,{value:h},w.createElement(Yo.Provider,{children:e,value:S}))}function _x({children:t,location:e}){return rx(Ld(t),e)}function Ld(t,e=[]){let n=[];return w.Children.forEach(t,(r,o)=>{if(!w.isValidElement(r))return;let u=[...e,o];if(r.type===w.Fragment){n.push.apply(n,Ld(r.props.children,u));return}Ve(r.type===uo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ld(r.props.children,u)),n.push(c)}),n}var Ou="get",Mu="application/x-www-form-urlencoded";function vc(t){return t!=null&&typeof t.tagName=="string"}function Ex(t){return vc(t)&&t.tagName.toLowerCase()==="button"}function Sx(t){return vc(t)&&t.tagName.toLowerCase()==="form"}function bx(t){return vc(t)&&t.tagName.toLowerCase()==="input"}function Tx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cx(t,e){return t.button===0&&(!e||e==="_self")&&!Tx(t)}var Tu=null;function wx(){if(Tu===null)try{new FormData(document.createElement("form"),0),Tu=!1}catch{Tu=!0}return Tu}var Ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(t){return t!=null&&!Ax.has(t)?(gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):t}function Rx(t,e){let n,r,o,u,c;if(Sx(t)){let h=t.getAttribute("action");r=h?ei(h,e):null,n=t.getAttribute("method")||Ou,o=ad(t.getAttribute("enctype"))||Mu,u=new FormData(t)}else if(Ex(t)||bx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?ei(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Ou,o=ad(t.getAttribute("formenctype"))||ad(h.getAttribute("enctype"))||Mu,u=new FormData(h,t),!wx()){let{name:m,type:g,value:y}=t;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,y)}}else{if(vc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ou,r=null,o=Mu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function Np(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Nx(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await xx(u,n);return c.links?c.links():[]}return[]}));return kx(r.flat(1).filter(Dx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p0(t,e,n,r,o,u){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):u==="data"?e.filter((d,m)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ox(t,e,{includeHydrateFallback:n}={}){return Mx(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Mx(t){return[...new Set(t)]}function Ix(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kx(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(Ix(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var Lx=new Set([100,101,204,205]);function Px(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ei(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eb(){let t=w.useContext(qr);return Np(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ux(){let t=w.useContext(yc);return Np(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Op=w.createContext(void 0);Op.displayName="FrameworkContext";function tb(){let t=w.useContext(Op);return Np(t,"You must render this element inside a <HydratedRouter> element"),t}function Vx(t,e){let n=w.useContext(Op),[r,o]=w.useState(!1),[u,c]=w.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,_=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=R=>{R.forEach(V=>{c(V.isIntersecting)})},O=new IntersectionObserver(N,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[t]),w.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{o(!0)},b=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,_,{}]:[u,_,{onFocus:no(h,S),onBlur:no(d,b),onMouseEnter:no(m,S),onMouseLeave:no(g,b),onTouchStart:no(y,S)}]:[!1,_,{}]}function no(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bx({page:t,...e}){let{router:n}=eb(),r=w.useMemo(()=>GS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(Hx,{page:t,matches:r,...e}):null}function zx(t){let{manifest:e,routeModules:n}=tb(),[r,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return Nx(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function Hx({page:t,matches:e,...n}){let r=Wi(),{manifest:o,routeModules:u}=tb(),{basename:c}=eb(),{loaderData:h,matches:d}=Ux(),m=w.useMemo(()=>p0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=w.useMemo(()=>p0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,N=!1;if(e.forEach(R=>{var k;let V=o.routes[R.route.id];!V||!V.hasLoader||(!m.some(G=>G.route.id===R.route.id)&&R.route.id in h&&((k=u[R.route.id])!=null&&k.shouldRevalidate)||V.hasClientLoader?N=!0:b.add(R.route.id))}),b.size===0)return[];let O=Px(t,c);return N&&b.size>0&&O.searchParams.set("_routes",e.filter(R=>b.has(R.route.id)).map(R=>R.route.id).join(",")),[O.pathname+O.search]},[c,h,r,o,m,e,t,u]),_=w.useMemo(()=>Ox(g,o),[g,o]),S=zx(g);return w.createElement(w.Fragment,null,y.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),_.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),S.map(({key:b,link:N})=>w.createElement("link",{key:b,...N})))}function jx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nb&&(window.__reactRouterVersion="7.5.2")}catch{}function Fx({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=O1({window:n,v5Compat:!0}));let o=r.current,[u,c]=w.useState({action:o.action,location:o.location}),h=w.useCallback(d=>{w.startTransition(()=>c(d))},[c]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(vx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sb=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,..._},S){let{basename:b}=w.useContext(yn),N=typeof m=="string"&&ib.test(m),O,R=!1;if(typeof m=="string"&&N&&(O=m,nb))try{let le=new URL(window.location.href),_e=m.startsWith("//")?new URL(le.protocol+m):new URL(m),$e=ei(_e.pathname,b);_e.origin===le.origin&&$e!=null?m=$e+_e.search+_e.hash:R=!0}catch{gn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=ix(m,{relative:o}),[k,G,H]=Vx(r,_),W=Kx(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function ee(le){e&&e(le),le.defaultPrevented||W(le)}let Q=w.createElement("a",{..._,...H,href:O||V,onClick:R||u?e:ee,ref:jx(S,G),target:d,"data-discover":!N&&n==="render"?"true":void 0});return k&&!N?w.createElement(w.Fragment,null,Q,w.createElement(Bx,{page:V})):Q});sb.displayName="Link";var qx=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...m},g){let y=Ko(c,{relative:m.relative}),_=Wi(),S=w.useContext(yc),{navigator:b,basename:N}=w.useContext(yn),O=S!=null&&Zx(y)&&h===!0,R=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,V=_.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(V=V.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase()),k&&N&&(k=ei(k,N)||k);const G=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let H=V===R||!o&&V.startsWith(R)&&V.charAt(G)==="/",W=k!=null&&(k===R||!o&&k.startsWith(R)&&k.charAt(R.length)==="/"),ee={isActive:H,isPending:W,isTransitioning:O},Q=H?e:void 0,le;typeof r=="function"?le=r(ee):le=[r,H?"active":null,W?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let _e=typeof u=="function"?u(ee):u;return w.createElement(sb,{...m,"aria-current":Q,className:le,ref:g,style:_e,to:c,viewTransition:h},typeof d=="function"?d(ee):d)});qx.displayName="NavLink";var Gx=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=Ou,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,..._},S)=>{let b=Qx(),N=$x(h,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&ib.test(h),V=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let G=k.nativeEvent.submitter,H=(G==null?void 0:G.getAttribute("formmethod"))||c;b(G||k.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:o,state:u,relative:m,preventScrollReset:g,viewTransition:y})};return w.createElement("form",{ref:S,method:O,action:N,onSubmit:r?d:V,..._,"data-discover":!R&&t==="render"?"true":void 0})});Gx.displayName="Form";function Yx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(t){let e=w.useContext(qr);return Ve(e,Yx(t)),e}function Kx(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=Yr(),d=Wi(),m=Ko(t,{relative:u});return w.useCallback(g=>{if(Cx(g,e)){g.preventDefault();let y=n!==void 0?n:Ao(d)===Ao(m);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,m,n,r,e,t,o,u,c])}var Wx=0,Xx=()=>`__${String(++Wx)}__`;function Qx(){let{router:t}=rb("useSubmit"),{basename:e}=w.useContext(yn),n=px();return w.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:m}=Rx(r,e);if(o.navigate===!1){let g=o.fetcherKey||Xx();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function $x(t,{relative:e}={}){let{basename:n}=w.useContext(yn),r=w.useContext(Dn);Ve(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Ko(t||".",{relative:e})},c=Wi();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qn([n,u.pathname])),Ao(u)}function Zx(t,e={}){let n=w.useContext(XS);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rb("useViewTransitionState"),o=Ko(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hu(o.pathname,c)!=null||Hu(o.pathname,u)!=null}new TextEncoder;[...Lx];const Jx=()=>{};var m0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(t,e){if(!t)throw Kr(e)},Kr=function(t){return new Error("Firebase Database ("+ab.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],h=t[n++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Mp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|m>>6,S=m&63;d||(S=64,c||(_=64)),r.push(n[g],n[y],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ob(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||h==null||m==null||y==null)throw new tD;const _=u<<2|h>>4;if(r.push(_),m!==64){const S=h<<4&240|m>>2;if(r.push(S),y!==64){const b=m<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lb=function(t){const e=ob(t);return Mp.encodeByteArray(e,!0)},ju=function(t){return lb(t).replace(/\./g,"")},Fu=function(t){try{return Mp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){return ub(void 0,t)}function ub(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iD(n)||(t[n]=ub(t[n],e[n]));return t}function iD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=()=>sD().__FIREBASE_DEFAULTS__,aD=()=>{if(typeof process>"u"||typeof m0>"u")return;const t=m0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fu(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return Jx()||rD()||aD()||oD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cb=t=>{var e,n;return(n=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lD=t=>{const e=cb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fb=()=>{var t;return(t=Ip())===null||t===void 0?void 0:t.config},hb=t=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ju(JSON.stringify(n)),ju(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function cD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hD(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return ab.NODE_ADMIN===!0}function pD(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gD,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?yD(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Xi(o,h,r)}}function yD(t,e){return t.replace(vD,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return JSON.parse(t)}function lt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Ro(Fu(u[0])||""),n=Ro(Fu(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},_D=function(t){const e=pb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ED=function(t){const e=pb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qu(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(g0(u)&&g0(c)){if(!xs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function co(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(c^h),g=1518500249):(m=u^c^h,g=1859775393):y<60?(m=u&c|h&(u|c),g=2400959708):(m=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+m+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function bD(t,e){const n=new TD(t,e);return n.subscribe.bind(n)}class TD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=od),o.error===void 0&&(o.error=od),o.complete===void 0&&(o.complete=od);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function od(){}function Lp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,q(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ec=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _c;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xD(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RD(t){return t===_s?void 0:t}function xD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const ND={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},OD=Ne.INFO,MD={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ID=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=MD[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=ID,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ND[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const kD=(t,e)=>e.some(n=>t instanceof n);let y0,v0;function LD(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PD(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mb=new WeakMap,Ud=new WeakMap,gb=new WeakMap,ld=new WeakMap,Up=new WeakMap;function UD(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Bi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&mb.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function VD(t){if(Ud.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});Ud.set(t,e)}let Vd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ud.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BD(t){Vd=t(Vd)}function zD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ud(this),e,...n);return gb.set(r,e.sort?e.sort():[e]),Bi(r)}:PD().includes(t)?function(...e){return t.apply(ud(this),e),Bi(mb.get(this))}:function(...e){return Bi(t.apply(ud(this),e))}}function HD(t){return typeof t=="function"?zD(t):(t instanceof IDBTransaction&&VD(t),kD(t,LD())?new Proxy(t,Vd):t)}function Bi(t){if(t instanceof IDBRequest)return UD(t);if(ld.has(t))return ld.get(t);const e=HD(t);return e!==t&&(ld.set(t,e),Up.set(e,t)),e}const ud=t=>Up.get(t);function jD(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=Bi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Bi(c.result),d.oldVersion,d.newVersion,Bi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const FD=["get","getKey","getAll","getAllKeys","count"],qD=["put","add","delete","clear"],cd=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=qD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||FD.includes(n)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&d.done]))[0]};return cd.set(e,u),u}BD(t=>({...t,get:(e,n,r)=>_0(e,n)||t.get(e,n,r),has:(e,n)=>!!_0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",E0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Pp("@firebase/app"),KD="@firebase/app-compat",WD="@firebase/analytics-compat",XD="@firebase/analytics",QD="@firebase/app-check-compat",$D="@firebase/app-check",ZD="@firebase/auth",JD="@firebase/auth-compat",eN="@firebase/database",tN="@firebase/data-connect",nN="@firebase/database-compat",iN="@firebase/functions",sN="@firebase/functions-compat",rN="@firebase/installations",aN="@firebase/installations-compat",oN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",fN="@firebase/remote-config",hN="@firebase/remote-config-compat",dN="@firebase/storage",pN="@firebase/storage-compat",mN="@firebase/firestore",gN="@firebase/vertexai",yN="@firebase/firestore-compat",vN="firebase",_N="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",EN={[Bd]:"fire-core",[KD]:"fire-core-compat",[XD]:"fire-analytics",[WD]:"fire-analytics-compat",[$D]:"fire-app-check",[QD]:"fire-app-check-compat",[ZD]:"fire-auth",[JD]:"fire-auth-compat",[eN]:"fire-rtdb",[tN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[iN]:"fire-fn",[sN]:"fire-fn-compat",[rN]:"fire-iid",[aN]:"fire-iid-compat",[oN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[fN]:"fire-rc",[hN]:"fire-rc-compat",[dN]:"fire-gcs",[pN]:"fire-gcs-compat",[mN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,SN=new Map,Hd=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pr(t){const e=t.name;if(Hd.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,t);for(const n of Gu.values())S0(n,t);for(const n of SN.values())S0(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Wo("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=_N;function yb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(n||(n=fb()),!n)throw zi.create("no-options");const u=Gu.get(o);if(u){if(xs(n,u.options)&&xs(r,u.config))return u;throw zi.create("duplicate-app",{appName:o})}const c=new DD(o);for(const d of Hd.values())c.addComponent(d);const h=new TN(n,r,c);return Gu.set(o,h),h}function vb(t=zd){const e=Gu.get(t);if(!e&&t===zd&&fb())return yb();if(!e)throw zi.create("no-app",{appName:t});return e}function Hi(t,e,n){var r;let o=(r=EN[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(h.join(" "));return}Pr(new Ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",wN=1,xo="firebase-heartbeat-store";let fd=null;function _b(){return fd||(fd=jD(CN,wN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),fd}async function AN(t){try{const n=(await _b()).transaction(xo),r=await n.objectStore(xo).get(Eb(t));return await n.done,r}catch(e){if(e instanceof Xi)ti.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function b0(t,e){try{const r=(await _b()).transaction(xo,"readwrite");await r.objectStore(xo).put(e,Eb(t)),await r.done}catch(n){if(n instanceof Xi)ti.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function Eb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1024,xN=30;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ON(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xN){const c=MN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:r,unsentEntries:o}=NN(this._heartbeatsCache.heartbeats),u=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ti.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function NN(t,e=RN){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),C0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pD()?mD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function C0(t){return ju(JSON.stringify({version:2,heartbeats:t})).length}function MN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){Pr(new Ds("platform-logger",e=>new GD(e),"PRIVATE")),Pr(new Ds("heartbeat",e=>new DN(e),"PRIVATE")),Hi(Bd,E0,t),Hi(Bd,E0,"esm2017"),Hi("fire-js","")}IN("");function Bp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=Sb,bb=new Wo("auth","Firebase",Sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Pp("@firebase/auth");function LN(t,...e){Yu.logLevel<=Ne.WARN&&Yu.warn(`Auth (${Xr}): ${t}`,...e)}function Iu(t,...e){Yu.logLevel<=Ne.ERROR&&Yu.error(`Auth (${Xr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw Hp(t,...e)}function pn(t,...e){return Hp(t,...e)}function zp(t,e,n){const r=Object.assign(Object.assign({},kN()),{[e]:n});return new Wo("auth","Firebase",r).create(e,{appName:t.name})}function $n(t){return zp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rn(t,"argument-error"),zp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bb.create(t,...e)}function se(t,e,...n){if(!t)throw Hp(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function ni(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UN(){return w0()==="http:"||w0()==="https:"}function w0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UN()||fD()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=kp()||db()}get(){return VN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new Xo(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,r,o={}){return Cb(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=Wr(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},u);return cD()||(m.referrerPolicy="no-referrer"),Tb.fetch()(await wb(t,t.config.apiHost,n,h),m)})}async function Cb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zN),e);try{const o=new qN(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Cu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Cu(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw zp(t,g,m);rn(t,g)}}catch(o){if(o instanceof Xi)throw o;rn(t,"network-request-failed",{message:String(o)})}}async function Qo(t,e,n,r,o={}){const u=await $i(t,e,n,r,o);return"mfaPendingCredential"in u&&rn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function wb(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?jp(t.config,o):`${t.config.apiScheme}://${o}`;return HN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function FN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),jN.get())})}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=pn(t,e,r);return o.customData._tokenResponse=n,o}function A0(t){return t!==void 0&&t.enterprise!==void 0}class GN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YN(t,e){return $i(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function Ku(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),o=Fp(r);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:mo(hd(o.auth_time)),issuedAtTime:mo(hd(o.iat)),expirationTime:mo(hd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hd(t){return Number(t)*1e3}function Fp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fu(n);return o?JSON.parse(o):(Iu("Failed to decode base64 JWT payload"),null)}catch(o){return Iu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R0(t){const e=Fp(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&XN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Do(t,Ku(n,{idToken:r}));se(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Ab(u.providerUserInfo):[],h=ZN(t.providerData,c),d=t.isAnonymous,m=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Fd(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function $N(t){const e=Ct(t);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Ab(t){return t.map(e=>{var{providerId:n}=e,r=Bp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){const n=await Cb(t,{},async()=>{const r=Wr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await wb(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Tb.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eO(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=R0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await JN(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Dr;return r&&(se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(se(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dr,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=Bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Do(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WN(this,e)}reload(){return $N(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await Do(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,h,d,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,S=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,b=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(m=n.createdAt)!==null&&m!==void 0?m:void 0,V=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:G,isAnonymous:H,providerData:W,stsTokenManager:ee}=n;se(k&&ee,e,"internal-error");const Q=Dr.fromJSON(this.name,ee);se(typeof k=="string",e,"internal-error"),ki(y,e.name),ki(_,e.name),se(typeof G=="boolean",e,"internal-error"),se(typeof H=="boolean",e,"internal-error"),ki(S,e.name),ki(b,e.name),ki(N,e.name),ki(O,e.name),ki(R,e.name),ki(V,e.name);const le=new fn({uid:k,auth:e,email:_,emailVerified:G,displayName:y,isAnonymous:H,photoURL:b,phoneNumber:S,tenantId:N,stsTokenManager:Q,createdAt:R,lastLoginAt:V});return W&&Array.isArray(W)&&(le.providerData=W.map(_e=>Object.assign({},_e))),O&&(le._redirectEventId=O),le}static async _fromIdTokenResponse(e,n,r=!1){const o=new Dr;o.updateFromServerResponse(n);const u=new fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Wu(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ab(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Dr;h.updateFromIdToken(r);const d=new fn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function Wn(t){ni(t instanceof Function,"Expected a class definition");let e=x0.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rb.type="NONE";const D0=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Nr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ku(this.userKey,o.apiKey,u),this.fullPersistenceKey=ku("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ku(this.auth,{idToken:e}).catch(()=>{});return n?fn._fromGetAccountInfoResponse(this.auth,n,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nr(Wn(D0),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||Wn(D0);const c=ku(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let y;if(typeof g=="string"){const _=await Ku(e,{idToken:g}).catch(()=>{});if(!_)break;y=await fn._fromGetAccountInfoResponse(e,_,g)}else y=fn._fromJSON(e,g);m!==u&&(h=y),u=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new Nr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new Nr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(kb(e))return"Webos";if(Db(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Mb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xb(t=Tt()){return/firefox\//i.test(t)}function Db(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(t=Tt()){return/crios\//i.test(t)}function Ob(t=Tt()){return/iemobile/i.test(t)}function Mb(t=Tt()){return/android/i.test(t)}function Ib(t=Tt()){return/blackberry/i.test(t)}function kb(t=Tt()){return/webos/i.test(t)}function qp(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tO(t=Tt()){var e;return qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nO(){return hD()&&document.documentMode===10}function Lb(t=Tt()){return qp(t)||Mb(t)||kb(t)||Ib(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e=[]){let n;switch(t){case"Browser":n=N0(Tt());break;case"Worker":n=`${N0(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=6;class aO{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:rO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new iO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Nr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ku(this,{idToken:e}),r=await fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject($n(this));const n=e?Ct(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),n=new aO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Nr.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zi(t){return Ct(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bD(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lO(t){Sc=t}function Ub(t){return Sc.loadJS(t)}function uO(){return Sc.recaptchaEnterpriseScript}function cO(){return Sc.gapiScript}function fO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hO{constructor(){this.enterprise=new dO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pO="recaptcha-enterprise",Vb="NO_RECAPTCHA";class mO{constructor(e){this.type=pO,this.auth=Zi(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{YN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new GN(d);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;A0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(Vb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!n&&A0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=uO();d.length!==0&&(d+=h),Ub(d).then(()=>{o(h,u,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function M0(t,e,n,r=!1,o=!1){const u=new mO(t);let c;if(o)c=Vb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qd(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await M0(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await M0(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(xs(u,e??{}))return o;rn(o,"already-initialized")}return n.initialize({options:e})}function yO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vO(t,e,n){const r=Zi(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Bb(e),{host:c,port:h}=_O(e),d=h===null?"":`:${h}`,m={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(xs(m,r.config.emulator)&&xs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,EO()}function Bb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _O(t){const e=Bb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:I0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:I0(c)}}}function I0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function SO(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Qo(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function CO(t,e){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Gp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new No(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new No(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,n,"signInWithPassword",bO);case"emailLink":return TO(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,r,"signUpPassword",SO);case"emailLink":return CO(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(t,e){return Qo(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="http://localhost";class Ns extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=Bp(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Ns(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Or(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Or(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Or(e,n)}buildRequest(){const e={requestUri:wO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RO(t){const e=co(fo(t)).link,n=e?co(fo(e)).deep_link_id:null,r=co(fo(t)).deep_link_id;return(r?co(fo(r)).link:null)||r||n||e||t}class Yp{constructor(e){var n,r,o,u,c,h;const d=co(fo(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=AO((o=d.mode)!==null&&o!==void 0?o:null);se(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=RO(e);try{return new Yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.providerId=Qr.PROVIDER_ID}static credential(e,n){return No._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yp.parseLink(n);return se(r,"argument-error"),No._fromEmailAndCode(e,r.code,r.tenantId)}}Qr.PROVIDER_ID="password";Qr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends $o{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends $o{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends $o{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return Qo(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await fn._fromIdTokenResponse(e,r,o),c=k0(r);return new Os({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=k0(r);return new Os({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function k0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Xi{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Xu(e,n,r,o)}}function zb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,u,e,r):u})}async function DO(t,e,n=!1){const r=await Do(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e,n=!1){const{auth:r}=t;if(Gt(r.app))return Promise.reject($n(r));const o="reauthenticate";try{const u=await Do(t,zb(r,o,e,t),n);se(u.idToken,r,"internal-error");const c=Fp(u.idToken);se(c,r,"internal-error");const{sub:h}=c;return se(t.uid===h,r,"user-mismatch"),Os._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t,e,n=!1){if(Gt(t.app))return Promise.reject($n(t));const r="signIn",o=await zb(t,r,e),u=await Os._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function OO(t,e){return Hb(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MO(t,e,n){if(Gt(t.app))return Promise.reject($n(t));const r=Zi(t),c=await qd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&jb(t),d}),h=await Os._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function IO(t,e,n){return Gt(t.app)?Promise.reject($n(t)):OO(Ct(t),Qr.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jb(t),r})}function kO(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function LO(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function PO(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function UO(t){return Ct(t).signOut()}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=1e3,BO=10;class qb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);nO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qb.type="LOCAL";const zO=qb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gb.type="SESSION";const Yb=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new bc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async m=>m(n.origin,u)),d=await HO(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const m=Wp("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function FO(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YO(){return Kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebaseLocalStorageDb",KO=1,$u="firebaseLocalStorage",Xb="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tc(t,e){return t.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function WO(){const t=indexedDB.deleteDatabase(Wb);return new Zo(t).toPromise()}function Gd(){const t=indexedDB.open(Wb,KO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($u,{keyPath:Xb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($u)?e(r):(r.close(),await WO(),e(await Gd()))})})}async function L0(t,e,n){const r=Tc(t,!0).put({[Xb]:e,value:n});return new Zo(r).toPromise()}async function XO(t,e){const n=Tc(t,!1).get(e),r=await new Zo(n).toPromise();return r===void 0?null:r.value}function P0(t,e){const n=Tc(t,!0).delete(e);return new Zo(n).toPromise()}const QO=800,$O=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$O)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bc._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new jO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gd();return await L0(e,Qu,"1"),await P0(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Tc(o,!1).getAll();return new Zo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const ZO=Qb;new Xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){return e?Wn(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Or(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Or(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Or(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JO(t){return Hb(t.auth,new Xp(t),t.bypassAuthState)}function eM(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),NO(n,new Xp(t),t.bypassAuthState)}async function tM(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),DO(n,new Xp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JO;case"linkViaPopup":case"linkViaRedirect":return tM;case"reauthViaPopup":case"reauthViaRedirect":return eM;default:rn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Xo(2e3,1e4);async function iM(t,e,n){if(Gt(t.app))return Promise.reject(pn(t,"operation-not-supported-in-this-environment"));const r=Zi(t);PN(t,e,Kp);const o=$b(r,n);return new bs(r,"signInViaPopup",e,o).executeNotNull()}class bs extends Zb{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nM.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="pendingRedirect",Lu=new Map;class rM extends Zb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const r=await aM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aM(t,e){const n=uM(e),r=lM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function oM(t,e){Lu.set(t._key(),e)}function lM(t){return Wn(t._redirectPersistence)}function uM(t){return ku(sM,t.config.apiKey,t.name)}async function cM(t,e,n=!1){if(Gt(t.app))return Promise.reject($n(t));const r=Zi(t),o=$b(r,e),c=await new rM(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=10*60*1e3;class hM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jb(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fM&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gM=/^https?/;async function yM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pM(t);for(const n of e)try{if(vM(n))return}catch{}rn(t,"unauthorized-domain")}function vM(t){const e=jd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!gM.test(n))return!1;if(mM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Xo(3e4,6e4);function V0(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EM(t){return new Promise((e,n)=>{var r,o,u;function c(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),n(pn(t,"network-request-failed"))},timeout:_M.get()})}if(!((o=(r=wn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wn().gapi)===null||u===void 0)&&u.load)c();else{const h=fO("iframefcb");return wn()[h]=()=>{gapi.load?c():n(pn(t,"network-request-failed"))},Ub(`${cO()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function SM(t){return Pu=Pu||EM(t),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Xo(5e3,15e3),TM="__/auth/iframe",CM="emulator/auth/iframe",wM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jp(e,CM):`https://${t.config.authDomain}/${TM}`,r={apiKey:e.apiKey,appName:t.name,v:Xr},o=AM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Wr(r).slice(1)}`}async function xM(t){const e=await SM(t),n=wn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=pn(t,"network-request-failed"),h=wn().setTimeout(()=>{u(c)},bM.get());function d(){wn().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NM=500,OM=600,MM="_blank",IM="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kM(t,e,n,r=NM,o=OM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},DM),{width:r.toString(),height:o.toString(),top:u,left:c}),m=Tt().toLowerCase();n&&(h=Nb(m)?MM:n),xb(m)&&(e=e||IM,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[S,b])=>`${_}${S}=${b},`,"");if(tO(m)&&h!=="_self")return LM(e||"",h),new B0(null);const y=window.open(e||"",h,g);se(y,t,"popup-blocked");try{y.focus()}catch{}return new B0(y)}function LM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="__/auth/handler",UM="emulator/auth/handler",VM=encodeURIComponent("fac");async function z0(t,e,n,r,o,u){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xr,eventId:o};if(e instanceof Kp){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Pd(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof $o){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${VM}=${encodeURIComponent(d)}`:"";return`${BM(t)}?${Wr(h).slice(1)}${m}`}function BM({config:t}){return t.emulator?jp(t,UM):`https://${t.authDomain}/${PM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class zM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=cM,this._overrideRedirectResult=oM}async _openPopup(e,n,r,o){var u;ni((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await z0(e,n,r,jd(),o);return kM(e,c,Wp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await z0(e,n,r,jd(),o);return FO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xM(e),r=new hM(e);return n.register("authEvent",o=>(se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[dd];c!==void 0&&n(!!c),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Db()||qp()}}const HM=zM;var H0="@firebase/auth",j0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(t){Pr(new Ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pb(t)},m=new oO(r,o,u,d);return yO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new Ds("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(r=>new jM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(H0,j0,FM(t)),Hi(H0,j0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=5*60,YM=hb("authIdTokenMaxAge")||GM;let F0=null;const KM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YM)return;const o=n==null?void 0:n.token;F0!==o&&(F0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WM(t=vb()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gO(t,{popupRedirectResolver:HM,persistence:[ZO,zO,Yb]}),r=hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=KM(u.toString());LO(n,c,()=>c(n.currentUser)),kO(n,h=>c(h))}}const o=cb("auth");return o&&vO(n,`http://${o}`),n}function XM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=pn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",XM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");var QM="firebase",$M="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(QM,$M,"app");var q0={};const G0="@firebase/database",Y0="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="";function ZM(t){eT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ro(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return oi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JM(e)}}catch{}return new eI},Ts=tT("localStorage"),tI=tT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Pp("@firebase/database"),nI=function(){let t=1;return function(){return t++}}(),nT=function(t){const e=wD(t),n=new SD;n.update(e);const r=n.digest();return Mp.encodeByteArray(r)},Jo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Jo.apply(null,r):typeof r=="object"?e+=lt(r):e+=r,e+=" "}return e};let go=null,K0=!0;const iI=function(t,e){q(!0,"Can't turn on custom loggers persistently."),Mr.logLevel=Ne.VERBOSE,go=Mr.log.bind(Mr)},_t=function(...t){if(K0===!0&&(K0=!1,go===null&&tI.get("logging_enabled")===!0&&iI()),go){const e=Jo.apply(null,t);go(e)}},el=function(t){return function(...e){_t(t,...e)}},Yd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jo(...t);Mr.error(e)},ii=function(...t){const e=`FIREBASE FATAL ERROR: ${Jo(...t)}`;throw Mr.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+Jo(...t);Mr.warn(e)},sI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ur="[MIN_NAME]",Ms="[MAX_NAME]",$r=function(t,e){if(t===e)return 0;if(t===Ur||e===Ms)return-1;if(e===Ur||t===Ms)return 1;{const n=W0(t),r=W0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},aI=function(t,e){return t===e?0:t<e?-1:1},io=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+lt(e))},Qp=function(t){if(typeof t!="object"||t===null)return lt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=lt(e[r]),n+=":",n+=Qp(t[e[r]]);return n+="}",n},sT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function kt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rT=function(t){q(!iT(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const m=[];for(d=n;d;d-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const g=m.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},oI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const cI=new RegExp("^-?(0*)\\d{1,10}$"),fI=-2147483648,hI=2147483647,W0=function(t){if(cI.test(t)){const e=Number(t);if(e>=fI&&e<=hI)return e}return null},Zr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},dI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class Uu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Uu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="5",aT="v",oT="s",lT="r",uT="f",cT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fT="ls",hT="p",Kd="ac",dT="websocket",pT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,o,u=!1,c="",h=!1,d=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function gI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gT(t,e,n){q(typeof e=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let r;if(e===dT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===pT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gI(t)&&(n.ns=t.namespace);const o=[];return kt(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.counters_={}}incrementCounter(e,n=1){oi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={},md={};function Zp(t){const e=t.toString();return pd[e]||(pd[e]=new yI),pd[e]}function vI(t,e){const n=t.toString();return md[n]||(md[n]=e()),md[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Zr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="start",EI="close",SI="pLPCommand",bI="pRTLPCB",yT="id",vT="pw",_T="ser",TI="cb",CI="seg",wI="ts",AI="d",RI="dframe",ET=1870,ST=30,xI=ET-ST,DI=25e3,NI=3e4;class Tr{constructor(e,n,r,o,u,c,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=el(e),this.stats_=Zp(n),this.urlFn=d=>(this.appCheckToken&&(d[Kd]=this.appCheckToken),gT(n,pT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new _I(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NI)),rI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jp((...u)=>{const[c,h,d,m,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===X0)this.id=h,this.password=d;else if(c===EI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[X0]="t",r[_T]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aT]=$p,this.transportSessionId&&(r[oT]=this.transportSessionId),this.lastSessionId&&(r[fT]=this.lastSessionId),this.applicationId&&(r[hT]=this.applicationId),this.appCheckToken&&(r[Kd]=this.appCheckToken),typeof location<"u"&&location.hostname&&cT.test(location.hostname)&&(r[lT]=uT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tr.forceAllow_=!0}static forceDisallow(){Tr.forceDisallow_=!0}static isAvailable(){return Tr.forceAllow_?!0:!Tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oI()&&!lI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lb(n),o=sT(r,xI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[RI]="t",r[yT]=e,r[vT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=lt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jp{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nI(),window[SI+this.uniqueCallbackIdentifier]=e,window[bI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){_t("frame writing exception"),h.stack&&_t(h.stack),_t(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yT]=this.myID,e[vT]=this.myPW,e[_T]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ST+r.length<=ET;){const c=this.pendingSegs.shift();r=r+"&"+CI+o+"="+c.seg+"&"+wI+o+"="+c.ts+"&"+AI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(DI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=16384,MI=45e3;let Zu=null;typeof MozWebSocket<"u"?Zu=MozWebSocket:typeof WebSocket<"u"&&(Zu=WebSocket);class cn{constructor(e,n,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=el(this.connId),this.stats_=Zp(n),this.connURL=cn.connectionURL_(n,c,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[aT]=$p,typeof location<"u"&&location.hostname&&cT.test(location.hostname)&&(c[lT]=uT),n&&(c[oT]=n),r&&(c[fT]=r),o&&(c[Kd]=o),u&&(c[hT]=u),gT(e,dT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let r;dD(),this.mySock=new Zu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Zu!==null&&!cn.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ro(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sT(n,OI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cn.responsesRequiredToBeHealthy=2;cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static get ALL_TRANSPORTS(){return[Tr,cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=cn&&cn.isAvailable();let r=n&&!cn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cn];else{const o=this.transports_=[];for(const u of Oo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Oo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6e4,kI=5e3,LI=10*1024,PI=100*1024,gd="t",Q0="d",UI="s",$0="r",VI="e",Z0="o",J0="a",eE="n",tE="p",BI="h";class zI{constructor(e,n,r,o,u,c,h,d,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=el("c:"+this.id+":"),this.transportManager_=new Oo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gd in e){const n=e[gd];n===J0?this.upgradeIfSecondaryHealthy_():n===$0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Z0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=io("t",e),r=io("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:J0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=io("t",e),r=io("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=io(gd,e);if(Q0 in e){const r=e[Q0];if(n===BI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===eE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UI?this.onConnectionShutdown_(r):n===$0?this.onReset_(r):n===VI?Yd("Server Error: "+r):n===Z0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$p!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(II))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends TT{static getInstance(){return new Ju}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=32,iE=768;class Me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Me("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qi(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Me(t.pieces_,e)}function CT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function AT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Me(e,0)}function tt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Me(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){const n=de(t),r=de(e);if(n===null)return e;if(n===r)return Nt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function em(t,e){if(qi(t)!==qi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function hn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qi(t)>qi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class jI{constructor(e,n){this.errorPrefix_=n,this.parts_=wT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ec(this.parts_[r]);RT(this)}}function FI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ec(e),RT(t)}function qI(t){const e=t.parts_.pop();t.byteLength_-=Ec(e),t.parts_.length>0&&(t.byteLength_-=1)}function RT(t){if(t.byteLength_>iE)throw new Error(t.errorPrefix_+"has a key path longer than "+iE+" bytes ("+t.byteLength_+").");if(t.parts_.length>nE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nE+") or object contains a cycle "+Es(t))}function Es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends TT{static getInstance(){return new tm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=1e3,GI=60*5*1e3,sE=30*1e3,YI=1.3,KI=3e4,WI="server_kill",rE=3;class Zn extends bT{constructor(e,n,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Zn.nextPersistentConnectionId_++,this.log_=el("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=so,this.maxReconnectDelay_=GI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ju.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(lt(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new _c,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,m=h.s;Zn.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&oi(e,"w")){const r=Lr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ED(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_D(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yd("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KI&&(this.reconnectDelay_=so),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Zn.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},m=function(y){q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new zI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,S=>{It(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(WI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&It(y),d())}}}interrupt(e){_t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pd(this.interruptReasons_)&&(this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>Qp(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Me(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){_t("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rE&&(this.reconnectDelay_=sE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_t("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eT.replace(/\./g,"-")]=1,kp()?e["framework.cordova"]=1:db()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ju.getInstance().currentlyOnline();return Pd(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new pe(Ur,e),o=new pe(Ur,n);return this.compare(r,o)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;class xT extends Cc{static get __EMPTY_NODE(){return wu}static set __EMPTY_NODE(e){wu=e}compare(e,n){return $r(e.name,n.name)}isDefinedOn(e){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Ms,wu)}makePost(e,n){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,wu)}toString(){return".key"}}const Ir=new xT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??ot.RED,this.left=o??Ot.EMPTY_NODE,this.right=u??Ot.EMPTY_NODE}copy(e,n,r,o,u){return new ot(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class XI{copy(e,n,r,o,u){return this}insert(e,n,r){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(e,n=Ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Au(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Au(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Au(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Au(this.root_,null,this.comparator_,!0,e)}}Ot.EMPTY_NODE=new XI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){return $r(t.name,e.name)}function nm(t,e){return $r(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;function $I(t){Wd=t}const DT=function(t){return typeof t=="number"?"number:"+rT(t):"string:"+t},NT=function(t){if(t.isLeafNode()){const e=t.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&oi(e,".sv"),"Priority must be a string or number.")}else q(t===Wd||t.isEmpty(),"priority of unexpected type.");q(t===Wd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE;class at{static set __childrenNodeConstructor(e){aE=e}static get __childrenNodeConstructor(){return aE}constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),NT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:de(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=de(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+DT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rT(this.value_):e+=this.value_,this.lazyHash_=nT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=at.VALUE_TYPE_ORDER.indexOf(n),u=at.VALUE_TYPE_ORDER.indexOf(r);return q(o>=0,"Unknown leaf type: "+n),q(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OT,MT;function ZI(t){OT=t}function JI(t){MT=t}class ek extends Cc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?$r(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Ms,new at("[PRIORITY-POST]",MT))}makePost(e,n){const r=OT(e);return new pe(n,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new ek;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=Math.log(2);class nk{constructor(e){const n=u=>parseInt(Math.log(u)/tk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ec=function(t,e,n,r){t.sort(e);const o=function(d,m){const g=m-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new ot(_,y.node,ot.BLACK,null,null);{const S=parseInt(g/2,10)+d,b=o(d,S),N=o(S+1,m);return y=t[S],_=n?n(y):y,new ot(_,y.node,ot.BLACK,b,N)}},u=function(d){let m=null,g=null,y=t.length;const _=function(b,N){const O=y-b,R=y;y-=b;const V=o(O+1,R),k=t[O],G=n?n(k):k;S(new ot(G,k.node,N,null,V))},S=function(b){m?(m.left=b,m=b):(g=b,m=b)};for(let b=0;b<d.count;++b){const N=d.nextBitIsOne(),O=Math.pow(2,d.count-(b+1));N?_(O,ot.BLACK):(_(O,ot.BLACK),_(O,ot.RED))}return g},c=new nk(t.length),h=u(c);return new Ot(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd;const br={};class Xn{static get Default(){return q(br&&Ge,"ChildrenNode.ts has not been loaded"),yd=yd||new Xn({".priority":br},{".priority":Ge}),yd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ot?n:null}hasIndex(e){return oi(this.indexSet_,e.toString())}addIndex(e,n){q(e!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(pe.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=ec(r,e.getCompare()):h=br;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new Xn(g,m)}addToIndexes(e,n){const r=qu(this.indexes_,(o,u)=>{const c=Lr(this.indexSet_,u);if(q(c,"Missing index implementation for "+u),o===br)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(pe.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),ec(h,c.getCompare())}else return br;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new pe(e.name,h))),d.insert(e,e.node)}});return new Xn(r,this.indexSet_)}removeFromIndexes(e,n){const r=qu(this.indexes_,o=>{if(o===br)return o;{const u=n.get(e.name);return u?o.remove(new pe(e.name,u)):o}});return new Xn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro;class oe{static get EMPTY_NODE(){return ro||(ro=new oe(new Ot(nm),null,Xn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&NT(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ro}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ro:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new pe(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?ro:this.priorityNode_;return new oe(o,c,u)}}updateChild(e,n){const r=de(e);if(r===null)return n;{q(de(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(Ge,(c,h)=>{n[c]=h.val(e),r++,u&&oe.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+DT(this.getPriority().val())+":"),this.forEachChild(Ge,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":nT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new pe(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,pe.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tl?-1:0}withIndex(e){if(e===Ir||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ir||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ge),o=n.getIterator(Ge);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ir?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ik extends oe{constructor(){super(new Ot(nm),oe.EMPTY_NODE,Xn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const tl=new ik;Object.defineProperties(pe,{MIN:{value:new pe(Ur,oe.EMPTY_NODE)},MAX:{value:new pe(Ms,tl)}});xT.__EMPTY_NODE=oe.EMPTY_NODE;at.__childrenNodeConstructor=oe;$I(tl);JI(tl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=!0;function pt(t,e=null){if(t===null)return oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,pt(e))}if(!(t instanceof Array)&&sk){const n=[];let r=!1;if(kt(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=pt(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new pe(c,d)))}}),n.length===0)return oe.EMPTY_NODE;const u=ec(n,QI,c=>c.name,nm);if(r){const c=ec(n,Ge.getCompare());return new oe(u,pt(e),new Xn({".priority":c},{".priority":Ge}))}else return new oe(u,pt(e),Xn.Default)}else{let n=oe.EMPTY_NODE;return kt(t,(r,o)=>{if(oi(t,r)&&r.substring(0,1)!=="."){const u=pt(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(pt(e))}}ZI(pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Cc{constructor(e){super(),this.indexPath_=e,q(!ye(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?$r(e.name,n.name):u}makePost(e,n){const r=pt(e),o=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new pe(n,o)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,tl);return new pe(Ms,e)}toString(){return wT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends Cc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$r(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const r=pt(e);return new pe(n,r)}toString(){return".value"}}const ok=new ak;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){return{type:"value",snapshotNode:t}}function Vr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Mo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Io(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Mo(n,h)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Vr(n,r)):c.trackChildChange(Io(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ge,(o,u)=>{n.hasChild(o)||r.trackChildChange(Mo(o,u))}),n.isLeafNode()||n.forEachChild(Ge,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(Io(o,u,c))}else r.trackChildChange(Vr(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.indexedFilter_=new im(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ko.getStartPost_(e),this.endPost_=ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new pe(n,r))||(r=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=oe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const u=this;return n.forEachChild(Ge,(c,h)=>{u.matches(new pe(c,h))||(o=o.updateImmediateChild(c,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new pe(n,r))||(r=oe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,S)=>y(S,_)}else c=this.index_.getCompare();const h=e;q(h.numChildren()===this.limit_,"");const d=new pe(n,r),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,m,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:c(_,d);if(g&&!r.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(Io(n,r,y)),h.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(Mo(n,y));const N=h.updateImmediateChild(n,oe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Vr(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&c(m,d)>=0?(u!=null&&(u.trackChildChange(Mo(m.name,m.node)),u.trackChildChange(Vr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(m.name,oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new sm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ck(t){return t.loadsAllData()?new im(t.getIndex()):t.hasLimit()?new uk(t):new ko(t)}function oE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===ok?n="$value":t.index_===Ir?n="$key":(q(t.index_ instanceof rk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=lt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=lt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+lt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=lt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+lt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends bT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=el("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=tc.getListenId_(e,r),h={};this.listens_[c]=h;const d=oE(e._queryParams);this.restRequest_(u+".json",d,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,r),Lr(this.listens_,c)===h){let _;m?m===401?_="permission_denied":_="rest_error:"+m:_="ok",o(_,null)}})}unlisten(e,n){const r=tc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oE(e._queryParams),r=e._path.toString(),o=new _c;return this.restRequest_(r+".json",n,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wr(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ro(h.responseText)}catch{It("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&It("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(){return{value:null,children:new Map}}function kT(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=de(e);t.children.has(r)||t.children.set(r,nc());const o=t.children.get(r);e=ke(e),kT(o,e,n)}}function Xd(t,e,n){t.value!==null?n(e,t.value):hk(t,(r,o)=>{const u=new Me(e.toString()+"/"+r);Xd(o,u,n)})}function hk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&kt(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=10*1e3,pk=30*1e3,mk=5*60*1e3;class gk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dk(e);const r=uE+(pk-uE)*Math.random();yo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;kt(e,(o,u)=>{u>0&&oi(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),yo(this.reportStats_.bind(this),Math.floor(Math.random()*2*mk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function LT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function am(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=dn.ACK_USER_WRITE,this.source=LT()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(e));return new ic(Ce(),n,this.revert)}}else return q(de(this.path)===e,"operationForChild called for unrelated child."),new ic(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.source=e,this.path=n,this.type=dn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Lo(this.source,Ce()):new Lo(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=dn.OVERWRITE}operationForChild(e){return ye(this.path)?new Is(this.source,Ce(),this.snap.getImmediateChild(e)):new Is(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=dn.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Me(e));return n.isEmpty()?null:n.value?new Is(this.source,Ce(),n.value):new Po(this.source,Ce(),n)}else return q(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Po(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vk(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(lk(c.childName,c.snapshotNode))}),ao(t,o,"child_removed",e,r,n),ao(t,o,"child_added",e,r,n),ao(t,o,"child_moved",u,r,n),ao(t,o,"child_changed",e,r,n),ao(t,o,"value",e,r,n),o}function ao(t,e,n,r,o,u){const c=r.filter(h=>h.type===n);c.sort((h,d)=>Ek(t,h,d)),c.forEach(h=>{const d=_k(t,h,u);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,t.query_))})})}function _k(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ek(t,e,n){if(e.childName==null||n.childName==null)throw Kr("Should only compare child_ events.");const r=new pe(e.childName,e.snapshotNode),o=new pe(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t,e){return{eventCache:t,serverCache:e}}function vo(t,e,n,r){return wc(new ks(e,n,r),t.serverCache)}function PT(t,e,n,r){return wc(t.eventCache,new ks(e,n,r))}function Qd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ls(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;const Sk=()=>(vd||(vd=new Ot(aI)),vd);class Le{static fromObject(e){let n=new Le(null);return kt(e,(r,o)=>{n=n.set(new Me(r),o)}),n}constructor(e,n=Sk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(ye(e))return null;{const r=de(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ke(e),n);return u!=null?{path:tt(new Me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=de(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Le(null)}}set(e,n){if(ye(e))return new Le(n,this.children);{const r=de(e),u=(this.children.get(r)||new Le(null)).set(ke(e),n),c=this.children.insert(r,u);return new Le(this.value,c)}}remove(e){if(ye(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const n=de(e),r=this.children.get(n);if(r){const o=r.remove(ke(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(e){if(ye(e))return this.value;{const n=de(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(ye(e))return n;{const r=de(e),u=(this.children.get(r)||new Le(null)).setTree(ke(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Le(this.value,c)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(tt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(ye(e))return null;{const u=de(e),c=this.children.get(u);return c?c.findOnPath_(ke(e),tt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,r){if(ye(e))return this;{this.value&&r(n,this.value);const o=de(e),u=this.children.get(o);return u?u.foreachOnPath_(ke(e),tt(n,o),r):new Le(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(tt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.writeTree_=e}static empty(){return new mn(new Le(null))}}function _o(t,e,n){if(ye(e))return new mn(new Le(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Nt(o,e);return u=u.updateChild(c,n),new mn(t.writeTree_.set(o,u))}else{const o=new Le(n),u=t.writeTree_.setTree(e,o);return new mn(u)}}}function cE(t,e,n){let r=t;return kt(n,(o,u)=>{r=_o(r,tt(e,o),u)}),r}function fE(t,e){if(ye(e))return mn.empty();{const n=t.writeTree_.setTree(e,new Le(null));return new mn(n)}}function $d(t,e){return Ps(t,e)!=null}function Ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function hE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(r,o)=>{e.push(new pe(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new pe(r,o.value))}),e}function ji(t,e){if(ye(e))return t;{const n=Ps(t,e);return n!=null?new mn(new Le(n)):new mn(t.writeTree_.subtree(e))}}function Zd(t){return t.writeTree_.isEmpty()}function Br(t,e){return UT(Ce(),t.writeTree_,e)}function UT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=UT(tt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(tt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){return HT(e,t)}function bk(t,e,n,r,o){q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=_o(t.visibleWrites,e,n)),t.lastWriteId=r}function Tk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ck(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&wk(h,r.path)?o=!1:hn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Ak(t),!0;if(r.snap)t.visibleWrites=fE(t.visibleWrites,r.path);else{const h=r.children;kt(h,d=>{t.visibleWrites=fE(t.visibleWrites,tt(r.path,d))})}return!0}else return!1}function wk(t,e){if(t.snap)return hn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hn(tt(t.path,n),e))return!0;return!1}function Ak(t){t.visibleWrites=VT(t.allWrites,Rk,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Rk(t){return t.visible}function VT(t,e,n){let r=mn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)hn(n,c)?(h=Nt(n,c),r=_o(r,h,u.snap)):hn(c,n)&&(h=Nt(c,n),r=_o(r,Ce(),u.snap.getChild(h)));else if(u.children){if(hn(n,c))h=Nt(n,c),r=cE(r,h,u.children);else if(hn(c,n))if(h=Nt(c,n),ye(h))r=cE(r,Ce(),u.children);else{const d=Lr(u.children,de(h));if(d){const m=d.getChild(ke(h));r=_o(r,Ce(),m)}}}else throw Kr("WriteRecord should have .snap or .children")}}return r}function BT(t,e,n,r,o){if(!r&&!o){const u=Ps(t.visibleWrites,e);if(u!=null)return u;{const c=ji(t.visibleWrites,e);if(Zd(c))return n;if(n==null&&!$d(c,Ce()))return null;{const h=n||oe.EMPTY_NODE;return Br(c,h)}}}else{const u=ji(t.visibleWrites,e);if(!o&&Zd(u))return n;if(!o&&n==null&&!$d(u,Ce()))return null;{const c=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(hn(m.path,e)||hn(e,m.path))},h=VT(t.allWrites,c,e),d=n||oe.EMPTY_NODE;return Br(h,d)}}}function xk(t,e,n){let r=oe.EMPTY_NODE;const o=Ps(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ge,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=ji(t.visibleWrites,e);return n.forEachChild(Ge,(c,h)=>{const d=Br(ji(u,new Me(c)),h);r=r.updateImmediateChild(c,d)}),hE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=ji(t.visibleWrites,e);return hE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Dk(t,e,n,r,o){q(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=tt(e,n);if($d(t.visibleWrites,u))return null;{const c=ji(t.visibleWrites,u);return Zd(c)?o.getChild(n):Br(c,o.getChild(n))}}function Nk(t,e,n,r){const o=tt(e,n),u=Ps(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=ji(t.visibleWrites,o);return Br(c,r.getNode().getImmediateChild(n))}else return null}function Ok(t,e){return Ps(t.visibleWrites,e)}function Mk(t,e,n,r,o,u,c){let h;const d=ji(t.visibleWrites,e),m=Ps(d,Ce());if(m!=null)h=m;else if(n!=null)h=Br(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=_.getNext();for(;S&&g.length<o;)y(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function Ik(){return{visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1}}function sc(t,e,n,r){return BT(t.writeTree,t.treePath,e,n,r)}function lm(t,e){return xk(t.writeTree,t.treePath,e)}function dE(t,e,n,r){return Dk(t.writeTree,t.treePath,e,n,r)}function rc(t,e){return Ok(t.writeTree,tt(t.treePath,e))}function kk(t,e,n,r,o,u){return Mk(t.writeTree,t.treePath,e,n,r,o,u)}function um(t,e,n){return Nk(t.writeTree,t.treePath,e,n)}function zT(t,e){return HT(tt(t.treePath,e),t.writeTree)}function HT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,Io(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Mo(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,Vr(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,Io(r,e.snapshotNode,o.oldSnap));else throw Kr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const jT=new Pk;class cm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return um(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ls(this.viewCache_),u=kk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return{filter:t}}function Vk(t,e){q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Bk(t,e,n,r,o){const u=new Lk;let c,h;if(n.type===dn.OVERWRITE){const m=n;m.source.fromUser?c=Jd(t,e,m.path,m.snap,r,o,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),c=ac(t,e,m.path,m.snap,r,o,h,u))}else if(n.type===dn.MERGE){const m=n;m.source.fromUser?c=Hk(t,e,m.path,m.children,r,o,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=ep(t,e,m.path,m.children,r,o,h,u))}else if(n.type===dn.ACK_USER_WRITE){const m=n;m.revert?c=qk(t,e,m.path,r,o,u):c=jk(t,e,m.path,m.affectedTree,r,o,u)}else if(n.type===dn.LISTEN_COMPLETE)c=Fk(t,e,n.path,r,u);else throw Kr("Unknown operation type: "+n.type);const d=u.getChanges();return zk(e,c,d),{viewCache:c,changes:d}}function zk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Qd(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(IT(Qd(e)))}}function FT(t,e,n,r,o,u){const c=e.eventCache;if(rc(r,n)!=null)return e;{let h,d;if(ye(n))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ls(e),g=m instanceof oe?m:oe.EMPTY_NODE,y=lm(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=sc(r,Ls(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=de(n);if(m===".priority"){q(qi(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=dE(r,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=ke(n);let y;if(c.isCompleteForChild(m)){d=e.serverCache.getNode();const _=dE(r,n,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(m).updateChild(g,_):y=c.getNode().getImmediateChild(m)}else y=um(r,m,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),m,y,g,o,u):h=c.getNode()}}return vo(e,h,c.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function ac(t,e,n,r,o,u,c,h){const d=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(ye(n))m=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,r);m=g.updateFullNode(d.getNode(),S,null)}else{const S=de(n);if(!d.isCompleteForPath(n)&&qi(n)>1)return e;const b=ke(n),O=d.getNode().getImmediateChild(S).updateChild(b,r);S===".priority"?m=g.updatePriority(d.getNode(),O):m=g.updateChild(d.getNode(),S,O,b,jT,null)}const y=PT(e,m,d.isFullyInitialized()||ye(n),g.filtersNodes()),_=new cm(o,y,u);return FT(t,y,n,o,_,h)}function Jd(t,e,n,r,o,u,c){const h=e.eventCache;let d,m;const g=new cm(o,e,u);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=vo(e,m,!0,t.filter.filtersNodes());else{const y=de(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),d=vo(e,m,h.isFullyInitialized(),h.isFiltered());else{const _=ke(n),S=h.getNode().getImmediateChild(y);let b;if(ye(_))b=r;else{const N=g.getCompleteChild(y);N!=null?CT(_)===".priority"&&N.getChild(AT(_)).isEmpty()?b=N:b=N.updateChild(_,r):b=oe.EMPTY_NODE}if(S.equals(b))d=e;else{const N=t.filter.updateChild(h.getNode(),y,b,_,g,c);d=vo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function pE(t,e){return t.eventCache.isCompleteForChild(e)}function Hk(t,e,n,r,o,u,c){let h=e;return r.foreach((d,m)=>{const g=tt(n,d);pE(e,de(g))&&(h=Jd(t,h,g,m,o,u,c))}),r.foreach((d,m)=>{const g=tt(n,d);pE(e,de(g))||(h=Jd(t,h,g,m,o,u,c))}),h}function mE(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function ep(t,e,n,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;ye(n)?m=r:m=new Le(null).setTree(n,r);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),b=mE(t,S,_);d=ac(t,d,new Me(y),b,o,u,c,h)}}),m.children.inorderTraversal((y,_)=>{const S=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!S){const b=e.serverCache.getNode().getImmediateChild(y),N=mE(t,b,_);d=ac(t,d,new Me(y),N,o,u,c,h)}}),d}function jk(t,e,n,r,o,u,c){if(rc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(ye(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return ac(t,e,n,d.getNode().getChild(n),o,u,h,c);if(ye(n)){let m=new Le(null);return d.getNode().forEachChild(Ir,(g,y)=>{m=m.set(new Me(g),y)}),ep(t,e,n,m,o,u,h,c)}else return e}else{let m=new Le(null);return r.foreach((g,y)=>{const _=tt(n,g);d.isCompleteForPath(_)&&(m=m.set(g,d.getNode().getChild(_)))}),ep(t,e,n,m,o,u,h,c)}}function Fk(t,e,n,r,o){const u=e.serverCache,c=PT(e,u.getNode(),u.isFullyInitialized()||ye(n),u.isFiltered());return FT(t,c,n,r,jT,o)}function qk(t,e,n,r,o,u){let c;if(rc(r,n)!=null)return e;{const h=new cm(r,e,o),d=e.eventCache.getNode();let m;if(ye(n)||de(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=sc(r,Ls(e));else{const y=e.serverCache.getNode();q(y instanceof oe,"serverChildren would be complete if leaf node"),g=lm(r,y)}g=g,m=t.filter.updateFullNode(d,g,u)}else{const g=de(n);let y=um(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?m=t.filter.updateChild(d,g,y,ke(n),h,u):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(d,g,oe.EMPTY_NODE,ke(n),h,u):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=sc(r,Ls(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||rc(r,Ce())!=null,vo(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new im(r.getIndex()),u=ck(r);this.processor_=Uk(u);const c=n.serverCache,h=n.eventCache,d=o.updateFullNode(oe.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),g=new ks(d,c.isFullyInitialized(),o.filtersNodes()),y=new ks(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=wc(y,g),this.eventGenerator_=new yk(this.query_)}get query(){return this.query_}}function Yk(t){return t.viewCache_.serverCache.getNode()}function Kk(t,e){const n=Ls(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function gE(t){return t.eventRegistrations_.length===0}function Wk(t,e){t.eventRegistrations_.push(e)}function yE(t,e,n){const r=[];if(n){q(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function vE(t,e,n,r){e.type===dn.MERGE&&e.source.queryId!==null&&(q(Ls(t.viewCache_),"We should always have a full cache before handling merges"),q(Qd(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Bk(t.processor_,o,e,n,r);return Vk(t.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,qT(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Xk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(u,c)=>{r.push(Vr(u,c))}),n.isFullyInitialized()&&r.push(IT(n.getNode())),qT(t,r,n.getNode(),e)}function qT(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return vk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;class Qk{constructor(){this.views=new Map}}function $k(t){q(!oc,"__referenceConstructor has already been defined"),oc=t}function Zk(){return q(oc,"Reference.ts has not been loaded"),oc}function Jk(t){return t.views.size===0}function fm(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),vE(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(vE(c,e,n,r));return u}}function eL(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=sc(n,o?r:null),d=!1;h?d=!0:r instanceof oe?(h=lm(n,r),d=!1):(h=oe.EMPTY_NODE,d=!1);const m=wc(new ks(h,d,!1),new ks(r,o,!1));return new Gk(e,m)}return c}function tL(t,e,n,r,o,u){const c=eL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Wk(c,n),Xk(c,n)}function nL(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const h=Gi(t);if(o==="default")for(const[d,m]of t.views.entries())c=c.concat(yE(m,n,r)),gE(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||u.push(m.query));else{const d=t.views.get(o);d&&(c=c.concat(yE(d,n,r)),gE(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!Gi(t)&&u.push(new(Zk())(e._repo,e._path)),{removed:u,events:c}}function GT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kr(t,e){let n=null;for(const r of t.views.values())n=n||Kk(r,e);return n}function YT(t,e){if(e._queryParams.loadsAllData())return Ac(t);{const r=e._queryIdentifier;return t.views.get(r)}}function KT(t,e){return YT(t,e)!=null}function Gi(t){return Ac(t)!=null}function Ac(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;function iL(t){q(!lc,"__referenceConstructor has already been defined"),lc=t}function sL(){return q(lc,"Reference.ts has not been loaded"),lc}let rL=1;class _E{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=Ik(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WT(t,e,n,r,o){return bk(t.pendingWriteTree_,e,n,r,o),o?nl(t,new Is(LT(),e,n)):[]}function Cs(t,e,n=!1){const r=Tk(t.pendingWriteTree_,e);if(Ck(t.pendingWriteTree_,e)){let u=new Le(null);return r.snap!=null?u=u.set(Ce(),!0):kt(r.children,c=>{u=u.set(new Me(c),!0)}),nl(t,new ic(r.path,u,n))}else return[]}function Rc(t,e,n){return nl(t,new Is(rm(),e,n))}function aL(t,e,n){const r=Le.fromObject(n);return nl(t,new Po(rm(),e,r))}function oL(t,e){return nl(t,new Lo(rm(),e))}function lL(t,e,n){const r=dm(t,n);if(r){const o=pm(r),u=o.path,c=o.queryId,h=Nt(u,e),d=new Lo(am(c),h);return mm(t,u,d)}else return[]}function tp(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||KT(c,e))){const d=nL(c,e,n,r);Jk(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const m=d.removed;if(h=d.events,!o){const g=m.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,S)=>Gi(S));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const S=fL(_);for(let b=0;b<S.length;++b){const N=S[b],O=N.query,R=$T(t,N);t.listenProvider_.startListening(Eo(O),uc(t,O),R.hashFn,R.onComplete)}}}!y&&m.length>0&&!r&&(g?t.listenProvider_.stopListening(Eo(e),null):m.forEach(_=>{const S=t.queryToTagMap.get(xc(_));t.listenProvider_.stopListening(Eo(_),S)}))}hL(t,m)}return h}function uL(t,e,n,r){const o=dm(t,r);if(o!=null){const u=pm(o),c=u.path,h=u.queryId,d=Nt(c,e),m=new Is(am(h),d,n);return mm(t,c,m)}else return[]}function cL(t,e,n,r){const o=dm(t,r);if(o){const u=pm(o),c=u.path,h=u.queryId,d=Nt(c,e),m=Le.fromObject(n),g=new Po(am(h),d,m);return mm(t,c,g)}else return[]}function EE(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,S)=>{const b=Nt(_,o);u=u||kr(S,b),c=c||Gi(S)});let h=t.syncPointTree_.get(o);h?(c=c||Gi(h),u=u||kr(h,Ce())):(h=new Qk,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=oe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,b)=>{const N=kr(b,Ce());N&&(u=u.updateImmediateChild(S,N))}));const m=KT(h,e);if(!m&&!e._queryParams.loadsAllData()){const _=xc(e);q(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=dL();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=om(t.pendingWriteTree_,o);let y=tL(h,e,n,g,u,d);if(!m&&!c&&!r){const _=YT(h,e);y=y.concat(pL(t,e,_))}return y}function hm(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Nt(c,e),m=kr(h,d);if(m)return m});return BT(o,e,u,n,!0)}function nl(t,e){return XT(e,t.syncPointTree_,null,om(t.pendingWriteTree_,Ce()))}function XT(t,e,n,r){if(ye(t.path))return QT(t,e,n,r);{const o=e.get(Ce());n==null&&o!=null&&(n=kr(o,Ce()));let u=[];const c=de(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const m=n?n.getImmediateChild(c):null,g=zT(r,c);u=u.concat(XT(h,d,m,g))}return o&&(u=u.concat(fm(o,t,r,n))),u}}function QT(t,e,n,r){const o=e.get(Ce());n==null&&o!=null&&(n=kr(o,Ce()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,m=zT(r,c),g=t.operationForChild(c);g&&(u=u.concat(QT(g,h,d,m)))}),o&&(u=u.concat(fm(o,t,r,n))),u}function $T(t,e){const n=e.query,r=uc(t,n);return{hashFn:()=>(Yk(e)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?lL(t,n._path,r):oL(t,n._path);{const u=uI(o,n);return tp(t,n,null,u)}}}}function uc(t,e){const n=xc(e);return t.queryToTagMap.get(n)}function xc(t){return t._path.toString()+"$"+t._queryIdentifier}function dm(t,e){return t.tagToQueryMap.get(e)}function pm(t){const e=t.indexOf("$");return q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Me(t.substr(0,e))}}function mm(t,e,n){const r=t.syncPointTree_.get(e);q(r,"Missing sync point for query tag that we're tracking");const o=om(t.pendingWriteTree_,e);return fm(r,n,o,null)}function fL(t){return t.fold((e,n,r)=>{if(n&&Gi(n))return[Ac(n)];{let o=[];return n&&(o=GT(n)),kt(r,(u,c)=>{o=o.concat(c)}),o}})}function Eo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sL())(t._repo,t._path):t}function hL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=xc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function dL(){return rL++}function pL(t,e,n){const r=e._path,o=uc(t,e),u=$T(t,n),c=t.listenProvider_.startListening(Eo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)q(!Gi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,g,y)=>{if(!ye(m)&&g&&Gi(g))return[Ac(g).query];{let _=[];return g&&(_=_.concat(GT(g).map(S=>S.query))),kt(y,(S,b)=>{_=_.concat(b)}),_}});for(let m=0;m<d.length;++m){const g=d[m];t.listenProvider_.stopListening(Eo(g),uc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gm(n)}node(){return this.node_}}class ym{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new ym(this.syncTree_,n)}node(){return hm(this.syncTree_,this.path_)}}const mL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SE=function(t,e,n){if(!t||typeof t!="object")return t;if(q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yL(t[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+t)}},yL=function(t,e,n){t.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const o=e.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},vL=function(t,e,n,r){return vm(e,new ym(n,t),r)},ZT=function(t,e,n){return vm(t,new gm(e),n)};function vm(t,e,n){const r=t.getPriority().val(),o=SE(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,h=SE(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new at(h,pt(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new at(o))),c.forEachChild(Ge,(h,d)=>{const m=vm(d,e.getImmediateChild(h),n);m!==d&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Em(t,e){let n=e instanceof Me?e:new Me(e),r=t,o=de(n);for(;o!==null;){const u=Lr(r.node.children,o)||{children:{},childCount:0};r=new _m(o,r,u),n=ke(n),o=de(n)}return r}function Jr(t){return t.node.value}function JT(t,e){t.node.value=e,np(t)}function eC(t){return t.node.childCount>0}function _L(t){return Jr(t)===void 0&&!eC(t)}function Dc(t,e){kt(t.node.children,(n,r)=>{e(new _m(n,t,r))})}function tC(t,e,n,r){n&&e(t),Dc(t,o=>{tC(o,e,!0)})}function EL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function il(t){return new Me(t.parent===null?t.name:il(t.parent)+"/"+t.name)}function np(t){t.parent!==null&&SL(t.parent,t.name,t)}function SL(t,e,n){const r=_L(n),o=oi(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,np(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,np(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/[\[\].#$\/\u0000-\u001F\u007F]/,TL=/[\[\].#$\u0000-\u001F\u007F]/,_d=10*1024*1024,nC=function(t){return typeof t=="string"&&t.length!==0&&!bL.test(t)},iC=function(t){return typeof t=="string"&&t.length!==0&&!TL.test(t)},CL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iC(t)},sC=function(t,e,n,r){r&&e===void 0||Sm(Lp(t,"value"),e,n)},Sm=function(t,e,n){const r=n instanceof Me?new jI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Es(r));if(typeof e=="function")throw new Error(t+"contains a function "+Es(r)+" with contents = "+e.toString());if(iT(e))throw new Error(t+"contains "+e.toString()+" "+Es(r));if(typeof e=="string"&&e.length>_d/3&&Ec(e)>_d)throw new Error(t+"contains a string greater than "+_d+" utf8 bytes "+Es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(kt(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!nC(c)))throw new Error(t+" contains an invalid key ("+c+") "+Es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FI(r,c),Sm(t,h,r),qI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Es(r)+" in addition to actual children.")}},rC=function(t,e,n,r){if(!iC(n))throw new Error(Lp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rC(t,e,n)},aC=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},AL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CL(n))throw new Error(Lp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bm(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!em(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function oC(t,e,n){bm(t,n),lC(t,r=>em(r,e))}function si(t,e,n){bm(t,n),lC(t,r=>hn(r,e)||hn(e,r))}function lC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(xL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();go&&_t("event: "+n.toString()),Zr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="repo_interrupt",NL=25;class OL{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nc(),this.transactionQueueTree_=new _m,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ML(t,e,n){if(t.stats_=Zp(t.repoInfo_),t.forceRestClient_||dI())t.server_=new tc(t.repoInfo_,(r,o,u,c)=>{bE(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>TE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zn(t.repoInfo_,e,(r,o,u,c)=>{bE(t,r,o,u,c)},r=>{TE(t,r)},r=>{IL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vI(t.repoInfo_,()=>new gk(t.stats_,t.server_)),t.infoData_=new fk,t.infoSyncTree_=new _E({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=Rc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Cm(t,"connected",!1),t.serverSyncTree_=new _E({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const m=c(h,d);si(t.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function uC(t){const n=t.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tm(t){return mL({timestamp:uC(t)})}function bE(t,e,n,r,o){t.dataUpdateCount++;const u=new Me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const d=qu(n,m=>pt(m));c=cL(t.serverSyncTree_,u,d,o)}else{const d=pt(n);c=uL(t.serverSyncTree_,u,d,o)}else if(r){const d=qu(n,m=>pt(m));c=aL(t.serverSyncTree_,u,d)}else{const d=pt(n);c=Rc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=Nc(t,u)),si(t.eventQueue_,h,c)}function TE(t,e){Cm(t,"connected",e),e===!1&&LL(t)}function IL(t,e){kt(e,(n,r)=>{Cm(t,n,r)})}function Cm(t,e,n){const r=new Me("/.info/"+e),o=pt(n);t.infoData_.updateSnapshot(r,o);const u=Rc(t.infoSyncTree_,r,o);si(t.eventQueue_,r,u)}function cC(t){return t.nextWriteId_++}function kL(t,e,n,r,o){wm(t,"set",{path:e.toString(),value:n,priority:r});const u=Tm(t),c=pt(n,r),h=hm(t.serverSyncTree_,e),d=ZT(c,h,u),m=cC(t),g=WT(t.serverSyncTree_,e,d,m,!0);bm(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,S)=>{const b=_==="ok";b||It("set at "+e+" failed: "+_);const N=Cs(t.serverSyncTree_,m,!b);si(t.eventQueue_,e,N),BL(t,o,_,S)});const y=mC(t,e);Nc(t,y),si(t.eventQueue_,y,[])}function LL(t){wm(t,"onDisconnectEvents");const e=Tm(t),n=nc();Xd(t.onDisconnect_,Ce(),(o,u)=>{const c=vL(o,u,t.serverSyncTree_,e);kT(n,o,c)});let r=[];Xd(n,Ce(),(o,u)=>{r=r.concat(Rc(t.serverSyncTree_,o,u));const c=mC(t,o);Nc(t,c)}),t.onDisconnect_=nc(),si(t.eventQueue_,Ce(),r)}function PL(t,e,n){let r;de(e._path)===".info"?r=EE(t.infoSyncTree_,e,n):r=EE(t.serverSyncTree_,e,n),oC(t.eventQueue_,e._path,r)}function UL(t,e,n){let r;de(e._path)===".info"?r=tp(t.infoSyncTree_,e,n):r=tp(t.serverSyncTree_,e,n),oC(t.eventQueue_,e._path,r)}function VL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(DL)}function wm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_t(n,...e)}function BL(t,e,n,r){e&&Zr(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function fC(t,e,n){return hm(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function Am(t,e=t.transactionQueueTree_){if(e||Oc(t,e),Jr(e)){const n=dC(t,e);q(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&zL(t,il(e),n)}else eC(e)&&Dc(e,n=>{Am(t,n)})}function zL(t,e,n){const r=n.map(m=>m.currentWriteId),o=fC(t,e,r);let u=o;const c=o.hash();for(let m=0;m<n.length;m++){const g=n[m];q(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Nt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,m=>{wm(t,"transaction put response",{path:d.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Cs(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Oc(t,Em(t.transactionQueueTree_,e)),Am(t,t.transactionQueueTree_),si(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)Zr(y[_])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{It("transaction at "+d.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Nc(t,e)}},c)}function Nc(t,e){const n=hC(t,e),r=il(n),o=dC(t,n);return HL(t,o,r),r}function HL(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=Nt(n,d.path);let g=!1,y;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat(Cs(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=NL)g=!0,y="maxretry",o=o.concat(Cs(t.serverSyncTree_,d.currentWriteId,!0));else{const _=fC(t,d.path,c);d.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){Sm("transaction failed: Data returned ",S,d.path);let b=pt(S);typeof S=="object"&&S!=null&&oi(S,".priority")||(b=b.updatePriority(_.getPriority()));const O=d.currentWriteId,R=Tm(t),V=ZT(b,_,R);d.currentOutputSnapshotRaw=b,d.currentOutputSnapshotResolved=V,d.currentWriteId=cC(t),c.splice(c.indexOf(O),1),o=o.concat(WT(t.serverSyncTree_,d.path,V,d.currentWriteId,d.applyLocally)),o=o.concat(Cs(t.serverSyncTree_,O,!0))}else g=!0,y="nodata",o=o.concat(Cs(t.serverSyncTree_,d.currentWriteId,!0))}si(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Oc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Zr(r[h]);Am(t,t.transactionQueueTree_)}function hC(t,e){let n,r=t.transactionQueueTree_;for(n=de(e);n!==null&&Jr(r)===void 0;)r=Em(r,n),e=ke(e),n=de(e);return r}function dC(t,e){const n=[];return pC(t,e,n),n.sort((r,o)=>r.order-o.order),n}function pC(t,e,n){const r=Jr(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Dc(e,o=>{pC(t,o,n)})}function Oc(t,e){const n=Jr(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,JT(e,n.length>0?n:void 0)}Dc(e,r=>{Oc(t,r)})}function mC(t,e){const n=il(hC(t,e)),r=Em(t.transactionQueueTree_,e);return EL(r,o=>{Ed(t,o)}),Ed(t,r),tC(r,o=>{Ed(t,o)}),n}function Ed(t,e){const n=Jr(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(q(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(q(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(Cs(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?JT(e,void 0):n.length=u+1,si(t.eventQueue_,il(e),o);for(let c=0;c<r.length;c++)Zr(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function FL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const CE=function(t,e){const n=qL(t),r=n.namespace;n.domain==="firebase.com"&&ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Me(n.pathString)}},qL=function(t){let e="",n="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=jL(t.substring(g,y)));const _=FL(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",GL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=wE.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=wE.charAt(e[o]);return q(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class yC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return ye(this._path)?null:CT(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const e=lE(this._queryParams),n=Qp(e);return n==="{}"?"default":n}get _queryObject(){return lE(this._queryParams)}isEqual(e){if(e=Ct(e),!(e instanceof Rm))return!1;const n=this._repo===e._repo,r=em(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+HI(this._path)}}class li extends Rm{constructor(e,n){super(e,n,new sm,!1)}get parent(){const e=AT(this._path);return e===null?null:new li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Me(e),r=zr(this.ref,e);return new Uo(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Uo(o,zr(this.ref,r),Ge)))}hasChild(e){const n=new Me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cc(t,e){return t=Ct(t),t._checkNotDeleted("ref"),e!==void 0?zr(t._root,e):t._root}function zr(t,e){return t=Ct(t),de(t._path)===null?wL("child","path",e):rC("child","path",e),new li(t._repo,tt(t._path,e))}function KL(t,e){t=Ct(t),aC("push",t._path),sC("push",e,t._path,!0);const n=uC(t._repo),r=GL(n),o=zr(t,r),u=zr(t,r);let c;return e!=null?c=vC(u,e).then(()=>u):c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function vC(t,e){t=Ct(t),aC("set",t._path),sC("set",e,t._path,!1);const n=new _c;return kL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class xm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gC("value",this,new Uo(e.snapshotNode,new li(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yC(this,e,n):null}matches(e){return e instanceof xm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Dm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yC(this,e,n):null}createEvent(e,n){q(e.childName!=null,"Child events should have a childName.");const r=zr(new li(n._repo,n._path),e.childName),o=n._queryParams.getIndex();return new gC(e.type,this,new Uo(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Dm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function _C(t,e,n,r,o){const u=new YL(n,void 0),c=e==="value"?new xm(u):new Dm(e,u);return PL(t._repo,t,c),()=>UL(t._repo,t,c)}function WL(t,e,n,r){return _C(t,"value",e)}function XL(t,e,n,r){return _C(t,"child_added",e)}$k(li);iL(li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="FIREBASE_DATABASE_EMULATOR_HOST",ip={};let $L=!1;function ZL(t,e,n,r){t.repoInfo_=new mT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function JL(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=CE(u,o),h=c.repoInfo,d;typeof process<"u"&&q0&&(d=q0[QL]),d?(u=`http://${d}?ns=${h.namespace}`,c=CE(u,o),h=c.repoInfo):c.repoInfo.secure;const m=new mI(t.name,t.options,e);AL("Invalid Firebase Database URL",c),ye(c.path)||ii("Database URL must point to the root of a Firebase Database (not including a child path).");const g=tP(h,t,m,new pI(t,n));return new nP(g,t)}function eP(t,e){const n=ip[e];(!n||n[t.key]!==t)&&ii(`Database ${e}(${t.repoInfo_}) has already been deleted.`),VL(t),delete n[t.key]}function tP(t,e,n,r){let o=ip[e.name];o||(o={},ip[e.name]=o);let u=o[t.toURLString()];return u&&ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new OL(t,$L,n,r),o[t.toURLString()]=u,u}class nP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ML(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ii("Cannot call "+e+" on a deleted database.")}}function fc(t=vb(),e){const n=Vp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=lD("database");r&&iP(n,...r)}return n}function iP(t,e,n,r={}){t=Ct(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&xs(r,u.repoInfo_.emulatorOptions))return;ii("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Uu(Uu.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:uD(r.mockUserToken,t.app.options.projectId);c=new Uu(h)}ZL(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){ZM(Xr),Pr(new Ds("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return JL(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),Hi(G0,Y0,t),Hi(G0,Y0,"esm2017")}Zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sP();var rP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const EC=yb(rP),Fi=WM(EC);fc(EC);var Sd={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function aP(){if(AE)return oo;AE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return oo.Fragment=e,oo.jsx=n,oo.jsxs=n,oo}var RE;function oP(){return RE||(RE=1,Sd.exports=aP()),Sd.exports}var Jn=oP();const Nm=w.createContext({});function Om(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mm=typeof window<"u",SC=Mm?w.useLayoutEffect:w.useEffect,Mc=w.createContext(null),Im=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lP extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uP({children:t,isPresent:e,anchorX:n}){const r=w.useId(),o=w.useRef(null),u=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(Im);return w.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),Jn.jsx(lP,{isPresent:e,childRef:o,sizeRef:u,children:w.cloneElement(t,{ref:o})})}const cP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=Om(fP),m=w.useId();let g=!0,y=w.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:_=>{d.set(_,!0);for(const S of d.values())if(!S)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return u&&g&&(y={...y}),w.useMemo(()=>{d.forEach((_,S)=>d.set(S,!1))},[n]),w.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=Jn.jsx(uP,{isPresent:n,anchorX:h,children:t})),Jn.jsx(Mc.Provider,{value:y,children:t})};function fP(){return new Map}function bC(t=!0){const e=w.useContext(Mc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=w.useId();w.useEffect(()=>{if(t)return o(u)},[t]);const c=w.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const Ru=t=>t.key||"";function xE(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const hP=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,m]=bC(c),g=w.useMemo(()=>xE(t),[t]),y=c&&!d?[]:g.map(Ru),_=w.useRef(!0),S=w.useRef(g),b=Om(()=>new Map),[N,O]=w.useState(g),[R,V]=w.useState(g);SC(()=>{_.current=!1,S.current=g;for(let H=0;H<R.length;H++){const W=Ru(R[H]);y.includes(W)?b.delete(W):b.get(W)!==!0&&b.set(W,!1)}},[R,y.length,y.join("-")]);const k=[];if(g!==N){let H=[...g];for(let W=0;W<R.length;W++){const ee=R[W],Q=Ru(ee);y.includes(Q)||(H.splice(W,0,ee),k.push(ee))}return u==="wait"&&k.length&&(H=k),V(xE(H)),O(g),null}const{forceRender:G}=w.useContext(Nm);return Jn.jsx(Jn.Fragment,{children:R.map(H=>{const W=Ru(H),ee=c&&!d?!1:g===R||y.includes(W),Q=()=>{if(b.has(W))b.set(W,!0);else return;let le=!0;b.forEach(_e=>{_e||(le=!1)}),le&&(G==null||G(),V(S.current),c&&(m==null||m()),r&&r())};return Jn.jsx(cP,{isPresent:ee,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:ee?void 0:Q,anchorX:h,children:H},W)})})};function km(t,e){t.indexOf(e)===-1&&t.push(e)}function Lm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ri=(t,e,n)=>n>e?e:n<t?t:n;let Pm=()=>{};const ai={},TC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),CC=t=>/^0[^.\s]+$/u.test(t);function Um(t){let e;return()=>(e===void 0&&(e=t()),e)}const sn=t=>t,dP=(t,e)=>n=>e(t(n)),sl=(...t)=>t.reduce(dP),Vo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Vm{constructor(){this.subscriptions=[]}add(e){return km(this.subscriptions,e),()=>Lm(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const An=t=>t*1e3,Rn=t=>t/1e3;function wC(t,e){return e?t*(1e3/e):0}const AC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pP=1e-7,mP=12;function gP(t,e,n,r,o){let u,c,h=0;do c=e+(n-e)/2,u=AC(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>pP&&++h<mP);return c}function rl(t,e,n,r){if(t===e&&n===r)return sn;const o=u=>gP(u,0,1,t,n);return u=>u===0||u===1?u:AC(o(u),e,r)}const RC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xC=t=>e=>1-t(1-e),DC=rl(.33,1.53,.69,.99),Bm=xC(DC),NC=RC(Bm),OC=t=>(t*=2)<1?.5*Bm(t):.5*(2-Math.pow(2,-10*(t-1))),zm=t=>1-Math.sin(Math.acos(t)),MC=xC(zm),IC=RC(zm),yP=rl(.42,0,1,1),vP=rl(0,0,.58,1),kC=rl(.42,0,.58,1),_P=t=>Array.isArray(t)&&typeof t[0]!="number",LC=t=>Array.isArray(t)&&typeof t[0]=="number",EP={linear:sn,easeIn:yP,easeInOut:kC,easeOut:vP,circIn:zm,circInOut:IC,circOut:MC,backIn:Bm,backInOut:NC,backOut:DC,anticipate:OC},SP=t=>typeof t=="string",DE=t=>{if(LC(t)){Pm(t.length===4);const[e,n,r,o]=t;return rl(e,n,r,o)}else if(SP(t))return EP[t];return t},xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],NE={value:null};function bP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function m(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,S=!1)=>{const N=S&&o?n:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),e&&NE.value&&NE.value.frameloop[e].push(d),d=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const TP=40;function PC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=xu.reduce((k,G)=>(k[G]=bP(u,e?G:void 0),k),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:y,preRender:_,render:S,postRender:b}=c,N=()=>{const k=ai.useManualTiming?o.timestamp:performance.now();n=!1,ai.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(k-o.timestamp,TP),1)),o.timestamp=k,o.isProcessing=!0,h.process(o),d.process(o),m.process(o),g.process(o),y.process(o),_.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(N))},O=()=>{n=!0,r=!0,o.isProcessing||t(N)};return{schedule:xu.reduce((k,G)=>{const H=c[G];return k[G]=(W,ee=!1,Q=!1)=>(n||O(),H.schedule(W,ee,Q)),k},{}),cancel:k=>{for(let G=0;G<xu.length;G++)c[xu[G]].cancel(k)},state:o,steps:c}}const{schedule:He,cancel:Yi,state:dt,steps:bd}=PC(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let Vu;function CP(){Vu=void 0}const Mt={now:()=>(Vu===void 0&&Mt.set(dt.isProcessing||ai.useManualTiming?dt.timestamp:performance.now()),Vu),set:t=>{Vu=t,queueMicrotask(CP)}},UC=t=>e=>typeof e=="string"&&e.startsWith(t),Hm=UC("--"),wP=UC("var(--"),jm=t=>wP(t)?AP.test(t.split("/*")[0].trim()):!1,AP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ea={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bo={...ea,transform:t=>ri(0,1,t)},Du={...ea,default:1},So=t=>Math.round(t*1e5)/1e5,Fm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RP(t){return t==null}const xP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qm=(t,e)=>n=>!!(typeof n=="string"&&xP.test(n)&&n.startsWith(t)||e&&!RP(n)&&Object.prototype.hasOwnProperty.call(n,e)),VC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(Fm);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},DP=t=>ri(0,255,t),Td={...ea,transform:t=>Math.round(DP(t))},ws={test:qm("rgb","red"),parse:VC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Td.transform(t)+", "+Td.transform(e)+", "+Td.transform(n)+", "+So(Bo.transform(r))+")"};function NP(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const sp={test:qm("#"),parse:NP,transform:ws.transform},al=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=al("deg"),xn=al("%"),ae=al("px"),OP=al("vh"),MP=al("vw"),OE={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},Cr={test:qm("hsl","hue"),parse:VC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform(So(e))+", "+xn.transform(So(n))+", "+So(Bo.transform(r))+")"},vt={test:t=>ws.test(t)||sp.test(t)||Cr.test(t),parse:t=>ws.test(t)?ws.parse(t):Cr.test(t)?Cr.parse(t):sp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ws.transform(t):Cr.transform(t)},IP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Fm))==null?void 0:e.length)||0)+(((n=t.match(IP))==null?void 0:n.length)||0)>0}const BC="number",zC="color",LP="var",PP="var(",ME="${}",UP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(UP,d=>(vt.test(d)?(r.color.push(u),o.push(zC),n.push(vt.parse(d))):d.startsWith(PP)?(r.var.push(u),o.push(LP),n.push(d)):(r.number.push(u),o.push(BC),n.push(parseFloat(d))),++u,ME)).split(ME);return{values:n,split:h,indexes:r,types:o}}function HC(t){return zo(t).values}function jC(t){const{split:e,types:n}=zo(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=n[c];h===BC?u+=So(o[c]):h===zC?u+=vt.transform(o[c]):u+=o[c]}return u}}const VP=t=>typeof t=="number"?0:t;function BP(t){const e=HC(t);return jC(t)(e.map(VP))}const Ki={test:kP,parse:HC,createTransformer:jC,getAnimatableNone:BP};function Cd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=Cd(d,h,t+1/3),u=Cd(d,h,t),c=Cd(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function hc(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,wd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},HP=[sp,ws,Cr],jP=t=>HP.find(e=>e.test(t));function IE(t){const e=jP(t);if(!e)return!1;let n=e.parse(t);return e===Cr&&(n=zP(n)),n}const kE=(t,e)=>{const n=IE(t),r=IE(e);if(!n||!r)return hc(t,e);const o={...n};return u=>(o.red=wd(n.red,r.red,u),o.green=wd(n.green,r.green,u),o.blue=wd(n.blue,r.blue,u),o.alpha=ze(n.alpha,r.alpha,u),ws.transform(o))},rp=new Set(["none","hidden"]);function FP(t,e){return rp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qP(t,e){return n=>ze(t,e,n)}function Gm(t){return typeof t=="number"?qP:typeof t=="string"?jm(t)?hc:vt.test(t)?kE:KP:Array.isArray(t)?FC:typeof t=="object"?vt.test(t)?kE:GP:hc}function FC(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>Gm(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function GP(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Gm(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function YP(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;n[o]=h,r[u]++}return n}const KP=(t,e)=>{const n=Ki.createTransformer(e),r=zo(t),o=zo(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?rp.has(t)&&!o.values.length||rp.has(e)&&!r.values.length?FP(t,e):sl(FC(YP(r,o),o.values),n):hc(t,e)};function qC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):Gm(t)(t,e)}const WP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>He.update(e,!0),stop:()=>Yi(e),now:()=>dt.isProcessing?dt.timestamp:Mt.now()}},GC=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},dc=2e4;function Ym(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dc;)e+=n,r=t.next(e);return e>=dc?1/0:e}function XP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Ym(r),dc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Rn(o)}}const QP=5;function YC(t,e,n){const r=Math.max(e-QP,0);return wC(n-t(r),e-r)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LE=.001;function $P({duration:t=qe.duration,bounce:e=qe.bounce,velocity:n=qe.velocity,mass:r=qe.mass}){let o,u,c=1-e;c=ri(qe.minDamping,qe.maxDamping,c),t=ri(qe.minDuration,qe.maxDuration,Rn(t)),c<1?(o=m=>{const g=m*c,y=g*t,_=g-n,S=ap(m,c),b=Math.exp(-y);return LE-_/S*b},u=m=>{const y=m*c*t,_=y*n+n,S=Math.pow(c,2)*Math.pow(m,2)*t,b=Math.exp(-y),N=ap(Math.pow(m,2),c);return(-o(m)+LE>0?-1:1)*((_-S)*b)/N}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},u=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const h=5/t,d=JP(o,u,h);if(t=An(t),isNaN(d))return{stiffness:qe.stiffness,damping:qe.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const ZP=12;function JP(t,e,n){let r=n;for(let o=1;o<ZP;o++)r=r-t(r)/e(r);return r}function ap(t,e){return t*Math.sqrt(1-e*e)}const e2=["duration","bounce"],t2=["stiffness","damping","mass"];function PE(t,e){return e.some(n=>t[n]!==void 0)}function n2(t){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...t};if(!PE(t,t2)&&PE(t,e2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*ri(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:qe.mass,stiffness:o,damping:u}}else{const n=$P(t);e={...e,...n,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function pc(t=qe.visualDuration,e=qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:m,mass:g,duration:y,velocity:_,isResolvedFromDuration:S}=n2({...n,velocity:-Rn(n.velocity||0)}),b=_||0,N=m/(2*Math.sqrt(d*g)),O=c-u,R=Rn(Math.sqrt(d/g)),V=Math.abs(O)<5;r||(r=V?qe.restSpeed.granular:qe.restSpeed.default),o||(o=V?qe.restDelta.granular:qe.restDelta.default);let k;if(N<1){const H=ap(R,N);k=W=>{const ee=Math.exp(-N*R*W);return c-ee*((b+N*R*O)/H*Math.sin(H*W)+O*Math.cos(H*W))}}else if(N===1)k=H=>c-Math.exp(-R*H)*(O+(b+R*O)*H);else{const H=R*Math.sqrt(N*N-1);k=W=>{const ee=Math.exp(-N*R*W),Q=Math.min(H*W,300);return c-ee*((b+N*R*O)*Math.sinh(Q)+H*O*Math.cosh(Q))/H}}const G={calculatedDuration:S&&y||null,next:H=>{const W=k(H);if(S)h.done=H>=y;else{let ee=H===0?b:0;N<1&&(ee=H===0?An(b):YC(k,H,W));const Q=Math.abs(ee)<=r,le=Math.abs(c-W)<=o;h.done=Q&&le}return h.value=h.done?c:W,h},toString:()=>{const H=Math.min(Ym(G),dc),W=GC(ee=>G.next(H*ee).value,H,30);return H+"ms "+W},toTransition:()=>{}};return G}pc.applyToOptions=t=>{const e=XP(t,100,pc);return t.ease=e.ease,t.duration=An(e.duration),t.type="keyframes",t};function op({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},S=Q=>h!==void 0&&Q<h||d!==void 0&&Q>d,b=Q=>h===void 0?d:d===void 0||Math.abs(h-Q)<Math.abs(d-Q)?h:d;let N=n*e;const O=y+N,R=c===void 0?O:c(O);R!==O&&(N=R-y);const V=Q=>-N*Math.exp(-Q/r),k=Q=>R+V(Q),G=Q=>{const le=V(Q),_e=k(Q);_.done=Math.abs(le)<=m,_.value=_.done?R:_e};let H,W;const ee=Q=>{S(_.value)&&(H=Q,W=pc({keyframes:[_.value,b(_.value)],velocity:YC(k,Q,_.value),damping:o,stiffness:u,restDelta:m,restSpeed:g}))};return ee(0),{calculatedDuration:null,next:Q=>{let le=!1;return!W&&H===void 0&&(le=!0,G(Q),ee(Q)),H!==void 0&&Q>=H?W.next(Q-H):(!le&&G(Q),_)}}}function i2(t,e,n){const r=[],o=n||ai.mix||qC,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||sn:e;h=sl(d,h)}r.push(h)}return r}function s2(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(Pm(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=i2(e,r,o),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Vo(t[y],t[y+1],g);return h[y](_)};return n?g=>m(ri(t[0],t[u-1],g)):m}function r2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Vo(0,e,r);t.push(ze(n,1,o))}}function a2(t){const e=[0];return r2(e,t.length-1),e}function o2(t,e){return t.map(n=>n*e)}function l2(t,e){return t.map(()=>e||kC).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=_P(r)?r.map(DE):DE(r),u={done:!1,value:e[0]},c=o2(n&&n.length===e.length?n:a2(e),t),h=s2(c,e,{ease:Array.isArray(o)?o:l2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const u2=t=>t!==null;function Km(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(u2),h=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const c2={decay:op,inertia:op,tween:bo,keyframes:bo,spring:pc};function KC(t){typeof t.type=="string"&&(t.type=c2[t.type])}class Wm{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const f2=t=>t/100;class WC extends Wm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KC(e);const{type:n=bo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=n||bo;d!==bo&&typeof h[0]!="number"&&(this.mixKeyframes=sl(f2,qC(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Ym(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:S,type:b,onUpdate:N,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-m*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?R<0:R>o;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,G=r;if(y){const Q=Math.min(this.currentTime,o)/h;let le=Math.floor(Q),_e=Q%1;!_e&&Q>=1&&(_e=1),_e===1&&le--,le=Math.min(le,y+1),!!(le%2)&&(_==="reverse"?(_e=1-_e,S&&(_e-=S/h)):_==="mirror"&&(G=c)),k=ri(0,1,_e)*h}const H=V?{done:!1,value:g[0]}:G.next(k);u&&(H.value=u(H.value));let{done:W}=H;!V&&d!==null&&(W=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const ee=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return ee&&b!==op&&(H.value=Km(g,this.options,O,this.speed)),N&&N(H.value),ee&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Rn(this.calculatedDuration)}get time(){return Rn(this.currentTime)}set time(e){e=An(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=WP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function h2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const As=t=>t*180/Math.PI,lp=t=>{const e=As(Math.atan2(t[1],t[0]));return up(e)},d2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lp,rotateZ:lp,skewX:t=>As(Math.atan(t[1])),skewY:t=>As(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},up=t=>(t=t%360,t<0&&(t+=360),t),UE=lp,VE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),BE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),p2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VE,scaleY:BE,scale:t=>(VE(t)+BE(t))/2,rotateX:t=>up(As(Math.atan2(t[6],t[5]))),rotateY:t=>up(As(Math.atan2(-t[2],t[0]))),rotateZ:UE,rotate:UE,skewX:t=>As(Math.atan(t[4])),skewY:t=>As(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zE(t){return t.includes("scale")?1:0}function cp(t,e){if(!t||t==="none")return zE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=p2,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=d2,o=h}if(!o)return zE(e);const u=r[e],c=o[1].split(",").map(g2);return typeof u=="function"?u(c):c[u]}const m2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cp(n,e)};function g2(t){return parseFloat(t.trim())}const ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(ta),HE=t=>t===ea||t===ae,y2=new Set(["x","y","z"]),v2=ta.filter(t=>!y2.has(t));function _2(t){const e=[];return v2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Hr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cp(e,"x"),y:(t,{transform:e})=>cp(e,"y")};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const Rs=new Set;let fp=!1,hp=!1,dp=!1;function XC(){if(hp){const t=Array.from(Rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=_2(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hp=!1,fp=!1,Rs.forEach(t=>t.complete(dp)),Rs.clear()}function QC(){Rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hp=!0)})}function E2(){dp=!0,QC(),XC(),dp=!1}class Xm{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rs.add(this),fp||(fp=!0,He.read(QC),He.resolveKeyframes(XC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}h2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const S2=t=>t.startsWith("--");function b2(t,e,n){S2(e)?t.style.setProperty(e,n):t.style[e]=n}const T2=Um(()=>window.ScrollTimeline!==void 0),C2={};function w2(t,e){const n=Um(t);return()=>C2[e]??n()}const $C=w2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ho([0,.65,.55,1]),circOut:ho([.55,0,1,.45]),backIn:ho([.31,.01,.66,-.59]),backOut:ho([.33,1.53,.69,.99])};function ZC(t,e){if(t)return typeof t=="function"?$C()?GC(t,e):"ease-out":LC(t)?ho(t):Array.isArray(t)?t.map(n=>ZC(n,e)||jE.easeOut):jE[t]}function A2(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const y=ZC(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function JC(t){return typeof t=="function"&&"applyToOptions"in t}function R2({type:t,...e}){return JC(t)&&$C()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class x2 extends Wm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Pm(typeof e.type!="string");const m=R2(e);this.animation=A2(n,r,o,m,u),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Km(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):b2(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Rn(Number(e))}get time(){return Rn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=An(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&T2()?(this.animation.timeline=e,sn):n(this)}}const ew={anticipate:OC,backInOut:NC,circInOut:IC};function D2(t){return t in ew}function N2(t){typeof t.ease=="string"&&D2(t.ease)&&(t.ease=ew[t.ease])}const FE=10;class O2 extends x2{constructor(e){N2(e),KC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new WC({...c,autoplay:!1}),d=An(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-FE).value,h.sample(d).value,FE),h.stop()}}const qE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ki.test(t)||t==="0")&&!t.startsWith("url("));function M2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function I2(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=qE(o,e),h=qE(u,e);return!c||!h?!1:M2(t)||(n==="spring"||JC(n))&&r}const k2=new Set(["opacity","clipPath","filter","transform"]),L2=Um(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P2(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return L2()&&n&&k2.has(n)&&(n!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const U2=40;class V2 extends Wm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...y}){var b;super(),this.stop=()=>{var N,O;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=Mt.now();const _={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:m,element:g,...y},S=(g==null?void 0:g.KeyframeResolver)||Xm;this.keyframeResolver=new S(h,(N,O,R)=>this.onKeyframesResolved(N,O,_,!R),d,m,g),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Mt.now(),I2(e,u,c,h)||((ai.instantAnimations||!d)&&(g==null||g(Km(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>U2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&P2(_)?new O2({..._,element:_.motionValue.owner.current}):new WC(_);S.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||E2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const B2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z2(t){const e=B2.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function tw(t,e,n=1){const[r,o]=z2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return TC(c)?parseFloat(c):c}return jm(o)?tw(o,e,n+1):o}function Qm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const nw=new Set(["width","height","top","left","right","bottom",...ta]),H2={test:t=>t==="auto",parse:t=>t},iw=t=>e=>e.test(t),sw=[ea,ae,xn,Li,MP,OP,H2],GE=t=>sw.find(iw(t));function j2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CC(t):!0}const F2=new Set(["brightness","contrast","saturate","opacity"]);function q2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Fm)||[];if(!r)return t;const o=n.replace(r,"");let u=F2.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const G2=/\b([a-z-]*)\(.*?\)/gu,pp={...Ki,getAnimatableNone:t=>{const e=t.match(G2);return e?e.map(q2).join(" "):t}},YE={...ea,transform:Math.round},Y2={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Du,scaleX:Du,scaleY:Du,scaleZ:Du,skew:Li,skewX:Li,skewY:Li,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Bo,originX:OE,originY:OE,originZ:ae},$m={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...Y2,zIndex:YE,fillOpacity:Bo,strokeOpacity:Bo,numOctaves:YE},K2={...$m,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:pp,WebkitFilter:pp},rw=t=>K2[t];function aw(t,e){let n=rw(t);return n!==pp&&(n=Ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const W2=new Set(["auto","none","0"]);function X2(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!W2.has(u)&&zo(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=aw(n,o)}class Q2 extends Xm{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),jm(m))){const g=tw(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!nw.has(r)||e.length!==2)return;const[o,u]=e,c=GE(o),h=GE(u);if(c!==h)if(HE(c)&&HE(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||j2(e[o]))&&r.push(o);r.length&&X2(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Hr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function $2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:Zm}=PC(queueMicrotask,!1),un={x:!1,y:!1};function ow(){return un.x||un.y}function Z2(t){return t==="x"||t==="y"?un[t]?null:(un[t]=!0,()=>{un[t]=!1}):un.x||un.y?null:(un.x=un.y=!0,()=>{un.x=un.y=!1})}function lw(t,e){const n=$2(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function KE(t){return!(t.pointerType==="touch"||ow())}function J2(t,e,n={}){const[r,o,u]=lw(t,n),c=h=>{if(!KE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=y=>{KE(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const uw=(t,e)=>e?t===e?!0:uw(t,e.parentElement):!1,Jm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tU(t){return eU.has(t.tagName)||t.tabIndex!==-1}const po=new WeakSet;function WE(t){return e=>{e.key==="Enter"&&t(e)}}function Ad(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=WE(()=>{if(po.has(n))return;Ad(n,"down");const o=WE(()=>{Ad(n,"up")}),u=()=>Ad(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XE(t){return Jm(t)&&!ow()}function iU(t,e,n={}){const[r,o,u]=lw(t,n),c=h=>{const d=h.currentTarget;if(!XE(h)||po.has(d))return;po.add(d);const m=e(d,h),g=(S,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!XE(S)||!po.has(d))&&(po.delete(d),typeof m=="function"&&m(S,{success:b}))},y=S=>{g(S,d===window||d===document||n.useGlobalTarget||uw(d,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",m=>nU(m,o)),!tU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const QE=30,sU=t=>!isNaN(parseFloat(t));class rU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Mt.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vm);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QE);return wC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(t,e){return new rU(t,e)}const aU=[...sw,vt,Ki],oU=t=>aU.find(iw(t)),cw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fw=w.createContext({strict:!1}),$E={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jr={};for(const t in $E)jr[t]={isEnabled:e=>$E[t].some(n=>!!e[n])};function lU(t){for(const e in t)jr[e]={...jr[e],...t[e]}}const uU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uU.has(t)}let hw=t=>!mc(t);function cU(t){t&&(hw=e=>e.startsWith("on")?!mc(e):t(e))}try{cU(require("@emotion/is-prop-valid").default)}catch{}function fU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(hw(o)||n===!0&&mc(o)||!e&&!mc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function hU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Ic=w.createContext({});function kc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jo(t){return typeof t=="string"||Array.isArray(t)}const eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tg=["initial",...eg];function Lc(t){return kc(t.animate)||tg.some(e=>jo(t[e]))}function dw(t){return!!(Lc(t)||t.variants)}function dU(t,e){if(Lc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jo(n)?n:void 0,animate:jo(r)?r:void 0}}return t.inherit!==!1?e:{}}function pU(t){const{initial:e,animate:n}=dU(t,w.useContext(Ic));return w.useMemo(()=>({initial:e,animate:n}),[ZE(e),ZE(n)])}function ZE(t){return Array.isArray(t)?t.join(" "):t}const mU=Symbol.for("motionComponentSymbol");function wr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gU(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wr(n)&&(n.current=r))},[e])}const ng=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yU="framerAppearId",pw="data-"+ng(yU),mw=w.createContext({});function vU(t,e,n,r,o){var N,O;const{visualElement:u}=w.useContext(Ic),c=w.useContext(fw),h=w.useContext(Mc),d=w.useContext(Im).reducedMotion,m=w.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,y=w.useContext(mw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&_U(m.current,n,o,y);const _=w.useRef(!1);w.useInsertionEffect(()=>{g&&_.current&&g.update(n,h)});const S=n[pw],b=w.useRef(!!S&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,S))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,S)));return SC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Zm.render(g.render),b.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,S)}),b.current=!1))}),g}function _U(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gw(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&wr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function gw(t){if(t)return t.options.allowProjection!==!1?t.projection:gw(t.parent)}function EU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&lU(t);function u(h,d){let m;const g={...w.useContext(Im),...h,layoutId:SU(h)},{isStatic:y}=g,_=pU(h),S=r(h,y);if(!y&&Mm){bU();const b=TU(g);m=b.MeasureLayout,_.visualElement=vU(o,S,g,e,b.ProjectionNode)}return Jn.jsxs(Ic.Provider,{value:_,children:[m&&_.visualElement?Jn.jsx(m,{visualElement:_.visualElement,...g}):null,n(o,h,gU(S,_.visualElement,d),S,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=w.forwardRef(u);return c[mU]=o,c}function SU({layoutId:t}){const e=w.useContext(Nm).id;return e&&t!==void 0?e+"-"+t:t}function bU(t,e){w.useContext(fw).strict}function TU(t){const{drag:e,layout:n}=jr;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Fo={};function CU(t){for(const e in t)Fo[e]=t[e],Hm(e)&&(Fo[e].isCSSVariable=!0)}function yw(t,{layout:e,layoutId:n}){return na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fo[t]||t==="opacity")}const Et=t=>!!(t&&t.getVelocity),wU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AU=ta.length;function RU(t,e,n){let r="",o=!0;for(let u=0;u<AU;u++){const c=ta[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=cw(h,$m[c]);if(!d){o=!1;const g=wU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function ig(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(na.has(d)){c=!0;continue}else if(Hm(d)){o[d]=m;continue}else{const g=cw(m,$m[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=RU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${m} ${g}`}}const sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vw(t,e,n){for(const r in e)!Et(e[r])&&!yw(r,n)&&(t[r]=e[r])}function xU({transformTemplate:t},e){return w.useMemo(()=>{const n=sg();return ig(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DU(t,e){const n=t.style||{},r={};return vw(r,n,t),Object.assign(r,xU(t,e)),r}function NU(t,e){const n={},r=DU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const OU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rg(t){return typeof t!="string"||t.includes("-")?!1:!!(OU.indexOf(t)>-1||/[A-Z]/u.test(t))}const MU={offset:"stroke-dashoffset",array:"stroke-dasharray"},IU={offset:"strokeDashoffset",array:"strokeDasharray"};function kU(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?MU:IU;t[u.offset]=ae.transform(-r);const c=ae.transform(e),h=ae.transform(n);t[u.array]=`${c} ${h}`}function _w(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,m){if(ig(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&kU(g,o,u,c,!1)}const Ew=()=>({...sg(),attrs:{}}),Sw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LU(t,e,n,r){const o=w.useMemo(()=>{const u=Ew();return _w(u,e,Sw(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};vw(u,t.style,t),o.style={...u,...o.style}}return o}function PU(t=!1){return(n,r,o,{latestValues:u},c)=>{const d=(rg(n)?LU:NU)(r,u,c,n),m=fU(r,typeof n=="string",t),g=n!==w.Fragment?{...m,...d,ref:o}:{},{children:y}=r,_=w.useMemo(()=>Et(y)?y.get():y,[y]);return w.createElement(n,{...g,children:_})}}function JE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ag(t,e,n,r){if(typeof e=="function"){const[o,u]=JE(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=JE(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function Bu(t){return Et(t)?t.get():t}function UU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:VU(n,r,o,t),renderState:e()}}const bw=t=>(e,n)=>{const r=w.useContext(Ic),o=w.useContext(Mc),u=()=>UU(t,e,r,o);return n?u():Om(u)};function VU(t,e,n,r){const o={},u=r(t,{});for(const _ in u)o[_]=Bu(u[_]);let{initial:c,animate:h}=t;const d=Lc(t),m=dw(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!kc(y)){const _=Array.isArray(y)?y:[y];for(let S=0;S<_.length;S++){const b=ag(t,_[S]);if(b){const{transitionEnd:N,transition:O,...R}=b;for(const V in R){let k=R[V];if(Array.isArray(k)){const G=g?k.length-1:0;k=k[G]}k!==null&&(o[V]=k)}for(const V in N)o[V]=N[V]}}}return o}function og(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Et(r[c])||e.style&&Et(e.style[c])||yw(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const BU={useVisualState:bw({scrapeMotionValuesFromProps:og,createRenderState:sg})};function Tw(t,e,n){const r=og(t,e,n);for(const o in t)if(Et(t[o])||Et(e[o])){const u=ta.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const zU={useVisualState:bw({scrapeMotionValuesFromProps:Tw,createRenderState:Ew})};function HU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...rg(r)?zU:BU,preloadedFeatures:t,useRender:PU(o),createVisualElement:e,Component:r};return EU(c)}}function qo(t,e,n){const r=t.getProps();return ag(r,e,n!==void 0?n:r.custom,t)}const mp=t=>Array.isArray(t);function jU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ho(n))}function FU(t){return mp(t)?t[t.length-1]||0:t}function qU(t,e){const n=qo(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const h=FU(u[c]);jU(t,c,h)}}function GU(t){return!!(Et(t)&&t.add)}function gp(t,e){const n=t.getValue("willChange");if(GU(n))return n.add(e);if(!n&&ai.WillChange){const r=new ai.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Cw(t){return t.props[pw]}const YU=t=>t!==null;function KU(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(YU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const WU={type:"spring",stiffness:500,damping:25,restSpeed:10},XU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QU={type:"keyframes",duration:.8},$U={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZU=(t,{keyframes:e})=>e.length>2?QU:na.has(t)?t.startsWith("scale")?XU(e[1]):WU:$U;function JU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const lg=(t,e,n,r={},o,u)=>c=>{const h=Qm(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-An(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};JU(h)||Object.assign(g,ZU(t,g)),g.duration&&(g.duration=An(g.duration)),g.repeatDelay&&(g.repeatDelay=An(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(ai.instantAnimations||ai.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=KU(g.keyframes,h);if(_!==void 0){He.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new V2(g)};function e3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ww(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||m&&e3(m,g))continue;const S={delay:n,...Qm(u||{},g)},b=y.get();if(b!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===b&&!S.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const R=Cw(t);if(R){const V=window.MotionHandoffAnimation(R,g,He);V!==null&&(S.startTime=V,N=!0)}}gp(t,g),y.start(lg(g,y,_,t.shouldReduceMotion&&nw.has(g)?{type:!1}:S,t,N));const O=y.animation;O&&d.push(O)}return c&&Promise.all(d).then(()=>{He.update(()=>{c&&qU(t,c)})}),d}function yp(t,e,n={}){var d;const r=qo(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(ww(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return t3(t,e,g+m,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,g]=h==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function t3(t,e,n=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(n3).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(yp(m,e,{...u,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function n3(t,e){return t.sortNodePosition(e)}function i3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>yp(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=yp(t,e,n);else{const o=typeof e=="function"?qo(t,e,n.custom):e;r=Promise.all(ww(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Aw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const s3=tg.length;function Rw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s3;n++){const r=tg[n],o=t.props[r];(jo(o)||o===!1)&&(e[r]=o)}return e}const r3=[...eg].reverse(),a3=eg.length;function o3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i3(t,n,r)))}function l3(t){let e=o3(t),n=eS(),r=!0;const o=d=>(m,g)=>{var _;const y=qo(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:S,transitionEnd:b,...N}=y;m={...m,...N,...b}}return m};function u(d){e=d(t)}function c(d){const{props:m}=t,g=Rw(t.parent)||{},y=[],_=new Set;let S={},b=1/0;for(let O=0;O<a3;O++){const R=r3[O],V=n[R],k=m[R]!==void 0?m[R]:g[R],G=jo(k),H=R===d?V.isActive:null;H===!1&&(b=O);let W=k===g[R]&&k!==m[R]&&G;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),V.protectedKeys={...S},!V.isActive&&H===null||!k&&!V.prevProp||kc(k)||typeof k=="boolean")continue;const ee=u3(V.prevProp,k);let Q=ee||R===d&&V.isActive&&!W&&G||O>b&&G,le=!1;const _e=Array.isArray(k)?k:[k];let $e=_e.reduce(o(R),{});H===!1&&($e={});const{prevResolvedValues:Ze={}}=V,Nn={...Ze,...$e},vn=F=>{Q=!0,_.has(F)&&(le=!0,_.delete(F)),V.needsAnimating[F]=!0;const Z=t.getValue(F);Z&&(Z.liveStyle=!1)};for(const F in Nn){const Z=$e[F],be=Ze[F];if(S.hasOwnProperty(F))continue;let C=!1;mp(Z)&&mp(be)?C=!Aw(Z,be):C=Z!==be,C?Z!=null?vn(F):_.add(F):Z!==void 0&&_.has(F)?vn(F):V.protectedKeys[F]=!0}V.prevProp=k,V.prevResolvedValues=$e,V.isActive&&(S={...S,...$e}),r&&t.blockInitialAnimation&&(Q=!1),Q&&(!(W&&ee)||le)&&y.push(..._e.map(F=>({animation:F,options:{type:R}})))}if(_.size){const O={};if(typeof m.initial!="boolean"){const R=qo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);R&&R.transition&&(O.transition=R.transition)}_.forEach(R=>{const V=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),O[R]=V??null}),y.push({animation:O})}let N=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(d,m){var y;if(n[d].isActive===m)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(d,m)}),n[d].isActive=m;const g=c(d);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=eS(),r=!0}}}function u3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Aw(e,t):!1}function vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eS(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class Ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c3 extends Ji{constructor(e){super(e),e.animationState||(e.animationState=l3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let f3=0;class h3 extends Ji{constructor(){super(...arguments),this.id=f3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const d3={animation:{Feature:c3},exit:{Feature:h3}};function Go(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ol(t){return{point:{x:t.pageX,y:t.pageY}}}const p3=t=>e=>Jm(e)&&t(e,ol(e));function To(t,e,n,r){return Go(t,e,p3(n),r)}function xw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function m3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Dw=1e-4,y3=1-Dw,v3=1+Dw,Nw=.01,_3=0-Nw,E3=0+Nw;function bt(t){return t.max-t.min}function S3(t,e,n){return Math.abs(t-e)<=n}function tS(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=bt(n)/bt(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y3&&t.scale<=v3||isNaN(t.scale))&&(t.scale=1),(t.translate>=_3&&t.translate<=E3||isNaN(t.translate))&&(t.translate=0)}function Co(t,e,n,r){tS(t.x,e.x,n.x,r?r.originX:void 0),tS(t.y,e.y,n.y,r?r.originY:void 0)}function nS(t,e,n){t.min=n.min+e.min,t.max=t.min+bt(e)}function b3(t,e,n){nS(t.x,e.x,n.x),nS(t.y,e.y,n.y)}function iS(t,e,n){t.min=e.min-n.min,t.max=t.min+bt(e)}function wo(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}const sS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ar=()=>({x:sS(),y:sS()}),rS=()=>({min:0,max:0}),We=()=>({x:rS(),y:rS()});function nn(t){return[t("x"),t("y")]}function Rd(t){return t===void 0||t===1}function vp({scale:t,scaleX:e,scaleY:n}){return!Rd(t)||!Rd(e)||!Rd(n)}function Ss(t){return vp(t)||Ow(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ow(t){return aS(t.x)||aS(t.y)}function aS(t){return t&&t!=="0%"}function gc(t,e,n){const r=t-n,o=e*r;return n+o}function oS(t,e,n,r,o){return o!==void 0&&(t=gc(t,o,r)),gc(t,n,r)+e}function _p(t,e=0,n=1,r,o){t.min=oS(t.min,e,n,r,o),t.max=oS(t.max,e,n,r,o)}function Mw(t,{x:e,y:n}){_p(t.x,e.translate,e.scale,e.originPoint),_p(t.y,n.translate,n.scale,n.originPoint)}const lS=.999999999999,uS=1.0000000000001;function T3(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=n[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Mw(t,c)),r&&Ss(u.latestValues)&&xr(t,u.latestValues))}e.x<uS&&e.x>lS&&(e.x=1),e.y<uS&&e.y>lS&&(e.y=1)}function Rr(t,e){t.min=t.min+e,t.max=t.max+e}function cS(t,e,n,r,o=.5){const u=ze(t.min,t.max,o);_p(t,e,n,u,r)}function xr(t,e){cS(t.x,e.x,e.scaleX,e.scale,e.originX),cS(t.y,e.y,e.scaleY,e.scale,e.originY)}function Iw(t,e){return xw(g3(t.getBoundingClientRect(),e))}function C3(t,e,n){const r=Iw(t,n),{scroll:o}=e;return o&&(Rr(r.x,o.offset.x),Rr(r.y,o.offset.y)),r}const kw=({current:t})=>t?t.ownerDocument.defaultView:null,fS=(t,e)=>Math.abs(t-e);function w3(t,e){const n=fS(t.x,e.x),r=fS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Lw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Dd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=w3(y.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:b}=y,{timestamp:N}=dt;this.history.push({...b,timestamp:N});const{onStart:O,onMove:R}=this.handlers;_||(O&&O(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=xd(_,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Dd(y.type==="pointercancel"?this.lastMoveEventInfo:xd(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,O),b&&b(y,O)},!Jm(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=ol(e),h=xd(c,this.transformPagePoint),{point:d}=h,{timestamp:m}=dt;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Dd(h,this.history)),this.removeListeners=sl(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yi(this.updatePoint)}}function xd(t,e){return e?{point:e(t.point)}:t}function hS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dd({point:t},e){return{point:t,delta:hS(t,Pw(e)),offset:hS(t,A3(e)),velocity:R3(e,.1)}}function A3(t){return t[0]}function Pw(t){return t[t.length-1]}function R3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Pw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>An(e)));)n--;if(!r)return{x:0,y:0};const u=Rn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function x3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function dS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function D3(t,{top:e,left:n,bottom:r,right:o}){return{x:dS(t.x,n,o),y:dS(t.y,e,r)}}function pS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function N3(t,e){return{x:pS(t.x,e.x),y:pS(t.y,e.y)}}function O3(t,e){let n=.5;const r=bt(t),o=bt(e);return o>r?n=Vo(e.min,e.max-r,t.min):r>o&&(n=Vo(t.min,t.max-o,e.min)),ri(0,1,n)}function M3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ep=.35;function I3(t=Ep){return t===!1?t=0:t===!0&&(t=Ep),{x:mS(t,"left","right"),y:mS(t,"top","bottom")}}function mS(t,e,n){return{min:gS(t,e),max:gS(t,n)}}function gS(t,e){return typeof t=="number"?t:t[e]||0}const k3=new WeakMap;class L3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ol(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:S,onDragStart:b}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z2(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(O=>{let R=this.getAxisMotionValue(O).get()||0;if(xn.test(R)){const{projection:V}=this.visualElement;if(V&&V.layout){const k=V.layout.layoutBox[O];k&&(R=bt(k)*(parseFloat(R)/100))}}this.originPoint[O]=R}),b&&He.postRender(()=>b(g,y)),gp(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:b,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:O}=y;if(S&&this.currentDirection===null){this.currentDirection=P3(O),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,O),this.updateAxis("y",y.point,O),this.visualElement.render(),N&&N(g,y)},h=(g,y)=>this.stop(g,y),d=()=>nn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Lw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:kw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&He.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Nu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=x3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&wr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=D3(r.layoutBox,e):this.constraints=!1,this.elastic=I3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=M3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=C3(r,o.root,this.visualElement.getTransformPagePoint());let c=N3(o.layout.layoutBox,u);if(n){const h=n(m3(c));this.hasMutatedConstraints=!!h,h&&(c=xw(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=nn(g=>{if(!Nu(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,b)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gp(this.visualElement,e),r.start(lg(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!Nu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];u.set(e[n]-ze(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=O3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(c=>{if(!Nu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(ze(d,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const e=this.visualElement.current,n=To(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();wr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(r);const c=Go(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(nn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ep,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function P3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U3 extends Ji{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new L3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const yS=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class V3 extends Ji{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new Lw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:yS(e),onStart:yS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&He.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=vS(t,e.target.x),r=vS(t,e.target.y);return`${n}% ${r}%`}},B3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Ki.parse(t);if(o.length>5)return r;const u=Ki.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const m=ze(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),u(o)}};class z3 extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;CU(H3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||He.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Uw(t){const[e,n]=bC(),r=w.useContext(Nm);return Jn.jsx(z3,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(mw),isPresent:e,safeToRemove:n})}const H3={borderRadius:{...lo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lo,borderTopRightRadius:lo,borderBottomLeftRadius:lo,borderBottomRightRadius:lo,boxShadow:B3};function j3(t,e,n){const r=Et(t)?t:Ho(t);return r.start(lg("",r,e,n)),r.animation}function F3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const q3=(t,e)=>t.depth-e.depth;class G3{constructor(){this.children=[],this.isDirty=!1}add(e){km(this.children,e),this.isDirty=!0}remove(e){Lm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q3),this.isDirty=!1,this.children.forEach(e)}}function Y3(t,e){const n=Mt.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(Yi(r),t(u-e))};return He.setup(r,!0),()=>Yi(r)}const Vw=["TopLeft","TopRight","BottomLeft","BottomRight"],K3=Vw.length,_S=t=>typeof t=="string"?parseFloat(t):t,ES=t=>typeof t=="number"||ae.test(t);function W3(t,e,n,r,o,u){o?(t.opacity=ze(0,n.opacity??1,X3(r)),t.opacityExit=ze(e.opacity??1,0,Q3(r))):u&&(t.opacity=ze(e.opacity??1,n.opacity??1,r));for(let c=0;c<K3;c++){const h=`border${Vw[c]}Radius`;let d=SS(e,h),m=SS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||ES(d)===ES(m)?(t[h]=Math.max(ze(_S(d),_S(m),r),0),(xn.test(m)||xn.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function SS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X3=Bw(0,.5,MC),Q3=Bw(.5,.95,sn);function Bw(t,e,n){return r=>r<t?0:r>e?1:n(Vo(t,e,r))}function bS(t,e){t.min=e.min,t.max=e.max}function tn(t,e){bS(t.x,e.x),bS(t.y,e.y)}function TS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CS(t,e,n,r,o){return t-=e,t=gc(t,1/n,r),o!==void 0&&(t=gc(t,1/o,r)),t}function $3(t,e=0,n=1,r=.5,o,u=t,c=t){if(xn.test(e)&&(e=parseFloat(e),e=ze(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=ze(u.min,u.max,r);t===u&&(h-=e),t.min=CS(t.min,e,n,h,o),t.max=CS(t.max,e,n,h,o)}function wS(t,e,[n,r,o],u,c){$3(t,e[n],e[r],e[o],e.scale,u,c)}const Z3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function AS(t,e,n,r){wS(t.x,e,Z3,n?n.x:void 0,r?r.x:void 0),wS(t.y,e,J3,n?n.y:void 0,r?r.y:void 0)}function RS(t){return t.translate===0&&t.scale===1}function zw(t){return RS(t.x)&&RS(t.y)}function xS(t,e){return t.min===e.min&&t.max===e.max}function eV(t,e){return xS(t.x,e.x)&&xS(t.y,e.y)}function DS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Hw(t,e){return DS(t.x,e.x)&&DS(t.y,e.y)}function NS(t){return bt(t.x)/bt(t.y)}function OS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tV{constructor(){this.members=[]}add(e){km(this.members,e),e.scheduleRender()}remove(e){if(Lm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nV(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:_,skewX:S,skewY:b}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),b&&(r+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Nd=["","X","Y","Z"],iV={visibility:"hidden"},MS=1e3;let sV=0;function Od(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Cw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jw(r)}function Fw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=sV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oV),this.nodes.forEach(hV),this.nodes.forEach(dV),this.nodes.forEach(lV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new G3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vm),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=Y3(_,250),zu.hasAnimatedSinceResize&&(zu.hasAnimatedSinceResize=!1,this.nodes.forEach(kS))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||vV,{onLayoutAnimationStart:O,onLayoutAnimationComplete:R}=g.getProps(),V=!this.targetLayout||!Hw(this.targetLayout,b),k=!_&&S;if(this.options.layoutRoot||this.resumeFrom||k||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const G={...Qm(N,"layout"),onPlay:O,onComplete:R};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||kS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IS);return}this.isUpdating||this.nodes.forEach(cV),this.isUpdating=!1,this.nodes.forEach(fV),this.nodes.forEach(rV),this.nodes.forEach(aV),this.clearAllSnapshots();const h=Mt.now();dt.delta=ri(0,1e3/60,h-dt.timestamp),dt.timestamp=h,dt.isProcessing=!0,bd.update.process(dt),bd.preRender.process(dt),bd.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uV),this.sharedNodes.forEach(mV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bt(this.snapshot.measuredBox.x)&&!bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zw(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||Ss(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),_V(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return We();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(EV))){const{scroll:g}=this.root;g&&(Rr(h.x,g.offset.x),Rr(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=We();if(tn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&tn(h,c),Rr(h.x,y.offset.x),Rr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=We();tn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&xr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ss(g.latestValues)&&xr(d,g.latestValues)}return Ss(this.latestValues)&&xr(d,this.latestValues),d}removeTransform(c){const h=We();tn(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ss(m.latestValues))continue;vp(m.latestValues)&&m.updateSnapshot();const g=We(),y=m.measurePageBox();tn(g,y),AS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ss(this.latestValues)&&AS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),wo(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),Mw(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),wo(this.relativeTargetOrigin,this.target,S.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vp(this.parent.latestValues)||Ow(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;tn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;T3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=We());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TS(this.prevProjectionDelta.x,this.projectionDelta.x),TS(this.prevProjectionDelta.y,this.projectionDelta.y)),Co(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!OS(this.projectionDelta.x,this.prevProjectionDelta.x)||!OS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ar(),this.projectionDelta=Ar(),this.projectionDeltaWithTransform=Ar()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=Ar();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=We(),S=d?d.source:void 0,b=this.layout?this.layout.source:void 0,N=S!==b,O=this.getStack(),R=!O||O.members.length<=1,V=!!(N&&!R&&this.options.crossfade===!0&&!this.path.some(yV));this.animationProgress=0;let k;this.mixTargetDelta=G=>{const H=G/1e3;LS(y.x,c.x,H),LS(y.y,c.y,H),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wo(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gV(this.relativeTarget,this.relativeTargetOrigin,_,H),k&&eV(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=We()),tn(k,this.relativeTarget)),N&&(this.animationValues=g,W3(g,m,this.latestValues,H,V,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{zu.hasAnimatedSinceResize=!0,this.currentAnimation=j3(0,MS,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&qw(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||We();const y=bt(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=bt(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}tn(h,d),xr(h,g),Co(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new tV),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Od("z",c,m,this.animationValues);for(let g=0;g<Nd.length;g++)Od(`rotate${Nd[g]}`,c,m,this.animationValues),Od(`skew${Nd[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return iV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Bu(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Bu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ss(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=nV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Fo){if(g[S]===void 0)continue;const{correct:b,applyTo:N,isCSSVariable:O}=Fo[S],R=h.transform==="none"?g[S]:b(g[S],m);if(N){const V=N.length;for(let k=0;k<V;k++)h[N[k]]=R}else O?this.options.visualElement.renderState.vars[S]=R:h[S]=R}return this.options.layoutId&&(h.pointerEvents=m===this?Bu(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(IS),this.root.sharedNodes.clear()}}}function rV(t){t.updateLayout()}function aV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?nn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=bt(_);_.min=r[y].min,_.max=_.min+S}):qw(u,e.layoutBox,r)&&nn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=bt(r[y]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const h=Ar();Co(h,r,e.layoutBox);const d=Ar();c?Co(d,t.applyTransform(o,!0),e.measuredBox):Co(d,r,e.layoutBox);const m=!zw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const b=We();wo(b,e.layoutBox,_.layoutBox);const N=We();wo(N,r,S.layoutBox),Hw(b,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uV(t){t.clearSnapshot()}function IS(t){t.clearMeasurements()}function cV(t){t.isLayoutDirty=!1}function fV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hV(t){t.resolveTargetDelta()}function dV(t){t.calcProjection()}function pV(t){t.resetSkewAndRotation()}function mV(t){t.removeLeadSnapshot()}function LS(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function PS(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function gV(t,e,n,r){PS(t.x,e.x,n.x,r),PS(t.y,e.y,n.y,r)}function yV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vV={duration:.45,ease:[.4,0,.1,1]},US=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VS=US("applewebkit/")&&!US("chrome/")?Math.round:sn;function BS(t){t.min=VS(t.min),t.max=VS(t.max)}function _V(t){BS(t.x),BS(t.y)}function qw(t,e,n){return t==="position"||t==="preserve-aspect"&&!S3(NS(e),NS(n),.2)}function EV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const SV=Fw({attachResizeListener:(t,e)=>Go(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Md={current:void 0},Gw=Fw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Md.current){const t=new SV({});t.mount(window),t.setOptions({layoutScroll:!0}),Md.current=t}return Md.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bV={pan:{Feature:V3},drag:{Feature:U3,ProjectionNode:Gw,MeasureLayout:Uw}};function zS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&He.postRender(()=>u(e,ol(e)))}class TV extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=J2(e,(n,r)=>(zS(this.node,r,"Start"),o=>zS(this.node,o,"End"))))}unmount(){}}class CV extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(Go(this.node.current,"focus",()=>this.onFocus()),Go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&He.postRender(()=>u(e,ol(e)))}class wV extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=iU(e,(n,r)=>(HS(this.node,r,"Start"),(o,{success:u})=>HS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sp=new WeakMap,Id=new WeakMap,AV=t=>{const e=Sp.get(t.target);e&&e(t)},RV=t=>{t.forEach(AV)};function xV({root:t,...e}){const n=t||document;Id.has(n)||Id.set(n,{});const r=Id.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(RV,{root:t,...e})),r[o]}function DV(t,e,n){const r=xV(e);return Sp.set(t,n),r.observe(t),()=>{Sp.delete(t),r.unobserve(t)}}const NV={some:0,all:1};class OV extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:NV[o]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=m?g:y;_&&_(d)};return DV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MV(e,n))&&this.startObserver()}unmount(){}}function MV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IV={inView:{Feature:OV},tap:{Feature:wV},focus:{Feature:CV},hover:{Feature:TV}},kV={layout:{ProjectionNode:Gw,MeasureLayout:Uw}},bp={current:null},Yw={current:!1};function LV(){if(Yw.current=!0,!!Mm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bp.current=t.matches;t.addListener(e),e()}else bp.current=!1}const PV=new WeakMap;function UV(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Et(o))t.addValue(r,o);else if(Et(u))t.addValue(r,Ho(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Ho(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Mt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,He.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Lc(n),this.isVariantNode=dw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const S=y[_];d[_]!==void 0&&Et(S)&&S.set(d[_],!1)}}mount(e){this.current=e,PV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Yw.current||LV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yi(this.notifyUpdate),Yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=na.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jr){const n=jr[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jS.length;r++){const o=jS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=UV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ho(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(TC(r)||CC(r))?r=parseFloat(r):!oU(r)&&Ki.test(n)&&(r=aw(e,n)),this.setBaseTarget(e,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=ag(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Et(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Kw extends VV{constructor(){super(...arguments),this.KeyframeResolver=Q2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ww(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function BV(t){return window.getComputedStyle(t)}class zV extends Kw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ww}readValueFromInstance(e,n){if(na.has(n))return m2(e,n);{const r=BV(e),o=(Hm(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Iw(e,n)}build(e,n,r){ig(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return og(e,n,r)}}const Xw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HV(t,e,n,r){Ww(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Xw.has(o)?o:ng(o),e.attrs[o])}class jV extends Kw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=We}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(na.has(n)){const r=rw(n);return r&&r.default||0}return n=Xw.has(n)?n:ng(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Tw(e,n,r)}build(e,n,r){_w(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){HV(e,n,r,o)}mount(e){this.isSVGTag=Sw(e.tagName),super.mount(e)}}const FV=(t,e)=>rg(t)?new jV(e):new zV(e,{allowProjection:t!==w.Fragment}),qV=HU({...d3,...IV,...bV,...kV},FV),GV=hU(qV),Tp=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],YV=6e4,Qw=w.createContext({currentIndex:0}),KV=({children:t})=>{const[e,n]=w.useState(0);return w.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Tp.length)},YV);return()=>clearInterval(r)},[]),X.createElement(Qw.Provider,{value:{currentIndex:e}},t)},Pc=()=>{const{currentIndex:t}=w.useContext(Qw);return{backgroundElement:X.createElement(hP,{mode:"wait"},X.createElement(GV.div,{key:t,className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Tp[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}})),currentIndex:t,imageUrl:Tp[t]}},WV=()=>{const t=Yr(),{backgroundElement:e}=Pc();return X.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},e,X.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},X.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},""),X.createElement("p",{className:"text-gray-300 text-sm mb-2"},""),X.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),X.createElement("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"")))};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),FS=t=>{const e=QV(t);return e.charAt(0).toUpperCase()+e.slice(1)},$w=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),$V=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>w.createElement("svg",{ref:d,...ZV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$w("lucide",o),...!u&&!$V(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=(t,e)=>{const n=w.forwardRef(({className:r,...o},u)=>w.createElement(JV,{ref:u,iconNode:e,className:$w(`lucide-${XV(FS(t))}`,`lucide-${t}`,r),...o}));return n.displayName=FS(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tB=Zw("eye-off",eB);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iB=Zw("eye",nB),sB=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(""),[o,u]=w.useState(""),[c,h]=w.useState(!1),[d,m]=w.useState(""),[g,y]=w.useState(!1),_=Yr(),{backgroundElement:S}=Pc();w.useRef(null),w.useRef(null),w.useEffect(()=>{r(""),u(""),m("")},[t]);const b=async O=>{O.preventDefault(),m(""),y(!0);try{t?(await MO(Fi,n,o),_("/profile")):(await IO(Fi,n,o),_("/chat"))}catch(R){m(R.message)}finally{y(!1)}},N=async()=>{const O=new Yn;try{await iM(Fi,O),_("/chat")}catch(R){m(R.message)}};return X.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},S,X.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},X.createElement("div",{className:"flex justify-center space-x-4"},X.createElement("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),X.createElement("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),X.createElement("form",{onSubmit:b,className:"space-y-4"},X.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:O=>r(O.target.value),required:!0}),X.createElement("div",{className:"relative"},X.createElement("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:O=>u(O.target.value),required:!0}),X.createElement("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password"},c?X.createElement(tB,{size:20}):X.createElement(iB,{size:20}))),d&&X.createElement("p",{className:"text-red-400 text-sm text-center"},d),X.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},t?"Sign Up":"Login")),X.createElement("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},X.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),X.createElement("p",{className:"text-center text-sm text-white/80"},t?"Already have an account?":"Don't have an account?"," ",X.createElement("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition"},t?"Login":"Sign up"))))},rB=()=>{const{backgroundElement:t}=Pc(),[e,n]=w.useState([]),[r,o]=w.useState(""),u=Yr(),c=w.useRef(null),h=()=>{u("/profile")},d=fc();w.useEffect(()=>{const y=cc(d,"messages");XL(y,_=>{const S=_.val();S&&n(b=>[...b,{id:_.key||Date.now().toString(),text:S.text,sender:S.sender}])})},[]),w.useEffect(()=>{var y;(y=c.current)==null||y.scrollIntoView({behavior:"smooth"})},[e]);const m=async y=>{if(y.preventDefault(),r.trim()==="")return;const _=Fi.currentUser;if(!_){alert(""),u("/login");return}const S=cc(d,"messages");await KL(S,{text:r,sender:_.uid}),o("")},g=async()=>{await UO(Fi),u("/")};return X.createElement("div",{className:"relative min-h-screen w-full flex flex-col font-zen bg-black text-white overflow-hidden"},t,X.createElement("div",{className:"z-10 flex justify-between items-center p-4 bg-black/50 backdrop-blur-md border-b border-white/10"},X.createElement("h1",{className:"text-xl font-bold"},""),X.createElement("button",{onClick:h,className:"text-[#bfa382] hover:text-white font-semibold transition"},"Profile"),X.createElement("button",{onClick:g,className:"text-[#bfa382] hover:text-white font-semibold transition"},"Logout")),X.createElement("div",{className:"z-10 flex-1 overflow-y-auto flex flex-col gap-4 p-4"},e.map(y=>{var S;const _=y.sender===((S=Fi.currentUser)==null?void 0:S.uid);return X.createElement("div",{key:y.id,className:`flex ${_?"justify-end":"justify-start"}`},X.createElement("div",{className:`${_?"bg-[#bfa382] text-white":"bg-white/90 text-black"} p-3 rounded-2xl max-w-xs break-words`},y.text))}),X.createElement("div",{ref:c})),X.createElement("form",{onSubmit:m,className:"z-10 flex items-center gap-2 p-4 border-t border-white/10 bg-black/50 backdrop-blur-md"},X.createElement("input",{type:"text",value:r,onChange:y=>o(y.target.value),placeholder:"Type your message...",className:"flex-1 rounded-full bg-white/90 text-black px-4 py-2 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"}),X.createElement("button",{type:"submit",className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full hover:scale-105 hover:brightness-110 transition"},"Send")))},aB=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(null),[o,u]=w.useState(""),[c,h]=w.useState(!0),d=Yr(),m="dhtqetylj",g="Chatroom_Avatars",y=Fi.currentUser,_=w.useRef(null),{backgroundElement:S}=Pc();w.useEffect(()=>{if(!y){d("/login");return}const R=fc(),V=cc(R,`users/${y.uid}`);WL(V,k=>{const G=k.val();G&&(e(G.nickname||""),u(G.avatarUrl||"")),h(!1)})},[y,d]);async function b(R){const V=new FormData;return V.append("file",R),V.append("upload_preset",g),V.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${m}/image/upload`,{method:"POST",body:V})).json()).secure_url}const N=async()=>{if(!y)return;const R=fc(),V=cc(R,`users/${y.uid}`);let k=o;n&&(k=await b(n)),await vC(V,{nickname:t,avatarUrl:k}),d("/chat")},O=R=>{var k;const V=(k=R.target.files)==null?void 0:k[0];V&&(r(V),u(URL.createObjectURL(V)))};return c?X.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading Profile..."):X.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4"},S,X.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center"},X.createElement("h1",{className:"text-2xl font-bold mb-4 text-center text-white"},"Update Your Profile"),X.createElement("div",{className:"relative"},X.createElement("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var R;return(R=_.current)==null?void 0:R.click()}}),X.createElement("input",{type:"file",accept:"image/*",ref:_,onChange:O,className:"hidden"})),X.createElement("input",{type:"text",value:t,onChange:R=>e(R.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),X.createElement("button",{onClick:N,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition"},"Save")))};function oB(){const[t,e]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{const o=PO(Fi,u=>{e(u),r(!1)});return()=>o()},[]),n?X.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading..."):X.createElement(Fx,null,X.createElement(_x,null,X.createElement(uo,{path:"/",element:t?X.createElement(rd,{to:"/chat"}):X.createElement(WV,null)}),X.createElement(uo,{path:"/login",element:X.createElement(sB,null)}),X.createElement(uo,{path:"/chat",element:t?X.createElement(rB,null):X.createElement(rd,{to:"/login"})}),X.createElement(uo,{path:"/profile",element:t?X.createElement(aB,null):X.createElement(rd,{to:"/login"})})))}D1.createRoot(document.getElementById("root")).render(X.createElement(X.StrictMode,null,X.createElement(KV,null,X.createElement(oB,null))));
